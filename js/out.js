!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=29)}([function(t,e,n){(function(e){var r,i=n(15),o=n(32),s=n(33),a=Array.prototype.slice,u={};r=void 0!==e&&e.console?e.console:"undefined"!=typeof window&&window.console?window.console:{};for(var c=[[function(){},"log"],[function(){r.log.apply(r,arguments)},"info"],[function(){r.log.apply(r,arguments)},"warn"],[function(){r.warn.apply(r,arguments)},"error"],[function(t){u[t]=s()},"time"],[function(t){var e=u[t];if(!e)throw new Error("No such label: "+t);var n=s()-e;r.log(t+": "+n+"ms")},"timeEnd"],[function(){var t=new Error;t.name="Trace",t.message=i.format.apply(null,arguments),r.error(t.stack)},"trace"],[function(t){r.log(i.inspect(t)+"\n")},"dir"],[function(t){if(!t){var e=a.call(arguments,1);o.ok(!1,i.format.apply(null,e))}},"assert"]],l=0;l<c.length;l++){var h=c[l],p=h[0],f=h[1];r[f]||(r[f]=p)}t.exports=r}).call(e,n(1))},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){(function(e,n){var r;r=function(){"use strict";var t,r={el:void 0,append:!1,template:null,delimiters:["{{","}}"],tripleDelimiters:["{{{","}}}"],staticDelimiters:["[[","]]"],staticTripleDelimiters:["[[[","]]]"],csp:!0,interpolate:!1,preserveWhitespace:!1,sanitize:!1,stripComments:!0,contextLines:0,data:{},computed:{},magic:!1,modifyArrays:!1,adapt:[],isolated:!1,twoway:!0,lazy:!1,noIntro:!1,transitionsEnabled:!0,complete:void 0,css:null,noCssTransform:!1},i={linear:function(t){return t},easeIn:function(t){return Math.pow(t,3)},easeOut:function(t){return Math.pow(t-1,3)+1},easeInOut:function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)}},o="undefined"!=typeof window?window:null,s=o?document:null,a=!!s,u=("undefined"!=typeof navigator&&/jsDom/.test(navigator.appName),void 0!==e&&"function"==typeof e.warn&&"function"==typeof e.warn.apply);try{Object.defineProperty({},"test",{value:0}),t=!0}catch(e){t=!1}var c,l,h,p,f,d,g,m,v,y=!!s&&s.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),b=["o","ms","moz","webkit"],w="http://www.w3.org/1999/xhtml",D="http://www.w3.org/2000/svg",C={html:w,mathml:"http://www.w3.org/1998/Math/MathML",svg:D,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns"};function x(){return s.createDocumentFragment()}function E(t){var e;if(t&&"boolean"!=typeof t)return o&&s&&t?t.nodeType?t:"string"==typeof t&&(!(e=s.getElementById(t))&&s.querySelector&&(e=s.querySelector(t)),e&&e.nodeType)?e:t[0]&&t[0].nodeType?t[0]:null:null}if(c=y?function(t,e,n){return e&&e!==w?n?s.createElementNS(e,t,n):s.createElementNS(e,t):n?s.createElement(t,n):s.createElement(t)}:function(t,e,n){if(e&&e!==w)throw"This browser does not support namespaces other than http://www.w3.org/1999/xhtml. The most likely cause of this error is that you're trying to render SVG in an older browser. See http://docs.ractivejs.org/latest/svg-and-older-browsers for more information";return n?s.createElement(t,n):s.createElement(t)},a){for(h=c("div"),v=function(t){return function(e,n){return e[t](n)}},g=(p=["matches","matchesSelector"]).length;g--&&!l;)if(h[f=p[g]])l=v(f);else for(m=b.length;m--;)if(d=b[g]+f.substr(0,1).toUpperCase()+f.substring(1),h[d]){l=v(d);break}l||(l=function(t,e){var n,r,i;for((r=t.parentNode)||(h.innerHTML="",r=h,t=t.cloneNode(),h.appendChild(t)),i=(n=r.querySelectorAll(e)).length;i--;)if(n[i]===t)return!0;return!1})}else l=null;function A(t){return t&&"unknown"!=typeof t.parentNode&&t.parentNode&&t.parentNode.removeChild(t),t}function F(t){return null!=t&&t.toString?""+t:""}function _(t){return F(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}var k,S,T,O,B=/[A-Z]/g;function N(t){return t.replace(B,function(t){return"-"+t.toLowerCase()})}try{Object.defineProperty({},"test",{get:function(){},set:function(){}}),s&&Object.defineProperty(c("div"),"test",{value:0}),S=Object.defineProperty}catch(t){S=function(t,e,n){n.get?t[e]=n.get():t[e]=n.value}}try{try{Object.defineProperties({},{test:{value:0}})}catch(t){throw t}s&&Object.defineProperties(c("div"),{test:{value:0}}),T=Object.defineProperties}catch(t){T=function(t,e){var n;for(n in e)e.hasOwnProperty(n)&&S(t,n,e[n])}}try{Object.create(null),k=Object.create}catch(t){O=function(){},k=function(t,e){var n;return null===t?{}:(O.prototype=t,n=new O,e&&Object.defineProperties(n,e),n)}}function I(t){for(var e,n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];return n.forEach(function(n){for(e in n)R.call(n,e)&&(t[e]=n[e])}),t}var R=Object.prototype.hasOwnProperty,j=Object.prototype.toString;function P(t){return"[object Array]"===j.call(t)}function M(t,e){return null===t&&null===e||"object"!=typeof t&&"object"!=typeof e&&t===e}function L(t){return!isNaN(parseFloat(t))&&isFinite(t)}function z(t){return t&&"[object Object]"===j.call(t)}function $(){}var q,U,V,H={};if(u){var W=["%cRactive.js %c0.8.14 %cin debug mode, %cmore...","color: rgb(114, 157, 52); font-weight: normal;","color: rgb(85, 85, 85); font-weight: normal;","color: rgb(85, 85, 85); font-weight: normal;","color: rgb(82, 140, 224); font-weight: normal; text-decoration: underline;"];V=function(){if(!1!==ih.WELCOME_MESSAGE){var t="WELCOME_MESSAGE"in ih?ih.WELCOME_MESSAGE:"You're running Ractive 0.8.14 in debug mode - messages will be printed to the console to help you fix problems and optimise your application.\n\nTo disable debug mode, add this line at the start of your app:\n  Ractive.DEBUG = false;\n\nTo disable debug mode when your app is minified, add this snippet:\n  Ractive.DEBUG = /unminified/.test(function(){/*unminified*/});\n\nGet help and support:\n  http://docs.ractivejs.org\n  http://stackoverflow.com/questions/tagged/ractivejs\n  http://groups.google.com/forum/#!forum/ractive-js\n  http://twitter.com/ractivejs\n\nFound a bug? Raise an issue:\n  https://github.com/ractivejs/ractive/issues\n\n",n=!!e.groupCollapsed;n&&e.groupCollapsed.apply(e,W),e.log(t),n&&e.groupEnd(W),V=$}else V=$},U=function(t,n){if(V(),"object"==typeof n[n.length-1]){var r,i,o=n.pop(),s=o?o.ractive:null;if(s)s.component&&(r=s.component.name)&&(t="<"+r+"> "+t),(i=o.node||s.fragment&&s.fragment.rendered&&s.find("*"))&&n.push(i)}e.warn.apply(e,["%cRactive.js: %c"+t,"color: rgb(114, 157, 52);","color: rgb(85, 85, 85);"].concat(n))},q=function(){e.log.apply(e,arguments)}}else U=q=V=$;function K(t,e){return t.replace(/%s/g,function(){return e.shift()})}function G(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];throw t=K(t,e),new Error(t)}function Y(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];t=K(t,e),H[t]||(H[t]=!0,U(t,e))}function X(){ih.DEBUG&&function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];t=K(t,e),U(t,e)}.apply(null,arguments)}function Q(){ih.DEBUG&&Y.apply(null,arguments)}var J="Bad arguments",Z='A function was specified for "%s" %s, but no %s was returned',tt=function(t,e){return'Missing "'+t+'" '+e+" plugin. You may need to download a plugin via http://docs.ractivejs.org/latest/plugins#"+e+"s"};function et(t,e,n){var r=nt(t,e,n);return r?r[t][n]:null}function nt(t,e,n){for(;e;){if(n in e[t])return e;if(e.isolated)return null;e=e.parent}}function rt(t,e,n,r){if(t===e)return null;if(r){var i=et("interpolators",n,r);if(i)return i(t,e)||null;G(tt(r,"interpolator"))}return st.number(t,e)||st.array(t,e)||st.object(t,e)||null}function it(t){return function(){return t}}var ot,st={number:function(t,e){var n;return L(t)&&L(e)?(n=(e=+e)-(t=+t))?function(e){return t+e*n}:function(){return t}:null},array:function(t,e){var n,r,i,o;if(!P(t)||!P(e))return null;for(n=[],r=[],o=i=Math.min(t.length,e.length);o--;)r[o]=rt(t[o],e[o]);for(o=i;o<t.length;o+=1)n[o]=t[o];for(o=i;o<e.length;o+=1)n[o]=e[o];return function(t){for(var e=i;e--;)n[e]=r[e](t);return n}},object:function(t,e){var n,r,i,o,s;if(!z(t)||!z(e))return null;for(s in n=[],o={},i={},t)R.call(t,s)&&(R.call(e,s)?(n.push(s),i[s]=rt(t[s],e[s])||it(e[s])):o[s]=t[s]);for(s in e)R.call(e,s)&&!R.call(t,s)&&(o[s]=e[s]);return r=n.length,function(t){for(var e,s=r;s--;)e=n[s],o[e]=i[e](t);return o}}},at={construct:{deprecated:"beforeInit",replacement:"onconstruct"},render:{deprecated:"init",message:'The "init" method has been deprecated and will likely be removed in a future release. You can either use the "oninit" method which will fire only once prior to, and regardless of, any eventual ractive instance being rendered, or if you need to access the rendered DOM, use "onrender" instead. See http://docs.ractivejs.org/latest/migrating for more information.'},complete:{deprecated:"complete",replacement:"oncomplete"}},ut=function(t){this.event=t,this.method="on"+t,this.deprecate=at[t]};function ct(t,e){-1===t.indexOf(e)&&t.push(e)}function lt(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]==e)return!0;return!1}function ht(t){return"string"==typeof t?[t]:void 0===t?[]:t}function pt(t){return t[t.length-1]}function ft(t,e){if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}}function dt(t){for(var e=[],n=t.length;n--;)e[n]=t[n];return e}ut.prototype.call=function(t,e,n){if(e[t])return n?e[t](n):e[t](),!0},ut.prototype.fire=function(t,e){this.call(this.method,t,e),!t[this.method]&&this.deprecate&&this.call(this.deprecate.deprecated,t,e)&&(this.deprecate.message?X(this.deprecate.message):X('The method "%s" has been deprecated in favor of "%s" and will likely be removed in a future release. See http://docs.ractivejs.org/latest/migrating for more information.',this.deprecate.deprecated,this.deprecate.replacement)),e?t.fire(this.event,e):t.fire(this.event)};var gt={},mt={},vt={};"function"==typeof Promise?ot=Promise:((ot=function(t){var e,n,r,i,o,s=[],a=[],u=gt;r=(n=function(t){return function(n){u===gt&&bt(e=function(t,e){return function(){for(var n;n=t.shift();)n(e)}}((u=t)===mt?s:a,n))}})(mt),i=n(vt);try{t(r,i)}catch(t){i(t)}return(o={then:function(t,n){var r=new ot(function(i,o){var c=function(t,e,n){"function"==typeof t?e.push(function(e){var n;try{n=t(e),function t(e,n,r,i){var o;if(n===e)throw new TypeError("A promise's fulfillment handler cannot return the same promise");if(n instanceof ot)n.then(r,i);else if(!n||"object"!=typeof n&&"function"!=typeof n)r(n);else{try{o=n.then}catch(t){return void i(t)}if("function"==typeof o){var s,a,u;a=function(n){s||(s=!0,t(e,n,r,i))},u=function(t){s||(s=!0,i(t))};try{o.call(n,a,u)}catch(t){if(!s)return i(t),void(s=!0)}}else r(n)}}(r,n,i,o)}catch(t){o(t)}}):e.push(n)};c(t,s,i),c(n,a,o),u!==gt&&bt(e)});return r}}).catch=function(t){return this.then(null,t)},o}).all=function(t){return new ot(function(e,n){var r,i,o,s=[];if(t.length)for(o=function(t,i){t&&"function"==typeof t.then?t.then(function(t){s[i]=t,--r||e(s)},n):(s[i]=t,--r||e(s))},r=i=t.length;i--;)o(t[i],i);else e(s)})},ot.resolve=function(t){return new ot(function(e){e(t)})},ot.reject=function(t){return new ot(function(e,n){n(t)})});var yt=ot;function bt(t){setTimeout(t,0)}var wt=function(t,e){this.callback=t,this.parent=e,this.intros=[],this.outros=[],this.children=[],this.totalChildren=this.outroChildren=0,this.detachQueue=[],this.outrosComplete=!1,e&&e.addChild(this)};function Dt(t){t.detach()}function Ct(t){t.detachNodes()}function xt(t){!t.ready||t.outros.length||t.outroChildren||(t.outrosComplete||(t.outrosComplete=!0,t.parent&&!t.parent.outrosComplete?t.parent.decrementOutros(t):t.detachNodes()),t.intros.length||t.totalChildren||("function"==typeof t.callback&&t.callback(),t.parent&&!t.notifiedTotal&&(t.notifiedTotal=!0,t.parent.decrementTotal())))}wt.prototype.add=function(t){(t.isIntro?this.intros:this.outros).push(t)},wt.prototype.addChild=function(t){this.children.push(t),this.totalChildren+=1,this.outroChildren+=1},wt.prototype.decrementOutros=function(){this.outroChildren-=1,xt(this)},wt.prototype.decrementTotal=function(){this.totalChildren-=1,xt(this)},wt.prototype.detachNodes=function(){this.detachQueue.forEach(Dt),this.children.forEach(Ct),this.detachQueue=[]},wt.prototype.ready=function(){!function(t){var e,n,r=t.detachQueue,i=function t(e,n){if(n){for(var r=e.children.length;r--;)n=t(e.children[r],n);return n=n.concat(e.outros)}n=[];for(var i=e;i.parent;)i=i.parent;return t(i,n)}(t),o=r.length,s=0;t:for(;o--;){for(e=r[o].node,s=i.length;s--;)if((n=i[s].element.node)===e||n.contains(e)||e.contains(n))continue t;r[o].detach(),r.splice(o,1)}}(this)},wt.prototype.remove=function(t){ft(t.isIntro?this.intros:this.outros,t),xt(this)},wt.prototype.start=function(){this.children.forEach(function(t){return t.start()}),this.intros.concat(this.outros).forEach(function(t){return t.start()}),this.ready=!0,xt(this)};var Et,At=new ut("change"),Ft={start:function(t,e){var n,r;return e&&(n=new yt(function(t){return r=t})),Et={previousBatch:Et,transitionManager:new wt(r,Et&&Et.transitionManager),fragments:[],tasks:[],immediateObservers:[],deferredObservers:[],ractives:[],instance:t},n},end:function(){!function t(){var e=Et.immediateObservers;Et.immediateObservers=[];e.forEach(_t);var n=Et.fragments.length;var r;e=Et.fragments;Et.fragments=[];var i=Et.ractives;Et.ractives=[];for(;n--;){var o=(r=e[n]).ractive;Object.keys(o.viewmodel.changes).length&&At.fire(o,o.viewmodel.changes),o.viewmodel.changes={},ft(i,o),r.update()}n=i.length;for(;n--;){var s=i[n];At.fire(s,s.viewmodel.changes),s.viewmodel.changes={}}Et.transitionManager.ready();e=Et.deferredObservers;Et.deferredObservers=[];e.forEach(_t);var a=Et.tasks;Et.tasks=[];for(n=0;n<a.length;n+=1)a[n]();if(Et.fragments.length||Et.immediateObservers.length||Et.deferredObservers.length||Et.ractives.length||Et.tasks.length)return t()}(),Et.previousBatch||Et.transitionManager.start(),Et=Et.previousBatch},addFragment:function(t){ct(Et.fragments,t)},addFragmentToRoot:function(t){if(Et){for(var e=Et;e.previousBatch;)e=e.previousBatch;ct(e.fragments,t)}},addInstance:function(t){Et&&ct(Et.ractives,t)},addObserver:function(t,e){ct(e?Et.deferredObservers:Et.immediateObservers,t)},registerTransition:function(t){t._manager=Et.transitionManager,Et.transitionManager.add(t)},detachWhenReady:function(t){Et.transitionManager.detachQueue.push(t)},scheduleTask:function(t,e){var n;if(Et){for(n=Et;e&&n.previousBatch;)n=n.previousBatch;n.tasks.push(t)}else t()}};function _t(t){t.dispatch()}var kt=/\[\s*(\*|[0-9]|[1-9][0-9]+)\s*\]/g,St=/([^\\](?:\\\\)*)\./,Tt=/\\|\./g,Ot=/((?:\\)+)\1|\\(\.)/g;function Bt(t){return"string"==typeof t?t.replace(Tt,"\\$&"):t}function Nt(t){return t?t.replace(kt,".$1"):""}function It(t){var e,n=[];for(t=Nt(t);e=St.exec(t);){var r=e.index+e[1].length;n.push(t.substr(0,r)),t=t.substr(r+1)}return n.push(t),n}function Rt(t){return"string"==typeof t?t.replace(Ot,"$1$2"):t}var jt=Function.prototype.bind;function Pt(t,e){if(!/this/.test(t.toString()))return t;var n=jt.call(t,e);for(var r in t)n[r]=t[r];return n}function Mt(t,e){for(var n=Ft.start(t,!0),r=e.length;r--;){var i=e[r],o=i[0],s=i[1];"function"==typeof s&&(s=Pt(s,t)),o.set(s)}return Ft.end(),n}var Lt=/\*/;function zt(t,e,n){return void 0===n&&(n=t.viewmodel),Lt.test(e)?n.findMatches(It(e)):[n.joinAll(It(e))]}function $t(t,e,n){var r=[];if(z(e)){var i=function(n){e.hasOwnProperty(n)&&r.push.apply(r,zt(t,n).map(function(t){return[t,e[n]]}))};for(var o in e)i(o)}else r.push.apply(r,zt(t,e).map(function(t){return[t,n]}));return r}var qt="Cannot add to a non-numeric value";function Ut(t,e,n){if("string"!=typeof e||!L(n))throw new Error("Bad arguments");return Mt(t,$t(t,e,n).map(function(t){var e=t[0],n=t[1],r=e.get();if(!L(n)||!L(r))throw new Error(qt);return[e,r+n]}))}var Vt=yt.resolve();S(Vt,"stop",{value:$});var Ht=i.linear;function Wt(t,e,n,r){r=function(t,e){var n;return(t=t||{}).easing&&(n="function"==typeof t.easing?t.easing:e.easing[t.easing]),{easing:n||Ht,duration:"duration"in t?t.duration:400,complete:t.complete||$,step:t.step||$}}(r,t);var i=e.get();if(M(i,n))return r.complete(r.to),Vt;var o=rt(i,n,t,r.interpolator);return o?e.animate(i,n,r,o):(Ft.start(),e.set(n),Ft.end(),Vt)}var Kt=new ut("detach");function Gt(t,e){return t.compareDocumentPosition?2&t.compareDocumentPosition(e)?1:-1:Yt(t,e)}function Yt(t,e){for(var n,r=Qt(t.component||t._ractive.proxy),i=Qt(e.component||e._ractive.proxy),o=pt(r),s=pt(i);o&&o===s;)r.pop(),i.pop(),n=o,o=pt(r),s=pt(i);o=o.component||o,s=s.component||s;var a=o.parentFragment,u=s.parentFragment;if(a===u)return a.items.indexOf(o)-u.items.indexOf(s)||r.length-i.length;var c=n.iterations;if(c)return c.indexOf(a)-c.indexOf(u)||r.length-i.length;throw new Error("An unexpected condition was met while comparing the position of two components. Please file an issue at https://github.com/ractivejs/ractive/issues - thanks!")}function Xt(t){var e=t.parentFragment;return e?e.owner:t.component&&(e=t.component.parentFragment)?e.owner:void 0}function Qt(t){for(var e=[t],n=Xt(t);n;)e.push(n),n=Xt(n);return e}var Jt=function(t,e,n,r){this.ractive=t,this.selector=e,this.live=n,this.isComponentQuery=r,this.result=[],this.dirty=!0};Jt.prototype.add=function(t){this.result.push(t),this.makeDirty()},Jt.prototype.cancel=function(){var t=this._root[this.isComponentQuery?"liveComponentQueries":"liveQueries"],e=this.selector,n=t.indexOf(e);-1!==n&&(t.splice(n,1),t[e]=null)},Jt.prototype.init=function(){this.dirty=!1},Jt.prototype.makeDirty=function(){var t=this;this.dirty||(this.dirty=!0,Ft.scheduleTask(function(){return t.update()}))},Jt.prototype.remove=function(t){var e=this.result.indexOf(this.isComponentQuery?t.instance:t);-1!==e&&this.result.splice(e,1)},Jt.prototype.update=function(){this.result.sort(this.isComponentQuery?Yt:Gt),this.dirty=!1},Jt.prototype.test=function(t){return this.isComponentQuery?!this.selector||t.name===this.selector:t?l(t,this.selector):null};var Zt={};function te(t){var e,n,r,i,o,s;for(e=It(t),(n=Zt[e.length])||(n=function(t){var e,n,r,i,o,s,a,u,c="";if(!Zt[t]){for(r=[];c.length<t;)c+=1;for(e=parseInt(c,2),i=function(t){return"1"===t},o=0;o<=e;o+=1){for(n=o.toString(2);n.length<t;)n="0"+n;for(u=[],a=n.length,s=0;s<a;s++)u.push(i(n[s]));r[o]=u}Zt[t]=r}return Zt[t]}(e.length)),o=[],r=function(t,n){return t?"*":e[n]},i=n.length;i--;)s=n[i].map(r).join("."),o.hasOwnProperty(s)||(o.push(s),o[s]=!0);return o}var ee={};function ne(t,e,n){if(void 0===n&&(n={}),e)return n.event?n.event.name=e:n.event={name:e,_noArg:!0},function t(e,n,r,i,o){void 0===o&&(o=!1);var s,a,u=!0;!function(t,e){t.event&&t._eventQueue.push(t.event),t.event=e}(e,r);for(a=n.length;a>=0;a--)(s=e._subs[n[a]])&&(u=ie(e,s,r,i)&&u);!function(t){t._eventQueue.length?t.event=t._eventQueue.pop():t.event=null}(e);if(e.parent&&u){if(o&&e.component){var c=e.component.name+"."+n[n.length-1];n=re(c),r&&!r.component&&(r.component=e)}u=t(e.parent,n,r,i)}return u}(t,re(e),n.event,n.args,!0)}function re(t){return ee.hasOwnProperty(t)?ee[t]:ee[t]=te(t)}function ie(t,e,n,r){var i=null,o=!1;n&&!n._noArg&&(r=[n].concat(r));for(var s=0,a=(e=e.slice()).length;s<a;s+=1)e[s].off||!1!==e[s].callback.apply(t,r)||(o=!0);return n&&!n._noArg&&o&&(i=n.original)&&(i.preventDefault&&i.preventDefault(),i.stopPropagation&&i.stopPropagation()),!o}function oe(t){throw new Error("An index or key reference ("+t+") cannot have child properties")}function se(t,e){for(var n,r,i,o=t.findContext().root,s=It(e),a=s[0];t;){if(t.isIteration){if(a===t.parent.keyRef)return s.length>1&&oe(a),t.context.getKeyModel(t.key);if(a===t.parent.indexRef)return s.length>1&&oe(a),t.context.getKeyModel(t.index)}if(((i=t.owner.aliases)||(i=t.aliases))&&i.hasOwnProperty(a)){var u=i[a];if(1===s.length)return u;if("function"==typeof u.joinAll)return u.joinAll(s.slice(1))}if(t.context&&(t.isRoot&&!t.ractive.component||(n=!0),t.context.has(a)))return r?o.createLink(a,t.context.joinKey(s.shift()),a).joinAll(s):t.context.joinAll(s);t.componentParent&&!t.ractive.isolated?(t=t.componentParent,r=!0):t=t.parent}if(!n)return o.joinAll(s)}var ae,ue=[];function ce(){ue.push(ae=[])}function le(){var t=ue.pop();return ae=ue[ue.length-1],t}function he(t){ae&&ae.push(t)}var pe=function(t,e){this.value=t,this.isReadonly=this.isKey=!0,this.deps=[],this.links=[],this.parent=e};function fe(t){t.bind()}function de(t){t.cancel()}function ge(t){t.handleChange()}function me(t){t.mark()}function ve(t){t.marked()}function ye(t){t.markedAll()}function be(t){t.notifiedUpstream()}function we(t){t.render()}function De(t){t.teardown()}function Ce(t){t.unbind()}function xe(t){t.unrender()}function Ee(t){t.unrender(!0)}function Ae(t){t.update()}function Fe(t){return t.toString()}function _e(t){return t.toString(!0)}pe.prototype.get=function(t){return t&&he(this),Rt(this.value)},pe.prototype.getKeypath=function(){return Rt(this.value)},pe.prototype.rebinding=function(t,e){for(var n=this.deps.length;n--;)this.deps[n].rebinding(t,e,!1);for(n=this.links.length;n--;)this.links[n].rebinding(t,e,!1)},pe.prototype.register=function(t){this.deps.push(t)},pe.prototype.registerLink=function(t){ct(this.links,t)},pe.prototype.unregister=function(t){ft(this.deps,t)},pe.prototype.unregisterLink=function(t){ft(this.links,t)},pe.prototype.reference=$,pe.prototype.unreference=$;var ke=function(t,e){this.parent=t,this.ractive=e,this.value=e?t.getKeypath(e):t.getKeypath(),this.deps=[],this.children={},this.isReadonly=this.isKeypath=!0};ke.prototype.get=function(t){return t&&he(this),this.value},ke.prototype.getChild=function(t){if(!(t._guid in this.children)){var e=new ke(this.parent,t);this.children[t._guid]=e,e.owner=this}return this.children[t._guid]},ke.prototype.getKeypath=function(){return this.value},ke.prototype.handleChange=function(){for(var t=Object.keys(this.children),e=t.length;e--;)this.children[t[e]].handleChange();this.deps.forEach(ge)},ke.prototype.rebindChildren=function(t){for(var e=Object.keys(this.children),n=e.length;n--;){var r=this.children[e[n]];r.value=t.getKeypath(r.ractive),r.handleChange()}},ke.prototype.rebinding=function(t,e){for(var n=t?t.getKeypathModel(this.ractive):void 0,r=Object.keys(this.children),i=r.length;i--;)this.children[r[i]].rebinding(t,e,!1);for(i=this.deps.length;i--;)this.deps[i].rebinding(n,this,!1)},ke.prototype.register=function(t){this.deps.push(t)},ke.prototype.removeChild=function(t){t.ractive&&delete this.children[t.ractive._guid]},ke.prototype.teardown=function(){this.owner&&this.owner.removeChild(this);for(var t=Object.keys(this.children),e=t.length;e--;)this.children[t[e]].teardown()},ke.prototype.unregister=function(t){ft(this.deps,t),this.deps.length||this.teardown()},ke.prototype.reference=$,ke.prototype.unreference=$;var Se=Object.prototype.hasOwnProperty,Te={early:[],mark:[]},Oe={early:[],mark:[]},Be=function(t){this.deps=[],this.children=[],this.childByKey={},this.links=[],this.keyModels={},this.unresolved=[],this.unresolvedByKey={},this.bindings=[],this.patternObservers=[],t&&(this.parent=t,this.root=t.root)};function Ne(t){t.updateFromBindings(!0)}function Ie(t){for(var e=t.length;e--;)if(t[e].bound){var n=t[e].owner;if(n)return{value:"checked"===n.name?n.node.checked:n.node.value}}}function Re(t){if(t){var e=Te[t];Te[t]=[];for(var n=e.length;n--;)e[n]();var r=Oe[t];for(Oe[t]=[],n=r.length;n--;)r[n].model.register(r[n].item)}else Re("early"),Re("mark")}function je(t,e,n){var r=t.r||t;if(!r||"string"!=typeof r)return e;if("."===r||"@"===r[0]||(e||n).isKey||(e||n).isKeypath)return e;for(var i=r.split("/"),o=It(i[i.length-1]),s=e||n,a=o.length,u=!0,c=!1;s&&a--;)s.shuffling&&(c=!0),o[a]!=s.key&&(u=!1),s=s.parent;return!e&&u&&c?n:e&&!u&&c?n:e}Be.prototype.addUnresolved=function(t,e){this.unresolvedByKey[t]||(this.unresolved.push(t),this.unresolvedByKey[t]=[]),this.unresolvedByKey[t].push(e)},Be.prototype.addShuffleTask=function(t,e){void 0===e&&(e="early"),Te[e].push(t)},Be.prototype.addShuffleRegister=function(t,e){void 0===e&&(e="early"),Oe[e].push({model:this,item:t})},Be.prototype.clearUnresolveds=function(t){for(var e=this.unresolved.length;e--;){var n=this.unresolved[e];if(!t||n===t){for(var r=this.unresolvedByKey[n],i=this.has(n),o=r.length;o--;)i&&r[o].attemptResolution(),r[o].resolved&&r.splice(o,1);r.length||(this.unresolved.splice(e,1),this.unresolvedByKey[n]=null)}}},Be.prototype.findMatches=function(t){var e,n,r=t.length,i=[this],o=function(){var r=t[n];"*"===r?(e=[],i.forEach(function(t){e.push.apply(e,t.getValueChildren(t.get()))})):e=i.map(function(t){return t.joinKey(r)}),i=e};for(n=0;n<r;n+=1)o();return e},Be.prototype.getKeyModel=function(t,e){return void 0===t||e?(t in this.keyModels||(this.keyModels[t]=new pe(Bt(t),this)),this.keyModels[t]):this.parent.getKeyModel(t,!0)},Be.prototype.getKeypath=function(t){return t!==this.ractive&&this._link?this._link.target.getKeypath(t):(this.keypath||(this.keypath=this.parent.isRoot?this.key:this.parent.getKeypath(t)+"."+Bt(this.key)),this.keypath)},Be.prototype.getValueChildren=function(t){var e,n=this;if(P(t))e=[],"length"in this&&this.length!==t.length&&e.push(this.joinKey("length")),t.forEach(function(t,r){e.push(n.joinKey(r))});else if(z(t)||"function"==typeof t)e=Object.keys(t).map(function(t){return n.joinKey(t)});else if(null!=t)return[];return e},Be.prototype.getVirtual=function(t){var e=this.get(t,{virtual:!1});if(z(e)){for(var n=P(e)?[]:{},r=Object.keys(e),i=r.length;i--;){var o=this.childByKey[r[i]];o?o._link?n[r[i]]=o._link.getVirtual():n[r[i]]=o.getVirtual():n[r[i]]=e[r[i]]}for(i=this.children.length;i--;){var s=this.children[i];s.key in n||!s._link||(n[s.key]=s._link.getVirtual())}return n}return e},Be.prototype.has=function(t){if(this._link)return this._link.has(t);var e=this.get();if(!e)return!1;if(t=Rt(t),Se.call(e,t))return!0;for(var n=e.constructor;n!==Function&&n!==Array&&n!==Object;){if(Se.call(n.prototype,t))return!0;n=n.constructor}return!1},Be.prototype.joinAll=function(t,e){for(var n=this,r=0;r<t.length;r+=1){if(e&&!1===e.lastLink&&r+1===t.length&&n.childByKey[t[r]]&&n.childByKey[t[r]]._link)return n.childByKey[t[r]];n=n.joinKey(t[r],e)}return n},Be.prototype.notifyUpstream=function(){for(var t=this.parent,e=[this.key];t;)t.patternObservers.length&&t.patternObservers.forEach(function(t){return t.notify(e.slice())}),e.unshift(t.key),t.links.forEach(be),t.deps.forEach(ge),t=t.parent},Be.prototype.rebinding=function(t,e,n){for(var r=this.deps.length;r--;)this.deps[r].rebinding&&this.deps[r].rebinding(t,e,n);for(r=this.links.length;r--;){var i=this.links[r];i.owner._link&&i.relinking(t,!0,n)}for(r=this.children.length;r--;){var o=this.children[r];o.rebinding(t?t.joinKey(o.key):void 0,o,n)}for(r=this.unresolved.length;r--;)for(var s=this.unresolvedByKey[this.unresolved[r]],a=s.length;a--;)s[a].rebinding(t,e);for(this.keypathModel&&this.keypathModel.rebinding(t,e,!1),r=this.bindings.length;r--;)this.bindings[r].rebinding(t,e,n)},Be.prototype.reference=function(){"refs"in this?this.refs++:this.refs=1},Be.prototype.register=function(t){this.deps.push(t)},Be.prototype.registerChange=function(t,e){this.isRoot?(this.changes[t]=e,Ft.addInstance(this.root.ractive)):this.root.registerChange(t,e)},Be.prototype.registerLink=function(t){ct(this.links,t)},Be.prototype.registerPatternObserver=function(t){this.patternObservers.push(t),this.register(t)},Be.prototype.registerTwowayBinding=function(t){this.bindings.push(t)},Be.prototype.removeUnresolved=function(t,e){var n=this.unresolvedByKey[t];n&&ft(n,e)},Be.prototype.shuffled=function(){for(var t=this.children.length;t--;)this.children[t].shuffled();this.wrapper&&(this.wrapper.teardown(),this.wrapper=null,this.rewrap=!0)},Be.prototype.unreference=function(){"refs"in this&&this.refs--},Be.prototype.unregister=function(t){ft(this.deps,t)},Be.prototype.unregisterLink=function(t){ft(this.links,t)},Be.prototype.unregisterPatternObserver=function(t){ft(this.patternObservers,t),this.unregister(t)},Be.prototype.unregisterTwowayBinding=function(t){ft(this.bindings,t)},Be.prototype.updateFromBindings=function(t){for(var e=this.bindings.length;e--;){var n=this.bindings[e].getValue();n!==this.value&&this.set(n)}if(!this.bindings.length){var r=Ie(this.deps);r&&r.value!==this.value&&this.set(r.value)}t&&(this.children.forEach(Ne),this.links.forEach(Ne),this._link&&this._link.updateFromBindings(t))},pe.prototype.addShuffleTask=Be.prototype.addShuffleTask,pe.prototype.addShuffleRegister=Be.prototype.addShuffleRegister,ke.prototype.addShuffleTask=Be.prototype.addShuffleTask,ke.prototype.addShuffleRegister=Be.prototype.addShuffleRegister;var Pe,Me=function(t){function e(e,n,r,i){t.call(this,e),this.owner=n,this.target=r,this.key=void 0===i?n.key:i,n.isLink&&(this.sourcePath=n.sourcePath+"."+this.key),r.registerLink(this),this.isReadonly=e.isReadonly,this.isLink=!0}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.animate=function(t,e,n,r){return this.target.animate(t,e,n,r)},e.prototype.applyValue=function(t){this.target.applyValue(t)},e.prototype.get=function(t,e){return t&&(he(this),(e=e||{}).unwrap=!0),this.target.get(!1,e)},e.prototype.getKeypath=function(e){return e&&e!==this.root.ractive?this.target.getKeypath(e):t.prototype.getKeypath.call(this,e)},e.prototype.getKeypathModel=function(t){return this.keypathModel||(this.keypathModel=new ke(this)),t&&t!==this.root.ractive?this.keypathModel.getChild(t):this.keypathModel},e.prototype.handleChange=function(){this.deps.forEach(ge),this.links.forEach(ge),this.notifyUpstream()},e.prototype.joinKey=function(t){if(void 0===t||""===t)return this;if(!this.childByKey.hasOwnProperty(t)){var n=new e(this,this,this.target.joinKey(t),t);this.children.push(n),this.childByKey[t]=n}return this.childByKey[t]},e.prototype.mark=function(){this.target.mark()},e.prototype.marked=function(){this.links.forEach(ve),this.deps.forEach(ge),this.clearUnresolveds()},e.prototype.markedAll=function(){this.children.forEach(ye),this.marked()},e.prototype.notifiedUpstream=function(){this.links.forEach(be),this.deps.forEach(ge)},e.prototype.relinked=function(){this.target.registerLink(this),this.children.forEach(function(t){return t.relinked()})},e.prototype.relinking=function(t,e,n){var r=this;e&&this.sourcePath&&(t=je(this.sourcePath,t,this.target)),t&&this.target!==t&&(this.target.unregisterLink(this),this.keypathModel&&this.keypathModel.rebindChildren(t),this.target=t,this.children.forEach(function(e){e.relinking(t.joinKey(e.key),!1,n)}),e&&this.addShuffleTask(function(){r.relinked(),n||r.notifyUpstream()}))},e.prototype.set=function(t){this.target.set(t)},e.prototype.shuffle=function(t){if(!this.shuffling)if(this.target.shuffling){this.shuffling=!0;for(var e=t.length;e--;){var n=t[e];e!==n&&(e in this.childByKey&&this.childByKey[e].rebinding(~n?this.joinKey(n):void 0,this.childByKey[e],!0),!~n&&this.keyModels[e]?this.keyModels[e].rebinding(void 0,this.keyModels[e],!1):~n&&this.keyModels[e]&&(this.keyModels[n]||this.childByKey[n].getKeyModel(n),this.keyModels[e].rebinding(this.keyModels[n],this.keyModels[e],!1)))}var r=this.source().length!==this.source().value.length;for(this.links.forEach(function(e){return e.shuffle(t)}),e=this.deps.length;e--;)this.deps[e].shuffle&&this.deps[e].shuffle(t);this.marked(),r&&this.notifyUpstream(),this.shuffling=!1}else this.target.shuffle(t)},e.prototype.source=function(){return this.target.source?this.target.source():this.target},e.prototype.teardown=function(){this._link&&this._link.teardown(),this.target.unregisterLink(this),this.children.forEach(De)},e}(Be);Be.prototype.link=function(t,e){var n=this._link||new Me(this.parent,this,t,this.key);n.sourcePath=e,this._link&&this._link.relinking(t,!0,!1),this.rebinding(n,this,!1),Re();var r=!this._link;return this._link=n,r&&this.parent.clearUnresolveds(),n.markedAll(),n},Be.prototype.unlink=function(){if(this._link){var t=this._link;this._link=void 0,t.rebinding(this,this._link),Re(),t.teardown()}},o?(!function(t,e,n){var r,i;if(!n.requestAnimationFrame){for(r=0;r<t.length&&!n.requestAnimationFrame;++r)n.requestAnimationFrame=n[t[r]+"RequestAnimationFrame"];n.requestAnimationFrame||(i=n.setTimeout,n.requestAnimationFrame=function(t){var n,r,o;return n=Date.now(),r=Math.max(0,16-(n-e)),o=i(function(){t(n+r)},r),e=n+r,o})}}(b,0,o),Pe=o.requestAnimationFrame):Pe=null;var Le=Pe,ze=o&&o.performance&&"function"==typeof o.performance.now?function(){return o.performance.now()}:function(){return Date.now()},$e=[],qe=!1;function Ue(){Ft.start();var t,e=ze();for(t=0;t<$e.length;t+=1)$e[t].tick(e)||$e.splice(t--,1);Ft.end(),$e.length?Le(Ue):qe=!1}var Ve=function(t){this.duration=t.duration,this.step=t.step,this.complete=t.complete,this.easing=t.easing,this.start=ze(),this.end=this.start+this.duration,this.running=!0,$e.push(this),qe||Le(Ue)};Ve.prototype.tick=function(t){if(!this.running)return!1;if(t>this.end)return this.step&&this.step(1),this.complete&&this.complete(1),!1;var e=t-this.start,n=this.easing(e/this.duration);return this.step&&this.step(n),!0},Ve.prototype.stop=function(){this.abort&&this.abort(),this.running=!1};var He={};function We(t){var e;return He[t]||(e=t?t+".":"",He[t]=function(n,r){var i;return"string"==typeof n?((i={})[e+n]=r,i):"object"==typeof n?e?function(t,e){var n,r={};if(!e)return t;for(n in e+=".",t)t.hasOwnProperty(n)&&(r[e+n]=t[n]);return r}(n,t):n:void 0}),He[t]}var Ke=function(t){function e(e,n){t.call(this,e),this.ticker=null,e&&(this.key=Rt(n),this.isReadonly=e.isReadonly,e.value&&(this.value=e.value[this.key],P(this.value)&&(this.length=this.value.length),this.adapt()))}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.adapt=function(){var t=this.root.adaptors,e=t.length;if(this.rewrap=!1,0!==e){var n,r=this.wrapper?"newWrapperValue"in this?this.newWrapperValue:this.wrapperValue:this.value,i=this.root.ractive,o=this.getKeypath();if(this.wrapper){if(!(this.wrapperValue!==r&&(!this.wrapper.reset||!1===this.wrapper.reset(r))))return delete this.newWrapperValue,this.wrapperValue=r,void(this.value=this.wrapper.get());if(this.wrapper.teardown(),this.wrapper=null,void 0!==this.value){var s=this.parent.value||this.parent.createBranch(this.key);s[this.key]!==r&&(s[this.key]=r)}}for(n=0;n<e;n+=1){var a=t[n];if(a.filter(r,o,i)){this.wrapper=a.wrap(i,r,o,We(o)),this.wrapperValue=r,this.wrapper.__model=this,this.value=this.wrapper.get();break}}}},e.prototype.animate=function(t,e,n,r){var i,o=this;this.ticker&&this.ticker.stop();var s=new yt(function(t){return i=t});return this.ticker=new Ve({duration:n.duration,easing:n.easing,step:function(t){var e=r(t);o.applyValue(e),n.step&&n.step(t,e)},complete:function(){o.applyValue(e),n.complete&&n.complete(e),o.ticker=null,i()}}),s.stop=this.ticker.stop,s},e.prototype.applyValue=function(t){if(!M(t,this.value)){if(this.registerChange(this.getKeypath(),t),this.parent.wrapper&&this.parent.wrapper.set)this.parent.wrapper.set(this.key,t),this.parent.value=this.parent.wrapper.get(),this.value=this.parent.value[this.key],this.wrapper&&(this.newWrapperValue=this.value),this.adapt();else if(this.wrapper)this.newWrapperValue=t,this.adapt();else{(this.parent.value||this.parent.createBranch(this.key))[this.key]=t,this.value=t,this.adapt()}this.parent.clearUnresolveds(),this.clearUnresolveds(),P(t)?(this.length=t.length,this.isArray=!0):this.isArray=!1,this.links.forEach(ge),this.children.forEach(me),this.deps.forEach(ge),this.notifyUpstream(),this.parent.isArray&&("length"===this.key?this.parent.length=t:this.parent.joinKey("length").mark())}},e.prototype.createBranch=function(t){var e=L(t)?[]:{};return this.set(e),e},e.prototype.get=function(t,e){return this._link?this._link.get(t,e):(t&&he(this),e&&e.virtual?this.getVirtual(!1):(t||e&&e.unwrap)&&this.wrapper?this.wrapperValue:this.value)},e.prototype.getKeypathModel=function(t){return this.keypathModel||(this.keypathModel=new ke(this)),this.keypathModel},e.prototype.joinKey=function(t,n){if(this._link)return!n||!1!=!n.lastLink||void 0!==t&&""!==t?this._link.joinKey(t):this;if(void 0===t||""===t)return this;if(!this.childByKey.hasOwnProperty(t)){var r=new e(this,t);this.children.push(r),this.childByKey[t]=r}return this.childByKey[t]._link?this.childByKey[t]._link:this.childByKey[t]},e.prototype.mark=function(){if(this._link)return this._link.mark();var t=this.retrieve();if(!M(t,this.value)){var e=this.value;this.value=t,(e!==t||this.rewrap)&&(this.wrapper&&(this.newWrapperValue=t),this.adapt()),P(t)?(this.length=t.length,this.isArray=!0):this.isArray=!1,this.children.forEach(me),this.links.forEach(ve),this.deps.forEach(ge),this.clearUnresolveds()}},e.prototype.merge=function(t,e){var n=this.value,r=t;n===r&&(n=function(t){for(var e=[],n=0;n<t.length;n++)e[n]=(t.childByKey[n]||{}).value;return e}(this)),e&&(n=n.map(e),r=r.map(e));var i=n.length,o={},s=0,a=n.map(function(t){var e,n=s;do{if(-1===(e=r.indexOf(t,n)))return-1;n=e+1}while(!0===o[e]&&n<i);return e===s&&(s+=1),o[e]=!0,e});this.parent.value[this.key]=t,this.shuffle(a)},e.prototype.retrieve=function(){return this.parent.value?this.parent.value[this.key]:void 0},e.prototype.set=function(t){this.ticker&&this.ticker.stop(),this.applyValue(t)},e.prototype.shuffle=function(t){this.shuffling=!0;for(var e=t.length;e--;){var n=t[e];e!==n&&(e in this.childByKey&&this.childByKey[e].rebinding(~n?this.joinKey(n):void 0,this.childByKey[e],!0),!~n&&this.keyModels[e]?this.keyModels[e].rebinding(void 0,this.keyModels[e],!1):~n&&this.keyModels[e]&&(this.keyModels[n]||this.childByKey[n].getKeyModel(n),this.keyModels[e].rebinding(this.keyModels[n],this.keyModels[e],!1)))}var r=this.length!==this.value.length;for(this.links.forEach(function(e){return e.shuffle(t)}),Re("early"),e=this.deps.length;e--;)this.deps[e].shuffle&&this.deps[e].shuffle(t);this.mark(),Re("mark"),r&&this.notifyUpstream(),this.shuffling=!1},e.prototype.teardown=function(){this._link&&this._link.teardown(),this.children.forEach(De),this.wrapper&&this.wrapper.teardown(),this.keypathModel&&this.keypathModel.teardown()},e}(Be),Ge=new(function(t){function e(){t.call(this,null,"@global"),this.value=void 0!==n?n:window,this.isRoot=!0,this.root=this,this.adaptors=[]}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getKeypath=function(){return"@global"},e.prototype.registerChange=function(){},e}(Ke)),Ye=/^@[^\(]+\(([^\)]+)\)/;function Xe(t,e){var n=t.findContext();if("."===e||"this"===e)return n;if(0===e.indexOf("@keypath")){var r=Ye.exec(e);if(r&&r[1]){var i=Xe(t,r[1]);if(i)return i.getKeypathModel()}return n.getKeypathModel()}if(0===e.indexOf("@rootpath")){for(;n.isRoot&&n.ractive.component;)n=n.ractive.component.parentFragment.findContext();var o=Ye.exec(e);if(o&&o[1]){var s=Xe(t,o[1]);if(s)return s.getKeypathModel(t.ractive.root)}return n.getKeypathModel(t.ractive.root)}if("@index"===e||"@key"===e){var a=t.findRepeatingFragment();if(!a.isIteration)return;return a.context.getKeyModel(a["i"===e[1]?"index":"key"])}if("@this"===e)return t.ractive.viewmodel.getRactiveModel();if("@global"===e)return Ge;if("~"===e[0])return t.ractive.viewmodel.joinAll(It(e.slice(2)));if("."===e[0]){for(var u=e.split("/");"."===u[0]||".."===u[0];){".."===u.shift()&&(n=n.parent)}return"."===(e=u.join("/"))[0]&&(e=e.slice(1)),n.joinAll(It(e))}return se(t,e)}function Qe(t){for(var e={},n={};t;){if(t.parent&&(t.parent.indexRef||t.parent.keyRef)){var r=t.parent.indexRef;!r||r in n||(n[r]=t.index),!(r=t.parent.keyRef)||r in e||(e[r]=t.key)}t=t.componentParent&&!t.ractive.isolated?t.componentParent:t.parent}return{key:e,index:n}}function Je(t,e,n){var r,i,o,s,a,u=[];if(!(r=function(t,e,n){switch(e){case"splice":for(void 0!==n[0]&&n[0]<0&&(n[0]=t+Math.max(n[0],-t)),void 0===n[0]&&(n[0]=0);n.length<2;)n.push(t-n[0]);return"number"!=typeof n[1]&&(n[1]=t-n[0]),n[1]=Math.min(n[1],t-n[0]),n;case"sort":case"reverse":return null;case"pop":return t?[t-1,1]:[0,0];case"push":return[t,0].concat(n);case"shift":return[0,t?1:0];case"unshift":return[0,0].concat(n)}}(t,e,n)))return null;for(s=r.length-2-r[1],o=(i=Math.min(t,r[0]))+r[1],u.startIndex=i,a=0;a<i;a+=1)u.push(a);for(;a<o;a+=1)u.push(-1);for(;a<t;a+=1)u.push(a+s);return u.touchedFrom=0!==s?r[0]:t,u}var Ze=Array.prototype;function tn(t){function e(e,n){var r=e.get();if(!P(r)){if(void 0===r){r=[];var i=Ze[t].apply(r,n),o=Ft.start(this,!0).then(function(){return i});return e.set(r),Ft.end(),o}throw new Error("shuffle array method "+t+" called on non-array at "+e.getKeypath())}var s=Je(r.length,t,n),a=Ze[t].apply(r,n),u=Ft.start(this,!0).then(function(){return a});return u.result=a,s?e.shuffle(s):e.set(a),Ft.end(),u}return{path:function(t){for(var n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];return e(this.viewmodel.joinAll(It(t)),n)},model:e}}var en={};function nn(t,e,n,r){var i=Ft.start(t,!0);if(!P(e.get())||!P(n))throw new Error("You cannot merge an array with a non-array");var o=function(t){if(!t)return null;if(!0===t)return JSON.stringify;if("function"==typeof t)return t;if("string"==typeof t)return en[t]||(en[t]=function(e){return e[t]});throw new Error("If supplied, options.compare must be a string, function, or `true`")}(r&&r.compare);return e.merge(n,o),Ft.end(),i}var rn=new ut("update");function on(t,e){e.parent&&e.parent.wrapper&&e.parent.adapt();var n=Ft.start(t,!0);if(e.mark(),e.registerChange(e.getKeypath(),e.get()),!e.isRoot)for(var r=e.parent,i=e.key;r&&!r.isRoot;)r.clearUnresolveds&&r.clearUnresolveds(i),i=r.key,r=r.parent;return e.notifyUpstream(),Ft.end(),rn.fire(t,e),n}var sn=tn("push").model,an=tn("pop").model,un=tn("shift").model,cn=tn("unshift").model,ln=tn("sort").model,hn=tn("splice").model,pn=tn("reverse").model;function fn(t,e,n){var r=[];if(z(e))for(var i in e)e.hasOwnProperty(i)&&r.push([mn(t,i).model,e[i]]);else r.push([mn(t,e).model,n]);return r}function dn(t){if(!t)return this._element.parentFragment.findContext().get(!0);var e=Xe(this._element.parentFragment,t);return e?e.get(!0):void 0}function gn(t,e){var n=mn(this,t),r=n.model,i=n.instance;return r?r.getKeypath(e||i):t}function mn(t,e){var n=t._element.parentFragment;return"string"!=typeof e?{model:n.findContext(),instance:e}:{model:Xe(n,e),instance:n.ractive}}function vn(t,e){if(void 0===e&&(e=1),!L(e))throw new Error("Bad arguments");return Mt(this.ractive,fn(this,t,e).map(function(t){var e=t[0],n=t[1],r=e.get();if(!L(n)||!L(r))throw new Error("Cannot add non-numeric value");return[e,r+n]}))}function yn(t,e,n){var r=mn(this,t).model;return Wt(this.ractive,r,e,n)}function bn(t,e){var n=mn(this,t).model,r=mn(this,e).model,i=Ft.start(this.ractive,!0);return r.link(n,t),Ft.end(),i}function wn(t,e,n){return nn(this.ractive,mn(this,t).model,e,n)}function Dn(t){return an(mn(this,t).model,[])}function Cn(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return sn(mn(this,t).model,e)}function xn(t){return pn(mn(this,t).model,[])}function En(t,e){return Mt(this.ractive,fn(this,t,e))}function An(t){return un(mn(this,t).model,[])}function Fn(t,e,n){for(var r=[],i=arguments.length-3;i-- >0;)r[i]=arguments[i+3];return r.unshift(e,n),hn(mn(this,t).model,r)}function _n(t){return ln(mn(this,t).model,[])}function kn(t,e){if(void 0===e&&(e=1),!L(e))throw new Error("Bad arguments");return Mt(this.ractive,fn(this,t,e).map(function(t){var e=t[0],n=t[1],r=e.get();if(!L(n)||!L(r))throw new Error("Cannot add non-numeric value");return[e,r-n]}))}function Sn(t){var e=mn(this,t).model;return Mt(this.ractive,[[e,!e.get()]])}function Tn(t){var e=mn(this,t).model,n=Ft.start(this.ractive,!0);return e.owner&&e.owner._link&&e.owner.unlink(),Ft.end(),n}function On(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return cn(mn(this,t).model,e)}function Bn(t){return on(this.ractive,mn(this,t).model)}function Nn(t,e){var n=mn(this,t).model,r=Ft.start(this.ractive,!0);return n.updateFromBindings(e),Ft.end(),r}function In(){return!!Pn(this).model}function Rn(t){var e=Pn(this),n=e.model,r=e.instance;if(n)return n.getKeypath(t||r)}function jn(){var t=Pn(this).model;if(t)return t.get(!0)}function Pn(t){var e=t._element;return{model:e.binding&&e.binding.model,instance:e.parentFragment.ractive}}function Mn(t){var e=Pn(this).model;return Mt(this.ractive,[[e,t]])}function Ln(){return Q("Object property keypath is deprecated, please use resolve() instead."),this.resolve()}function zn(){return Q("Object property rootpath is deprecated, please use resolve( ractive.root ) instead."),this.resolve(this.ractive.root)}function $n(){return Q("Object property context is deprecated, please use get() instead."),this.get()}function qn(){return Q('Object property index is deprecated, you can use get( "indexName" ) instead.'),Qe(this._element.parentFragment).index}function Un(){return Q('Object property key is deprecated, you can use get( "keyName" ) instead.'),Qe(this._element.parentFragment).key}function Vn(t,e){return T(t,{_element:{value:e},ractive:{value:e.parentFragment.ractive},resolve:{value:gn},get:{value:dn},add:{value:vn},animate:{value:yn},link:{value:bn},merge:{value:wn},pop:{value:Dn},push:{value:Cn},reverse:{value:xn},set:{value:En},shift:{value:An},sort:{value:_n},splice:{value:Fn},subtract:{value:kn},toggle:{value:Sn},unlink:{value:Tn},unshift:{value:On},update:{value:Bn},updateModel:{value:Nn},isBound:{value:In},getBindingPath:{value:Rn},getBinding:{value:jn},setBinding:{value:Mn},keypath:{get:Ln},rootpath:{get:zn},context:{get:$n},index:{get:qn},key:{get:Un}}),t}var Hn=s&&s.querySelector;function Wn(t){if("string"==typeof t&&Hn&&(t=Hn.call(document,t)),t&&t._ractive)return Vn({},t._ractive.proxy)}var Kn=new ut("insert"),Gn=function(t,e,n){for(this.fragment=t,this.reference=Nt(e),this.callback=n,this.keys=It(e),this.resolved=!1,this.contexts=[];t;)t.context&&(t.context.addUnresolved(this.keys[0],this),this.contexts.push(t.context)),t=t.componentParent||t.parent};function Yn(t,e,n,r){var i=t.viewmodel,o=It(e),s=o.indexOf("*");if(r.keypath=e,!~s){var a,u=o[0];return""===u||i.has(u)?a=i.joinAll(o):t.component&&!t.isolated&&(a=Xe(t.component.parentFragment,u))&&(i.map(u,a),a=i.joinAll(o)),new Xn(t,a,n,r)}var c=0===s?i:i.joinAll(o.slice(0,s));return new Qn(t,c,o.splice(s),n,r)}Gn.prototype.attemptResolution=function(){if(!this.resolved){var t=se(this.fragment,this.reference);t&&(this.resolved=!0,this.callback(t))}},Gn.prototype.forceResolution=function(){if(!this.resolved){var t=this.fragment.findContext().joinAll(this.keys);this.callback(t),this.resolved=!0}},Gn.prototype.rebinding=function(t,e){var n=this;e&&e.removeUnresolved(this.keys[0],this),this.next=t,t&&Ft.scheduleTask(function(){t===n.next&&(t.addUnresolved(n.keys[0],n),n.next=null)})},Gn.prototype.unbind=function(){var t=this;this.fragment&&ft(this.fragment.unresolved,this),this.resolved||this.contexts.forEach(function(e){return e.removeUnresolved(t.keys[0],t)})};var Xn=function(t,e,n,r){var i=this;this.context=r.context||t,this.callback=n,this.ractive=t,e?this.resolved(e):(this.keypath=r.keypath,this.resolver=new Gn(t.fragment,r.keypath,function(t){i.resolved(t)})),!1!==r.init?(this.dirty=!0,this.dispatch()):this.oldValue=this.newValue,this.defer=r.defer,this.once=r.once,this.strict=r.strict,this.dirty=!1};Xn.prototype.cancel=function(){this.cancelled=!0,this.model?this.model.unregister(this):this.resolver.unbind()},Xn.prototype.dispatch=function(){this.cancelled||(this.callback.call(this.context,this.newValue,this.oldValue,this.keypath),this.oldValue=this.model?this.model.get():this.newValue,this.dirty=!1)},Xn.prototype.handleChange=function(){var t=this;if(!this.dirty){var e=this.model.get();if(M(e,this.oldValue))return;if(this.newValue=e,this.strict&&this.newValue===this.oldValue)return;Ft.addObserver(this,this.defer),this.dirty=!0,this.once&&Ft.scheduleTask(function(){return t.cancel()})}},Xn.prototype.rebinding=function(t,e){var n=this;if((t=je(this.keypath,t,e))===this.model)return!1;this.model&&this.model.unregister(this),t&&t.addShuffleTask(function(){return n.resolved(t)})},Xn.prototype.resolved=function(t){this.model=t,this.keypath=t.getKeypath(this.ractive),this.oldValue=void 0,this.newValue=t.get(),t.register(this)};var Qn=function(t,e,n,r,i){var o=this;this.context=i.context||t,this.ractive=t,this.baseModel=e,this.keys=n,this.callback=r;var s=n.join("\\.").replace(/\*/g,"(.+)"),a=e.getKeypath(t);this.pattern=new RegExp("^"+(a?a+"\\.":"")+s+"$"),this.oldValues={},this.newValues={},this.defer=i.defer,this.once=i.once,this.strict=i.strict,this.dirty=!1,this.changed=[],this.partial=!1,e.findMatches(this.keys).forEach(function(t){o.newValues[t.getKeypath(o.ractive)]=t.get()}),!1!==i.init?this.dispatch():this.oldValues=this.newValues,e.registerPatternObserver(this)};function Jn(){return-1}Qn.prototype.cancel=function(){this.baseModel.unregisterPatternObserver(this)},Qn.prototype.dispatch=function(){var t=this,e=this.newValues;if(this.newValues={},Object.keys(e).forEach(function(n){if(!t.newKeys||t.newKeys[n]){var r=e[n],i=t.oldValues[n];if(!(t.strict&&r===i||M(r,i))){var o=[r,i,n];if(n){var s=t.pattern.exec(n);s&&(o=o.concat(s.slice(1)))}t.callback.apply(t.context,o)}}}),this.partial)for(var n in e)this.oldValues[n]=e[n];else this.oldValues=e;this.newKeys=null,this.dirty=!1},Qn.prototype.notify=function(t){this.changed.push(t)},Qn.prototype.shuffle=function(t){if(P(this.baseModel.value)){var e=this.baseModel.getKeypath(this.ractive),n=this.baseModel.value.length,r=this.keys.length>1?"."+this.keys.slice(1).join("."):"";this.newKeys={};for(var i=0;i<t.length;i++)-1!==t[i]&&t[i]!==i&&(this.newKeys[e+"."+i+r]=!0);for(var o=t.touchedFrom;o<n;o++)this.newKeys[e+"."+o+r]=!0}},Qn.prototype.handleChange=function(){var t=this;if(!this.dirty||this.changed.length){if(this.dirty||(this.newValues={}),this.changed.length){var e=0,n=this.baseModel.isRoot?this.changed.map(function(t){return t.map(Bt).join(".")}):this.changed.map(function(e){return t.baseModel.getKeypath(t.ractive)+"."+e.map(Bt).join(".")});if(this.baseModel.findMatches(this.keys).forEach(function(r){var i=r.getKeypath(t.ractive);n.filter(function(t){return 0===t.indexOf(i)&&(t.length===i.length||"."===t[i.length])||0===i.indexOf(t)&&(t.length===i.length||"."===i[t.length])}).length&&(e++,t.newValues[i]=r.get())}),!e)return;this.partial=!0}else this.baseModel.findMatches(this.keys).forEach(function(e){var n=e.getKeypath(t.ractive);t.newValues[n]=e.get()}),this.partial=!1;Ft.addObserver(this,this.defer),this.dirty=!0,this.changed.length=0,this.once&&this.cancel()}};var Zn=function(t,e,n,r){this.context=t,this.model=e,this.keypath=e.getKeypath(),this.callback=n,this.pending=null,e.register(this),!1!==r.init?(this.sliced=[],this.shuffle([]),this.handleChange()):this.sliced=this.slice()};Zn.prototype.handleChange=function(){this.pending?(this.callback(this.pending),this.pending=null):(this.shuffle(this.sliced.map(Jn)),this.handleChange())},Zn.prototype.shuffle=function(t){var e,n=this,r=this.slice(),i=[],o=[],s={};t.forEach(function(t,r){s[t]=!0,t!==r&&void 0===e&&(e=r),-1===t&&o.push(n.sliced[r])}),void 0===e&&(e=t.length);for(var a=r.length,u=0;u<a;u+=1)s[u]||i.push(r[u]);this.pending={inserted:i,deleted:o,start:e},this.sliced=r},Zn.prototype.slice=function(){var t=this.model.get();return P(t)?t.slice():[]};var tr={init:!1,once:!0};function er(t){return t.trim()}function nr(t){return""!==t}var rr=tn("pop").path,ir=tn("push").path,or="/* Ractive.js component styles */",sr=[],ar=!1,ur=null,cr=null;function lr(t){return(t?sr.filter(function(e){return~t.indexOf(e.id)}):sr).reduce(function(t,e){return t+"\n\n/* {"+e.id+"} */\n"+e.styles},or)}!s||ur&&ur.parentNode||((ur=s.createElement("style")).type="text/css",s.getElementsByTagName("head")[0].appendChild(ur),cr=!!ur.styleSheet);var hr=new ut("render"),pr=new ut("complete");function fr(t,e,n,r){var i=t.transitionsEnabled;t.noIntro&&(t.transitionsEnabled=!1);var o=Ft.start(t,!0);if(Ft.scheduleTask(function(){return hr.fire(t)},!0),t.fragment.rendered)throw new Error("You cannot call ractive.render() on an already rendered instance! Call ractive.unrender() first");if(n=E(n)||t.anchor,t.el=e,t.anchor=n,t.cssId&&s&&ar&&(cr?ur.styleSheet.cssText=lr(null):ur.innerHTML=lr(null),ar=!1),e)if((e.__ractive_instances__||(e.__ractive_instances__=[])).push(t),n){var a=s.createDocumentFragment();t.fragment.render(a),e.insertBefore(a,n)}else t.fragment.render(e,r);return Ft.end(),t.transitionsEnabled=i,o.then(function(){return pr.fire(t)})}var dr={extend:function(t,e,n){e.adapt=function(t,e){var n=t.slice(),r=e.length;for(;r--;)~n.indexOf(e[r])||n.push(e[r]);return n}(e.adapt,ht(n.adapt))},init:function(){}},gr=/\/\*(?:[\s\S]*?)\*\//g,mr=/url\(\s*(['"])(?:\\[\s\S]|(?!\1).)*\1\s*\)|url\((?:\\[\s\S]|[^)])*\)|(['"])(?:\\[\s\S]|(?!\2).)*\2/gi,vr=/\0(\d+)/g,yr=/(?:^|\}|\{)\s*([^\{\}\0]+)\s*(?=\{)/g,br=/@keyframes\s+[^\{\}]+\s*\{(?:[^{}]+|\{[^{}]+})*}/gi,wr=/((?:(?:\[[^\]]+\])|(?:[^\s\+\>~:]))+)((?:::?[^\s\+\>\~\(:]+(?:\([^\)]+\))?)*\s*[\s\+\>\~]?)\s*/g,Dr=/^(?:@|\d+%)/,Cr=/\[data-ractive-css~="\{[a-z0-9-]+\}"]/g;function xr(t){return t.trim()}function Er(t){return t.str}function Ar(t,e){var n='[data-ractive-css~="{'+e+'}"]';return Cr.test(t)?t.replace(Cr,n):function(t,e,n){void 0===n&&(n=[]);var r=[];return t=t.replace(mr,function(t){return"\0"+(r.push(t)-1)}).replace(gr,""),n.forEach(function(e){t=t.replace(e,function(t){return"\0"+(r.push(t)-1)})}),e(t,function(t){return t.replace(vr,function(t,e){return r[e]})})}(t,function(t,e){return e(t=t.replace(yr,function(t,e){if(Dr.test(e))return t;var r=e.split(",").map(xr).map(function(t){return function(t,e){for(var n,r=[];n=wr.exec(t);)r.push({str:n[0],base:n[1],modifiers:n[2]});for(var i=r.map(Er),o=[],s=r.length;s--;){var a=i.slice(),u=r[s];a[s]=u.base+e+u.modifiers||"";var c=i.slice();c[s]=e+" "+c[s],o.push(a.join(" "),c.join(" "))}return o.join(", ")}(t,n)}).join(", ")+" ";return t.replace(e,r)}))},[br])}function Fr(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}var _r={name:"css",extend:function(t,e,n){if(n.css){var r,i=Fr()+Fr()+"-"+Fr()+"-"+Fr()+"-"+Fr()+"-"+Fr()+Fr()+Fr(),o=n.noCssTransform?n.css:Ar(n.css,i);e.cssId=i,r={id:i,styles:o},sr.push(r),ar=!0}},init:function(t,e,n){n.css&&X("\nThe css option is currently not supported on a per-instance basis and will be discarded. Instead, we recommend instantiating from a component definition with a css option.\n\nconst Component = Ractive.extend({\n\t...\n\tcss: '/* your css */',\n\t...\n});\n\nconst componentInstance = new Component({ ... })\n\t\t")}},kr={name:"data",extend:function(t,e,n){var r,i;if(n.data&&z(n.data))for(r in n.data)(i=n.data[r])&&"object"==typeof i&&(z(i)||P(i))&&X("Passing a `data` option with object and array properties to Ractive.extend() is discouraged, as mutating them is likely to cause bugs. Consider using a data function instead:\n\n  // this...\n  data: function () {\n    return {\n      myObject: {}\n    };\n  })\n\n  // instead of this:\n  data: {\n    myObject: {}\n  }");e.data=Sr(e.data,n.data)},init:function(t,e,n){var r=Sr(t.prototype.data,n.data);if("function"==typeof r&&(r=r.call(e)),r&&r.constructor===Object)for(var i in r)"function"==typeof r[i]&&(r[i]=Pt(r[i],e));return r||{}},reset:function(t){var e=this.init(t.constructor,t,t.viewmodel);return t.viewmodel.root.set(e),!0}};function Sr(t,e){var n;(n=e)&&n.constructor!==Object&&("function"==typeof n||("object"!=typeof n?G("data option must be an object or a function, `"+n+"` is not valid"):X("If supplied, options.data should be a plain JavaScript object - using a non-POJO as the root object may work, but is discouraged")));var r="function"==typeof t,i="function"==typeof e;return e||r||(e={}),r||i?function(){return Or(i?Tr(e,this):e,r?Tr(t,this):t)}:Or(e,t)}function Tr(t,e){var n=t.call(e);if(n)return"object"!=typeof n&&G("Data function must return an object"),n.constructor!==Object&&Q("Data function returned something other than a plain JavaScript object. This might work, but is strongly discouraged"),n}function Or(t,e){if(t&&e){for(var n in e)n in t||(t[n]=e[n]);return t}return t||e}var Br=4,Nr=/\$\{([^\}]+)\}/g;function Ir(t,e){void 0===e&&(e=0);for(var n=new Array(e);e--;)n[e]="_"+e;return new Function([],"return function ("+n.join(",")+"){return("+t+");};")()}function Rr(t,e){var n,r="return ("+t.replace(Nr,function(t,e){return n=!0,'__ractive.get("'+e+'")'})+");";n&&(r="var __ractive = this; "+r);var i=new Function(r);return n?i.bind(e):i}var jr,Pr,Mr=k(null);function Lr(t,e){return Mr[t]?Mr[t]:Mr[t]=(n=t,r=e,pa(Ir,"new expression function",la),Ir(n,r));var n,r}function zr(t){if(t){var e=t.e;e&&Object.keys(e).forEach(function(t){Mr[t]||(Mr[t]=e[t])})}}var $r=/^\s+/;(Pr=function(t){this.name="ParseError",this.message=t;try{throw new Error(t)}catch(t){this.stack=t.stack}}).prototype=Error.prototype,(jr=function(t,e){var n,r,i=0;for(this.str=t,this.options=e||{},this.pos=0,this.lines=this.str.split("\n"),this.lineEnds=this.lines.map(function(t){var e=i+t.length+1;return i=e,e},0),this.init&&this.init(t,e),n=[];this.pos<this.str.length&&(r=this.read());)n.push(r);this.leftover=this.remaining(),this.result=this.postProcess?this.postProcess(n,e):n}).prototype={read:function(t){var e,n,r,i;for(t||(t=this.converters),e=this.pos,r=t.length,n=0;n<r;n+=1)if(this.pos=e,i=t[n](this))return i;return null},getContextMessage:function(t,e){var n=this.getLinePos(t),r=n[0],i=n[1];if(-1===this.options.contextLines)return[r,i,e+" at line "+r+" character "+i];var o=this.lines[r-1],s="",a="";if(this.options.contextLines){var u=r-1-this.options.contextLines<0?0:r-1-this.options.contextLines;(s=this.lines.slice(u,r-1-u).join("\n").replace(/\t/g,"  "))&&(s+="\n"),(a=this.lines.slice(r,r+this.options.contextLines).join("\n").replace(/\t/g,"  "))&&(a="\n"+a)}var c=0,l=s+o.replace(/\t/g,function(t,e){return e<i&&(c+=1),"  "})+"\n"+new Array(i+c).join(" ")+"^----"+a;return[r,i,e+" at line "+r+" character "+i+":\n"+l]},getLinePos:function(t){for(var e=0,n=0;t>=this.lineEnds[e];)n=this.lineEnds[e],e+=1;return[e+1,t-n+1,t]},error:function(t){var e=this.getContextMessage(this.pos,t),n=e[0],r=e[1],i=e[2],o=new Pr(i);throw o.line=n,o.character=r,o.shortMessage=t,o},matchString:function(t){if(this.str.substr(this.pos,t.length)===t)return this.pos+=t.length,t},matchPattern:function(t){var e;if(e=t.exec(this.remaining()))return this.pos+=e[0].length,e[1]||e[0]},allowWhitespace:function(){this.matchPattern($r)},remaining:function(){return this.str.substring(this.pos)},nextChar:function(){return this.str.charAt(this.pos)}},jr.extend=function(t){var e,n;for(n in(e=function(t,e){jr.call(this,t,e)}).prototype=k(this.prototype),t)R.call(t,n)&&(e.prototype[n]=t[n]);return e.extend=jr.extend,e};var qr=jr,Ur=1,Vr=2,Hr=3,Wr=4,Kr=5,Gr=6,Yr=7,Xr=8,Qr=9,Jr=10,Zr=13,ti=14,ei=15,ni=16,ri=17,ii=18,oi=19,si=20,ai=21,ui=22,ci=23,li=24,hi=25,pi=26,fi=27,di=30,gi=31,mi=32,vi=33,yi=34,bi=35,wi=36,Di=40,Ci=50,xi=51,Ei=52,Ai=53,Fi=54,_i=60,ki=61,Si=70,Ti=71,Oi=72,Bi=73,Ni=/^[^\s=]+/,Ii=/^\s+/,Ri=/^(\/(?:[^\n\r\u2028\u2029\/\\[]|\\.|\[(?:[^\n\r\u2028\u2029\]\\]|\\.)*])+\/(?:([gimuy])(?![a-z]*\2))*(?![a-zA-Z_$0-9]))/;function ji(t){var e;return(e=t.matchPattern(Ri))?{t:hi,v:e}:null}var Pi=/[-\/\\^$*+?.()|[\]{}]/g;function Mi(t){return t.replace(Pi,"\\$&")}var Li={};function zi(t,e){return t.search(Li[e.join()]||(Li[e.join()]=new RegExp(e.map(Mi).join("|"))))}var $i=/^(allowFullscreen|async|autofocus|autoplay|checked|compact|controls|declare|default|defaultChecked|defaultMuted|defaultSelected|defer|disabled|enabled|formNoValidate|hidden|indeterminate|inert|isMap|itemScope|loop|multiple|muted|noHref|noResize|noShade|noValidate|noWrap|open|pauseOnExit|readOnly|required|reversed|scoped|seamless|selected|sortable|translate|trueSpeed|typeMustMatch|visible)$/i,qi=/^(?:area|base|br|col|command|doctype|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/i,Ui={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Vi=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376],Hi=new RegExp("&(#?(?:x[\\w\\d]+|\\d+|"+Object.keys(Ui).join("|")+"));?","g"),Wi="function"==typeof String.fromCodePoint,Ki=Wi?String.fromCodePoint:String.fromCharCode;function Gi(t){return t.replace(Hi,function(t,e){var n;return(n="#"!==e[0]?Ui[e]:"x"===e[1]?parseInt(e.substring(2),16):parseInt(e.substring(1),10))?Ki(function(t){if(!t)return Ji;if(10===t)return 32;if(t<128)return t;if(t<=159)return Vi[t-128];if(t<55296)return t;if(t<=57343)return Ji;if(t<=65535)return t;if(!Wi)return Ji;if(t>=65536&&t<=131071)return t;if(t>=131072&&t<=196607)return t;return Ji}(n)):t})}var Yi=/</g,Xi=/>/g,Qi=/&/g,Ji=65533;function Zi(t){return t.replace(Qi,"&amp;").replace(Yi,"&lt;").replace(Xi,"&gt;")}var to,eo,no,ro="Expected a JavaScript expression",io="Expected closing paren",oo=/^(?:[+-]?)0*(?:(?:(?:[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/;function so(t){var e;return(e=t.matchPattern(oo))?{t:si,v:e}:null}function ao(t){return function(e){for(var n,r='"',i=!1;!i;)(n=e.matchPattern(to)||e.matchPattern(eo)||e.matchString(t))?r+='"'===n?'\\"':"\\'"===n?"'":n:(n=e.matchPattern(no))?r+="\\u"+("000"+n.charCodeAt(1).toString(16)).slice(-4):i=!0;return r+='"',JSON.parse(r)}}to=/^(?=.)[^"'\\]+?(?:(?!.)|(?=["'\\]))/,eo=/^\\(?:['"\\bfnrt]|0(?![0-9])|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|(?=.)[^ux0-9])/,no=/^\\(?:\r\n|[\u000A\u000D\u2028\u2029])/;var uo=ao('"'),co=ao("'");function lo(t){var e,n;return e=t.pos,t.matchString('"')?(n=co(t),t.matchString('"')?{t:ai,v:n}:(t.pos=e,null)):t.matchString("'")?(n=uo(t),t.matchString("'")?{t:ai,v:n}:(t.pos=e,null)):null}var ho=/^[a-zA-Z_$][a-zA-Z_$0-9]*/,po=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;function fo(t){var e;return(e=lo(t))?po.test(e.v)?e.v:'"'+e.v.replace(/"/g,'\\"')+'"':(e=so(t))?e.v:(e=t.matchPattern(ho))?e:null}function go(t){var e,n,r,i;return e=t.pos,null===(r=function(t){var e,n,r;e=t.pos,t.allowWhitespace();var i="'"!==t.nextChar()&&'"'!==t.nextChar();return null===(n=fo(t))?(t.pos=e,null):(t.allowWhitespace(),!i||","!==t.nextChar()&&"}"!==t.nextChar()?t.matchString(":")?(t.allowWhitespace(),null===(r=jo(t))?(t.pos=e,null):{t:fi,k:n,v:r}):(t.pos=e,null):(ho.test(n)||t.error("Expected a valid reference, but found '"+n+"' instead."),{t:fi,k:n,v:{t:di,n:n}}))}(t))?null:(n=[r],t.matchString(",")?(i=go(t))?n.concat(i):(t.pos=e,null):n)}function mo(t){t.allowWhitespace();var e=jo(t);if(null===e)return null;var n=[e];if(t.allowWhitespace(),t.matchString(",")){var r=mo(t);null===r&&t.error(ro),n.push.apply(n,r)}return n}function vo(t){return so(t)||function(t){var e=t.remaining();return"true"===e.substr(0,4)?(t.pos+=4,{t:li,v:"true"}):"false"===e.substr(0,5)?(t.pos+=5,{t:li,v:"false"}):null}(t)||lo(t)||function(t){var e,n;return e=t.pos,t.allowWhitespace(),t.matchString("{")?(n=go(t),t.allowWhitespace(),t.matchString("}")?{t:ci,m:n}:(t.pos=e,null)):(t.pos=e,null)}(t)||function(t){var e,n;return e=t.pos,t.allowWhitespace(),t.matchString("[")?(n=mo(t),t.matchString("]")?{t:ui,m:n}:(t.pos=e,null)):(t.pos=e,null)}(t)||ji(t)}var yo,bo,wo=/^(?:~\/|(?:\.\.\/)+|\.\/(?:\.\.\/)*|\.)/;yo=/^(?:Array|console|Date|RegExp|decodeURIComponent|decodeURI|encodeURIComponent|encodeURI|isFinite|isNaN|parseFloat|parseInt|JSON|Math|NaN|undefined|null|Object|Number|String|Boolean)\b/,bo=/^(?:break|case|catch|continue|debugger|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|var|void|while|with)$/;var Do,Co,xo=/^(?:[a-zA-Z$_0-9]|\\\.)+(?:(?:\.(?:[a-zA-Z$_0-9]|\\\.)+)|(?:\[[0-9]+\]))*/,Eo=/^[a-zA-Z_$][-\/a-zA-Z_$0-9]*/,Ao=/^@(?:keypath|rootpath|index|key|this|global)/,Fo=/^\s*\(/,_o=/^\s*\.{3}/;function ko(t){var e,n,r,i,o,s,a,u;if(e=t.pos,("@keypath"===(r=t.matchPattern(Ao))||"@rootpath"===r)&&t.matchPattern(Fo)){var c=ko(t);c||t.error("Expected a valid reference for a keypath expression"),t.allowWhitespace(),t.matchString(")")||t.error("Unclosed keypath expression"),r+="("+c.n+")"}if(u=!r&&t.spreadArgs&&t.matchPattern(_o),r||((r=!(n=t.matchPattern(wo)||"")&&t.relaxedNames&&t.matchPattern(Eo)||t.matchPattern(xo))||"."!==n?!r&&n&&(r=n,n=""):(n="",r=".")),!r)return null;if(!n&&!t.relaxedNames&&bo.test(r))return t.pos=e,null;if(!n&&yo.test(r))return i=yo.exec(r)[0],t.pos=e+i.length,{t:pi,v:(u?"...":"")+i};if(s=(u?3:0)+(n||"").length+r.length,o=(n||"")+Nt(r),t.matchString("("))if(-1!==(a=o.lastIndexOf("."))&&"]"!==r[r.length-1]){var l=o.length;o=o.substr(0,a),t.pos=e+(s-(l-a))}else t.pos-=1;return{t:di,n:(u?"...":"")+o.replace(/^this\./,"./").replace(/^this$/,".")}}function So(t){return vo(t)||ko(t)||function(t){if(!t.matchString("("))return null;t.allowWhitespace();var e=jo(t);return e||t.error(ro),t.allowWhitespace(),t.matchString(")")||t.error(io),{t:yi,x:e}}(t)}function To(t){if(t.strictRefinement||t.allowWhitespace(),t.matchString(".")){t.allowWhitespace();var e=t.matchPattern(ho);if(e)return{t:gi,n:e};t.error("Expected a property name")}if(t.matchString("[")){t.allowWhitespace();var n=jo(t);return n||t.error(ro),t.allowWhitespace(),t.matchString("]")||t.error("Expected ']'"),{t:gi,x:n}}return null}function Oo(t){var e=So(t);if(!e)return null;for(;e;){var n=To(t);if(n)e={t:mi,x:e,r:n};else{if(!t.matchString("("))break;t.allowWhitespace();var r=t.spreadArgs;t.spreadArgs=!0;var i=mo(t);t.spreadArgs=r,t.allowWhitespace(),t.matchString(")")||t.error(io),e={t:Di,x:e},i&&(e.o=i)}}return e}Co=function(t,e){return function(n){var r;return(r=e(n))?r:n.matchString(t)?(n.allowWhitespace(),(r=jo(n))||n.error(ro),{s:t,o:r,t:vi}):null}},function(){var t,e,n,r;for(r=Oo,t=0,e=(n="! ~ + - typeof".split(" ")).length;t<e;t+=1)r=Co(n[t],r);Do=r}();var Bo,No,Io=Do;No=function(t,e){return function(n){var r,i,o;if(!(i=e(n)))return null;for(;;){if(r=n.pos,n.allowWhitespace(),!n.matchString(t))return n.pos=r,i;if("in"===t&&/[a-zA-Z_$0-9]/.test(n.remaining().charAt(0)))return n.pos=r,i;if(n.allowWhitespace(),!(o=e(n)))return n.pos=r,i;i={t:wi,s:t,o:[i,o]}}}},function(){var t,e,n,r;for(n="* / % + - << >> >>> < <= > >= in instanceof == != === !== & ^ | && ||".split(" "),r=Io,t=0,e=n.length;t<e;t+=1)r=No(n[t],r);Bo=r}();var Ro=Bo;function jo(t){return function(t){var e,n,r,i;return(n=Ro(t))?(e=t.pos,t.allowWhitespace(),t.matchString("?")?(t.allowWhitespace(),(r=jo(t))||t.error(ro),t.allowWhitespace(),t.matchString(":")||t.error('Expected ":"'),t.allowWhitespace(),(i=jo(t))||t.error(ro),{t:bi,o:[n,r,i]}):(t.pos=e,n)):null}(t)}function Po(t){var e,n,r=0;return function t(e,n){var r,i;e.t===di&&-1===n.indexOf(e.n)&&n.unshift(e.n);i=e.o||e.m;if(i)if(z(i))t(i,n);else for(r=i.length;r--;)i[r].n&&0===i[r].n.indexOf("...")&&(e.spread=!0),t(i[r],n);e.x&&t(e.x,n);e.r&&t(e.r,n);e.v&&t(e.v,n)}(t,e=[]),n=function t(n){switch(n.t){case li:case pi:case si:case hi:return n.v;case ai:return JSON.stringify(String(n.v));case ui:return"["+(n.m?n.m.map(t).join(","):"")+"]";case ci:return"{"+(n.m?n.m.map(t).join(","):"")+"}";case fi:return n.k+":"+t(n.v);case vi:return("typeof"===n.s?"typeof ":n.s)+t(n.o);case wi:return t(n.o[0])+("in"===n.s.substr(0,2)?" "+n.s+" ":n.s)+t(n.o[1]);case Di:if(n.spread){var i=r++;return"(spread$"+i+" = "+t(n.x)+").apply(spread$"+i+", [].concat("+(n.o?n.o.map(function(e){return e.n&&0===e.n.indexOf("...")?t(e):"["+t(e)+"]"}).join(","):"")+") )"}return t(n.x)+"("+(n.o?n.o.map(t).join(","):"")+")";case yi:return"("+t(n.x)+")";case mi:return t(n.x)+t(n.r);case gi:return n.n?"."+n.n:"["+t(n.x)+"]";case bi:return t(n.o[0])+"?"+t(n.o[1])+":"+t(n.o[2]);case di:return"_"+e.indexOf(n.n);default:throw new Error("Expected legal JavaScript")}}(t),{r:e=e.map(function(t){return 0===t.indexOf("...")?t.substr(3):t}),s:function(t){for(var e=[],n=r-1;n>=0;n--)e.push("spread$"+n);return e.length?"(function(){var "+e.join(",")+";return("+t+");})()":t}(n)}}var Mo={true:!0,false:!1,null:null,undefined:void 0},Lo=new RegExp("^(?:"+Object.keys(Mo).join("|")+")"),zo=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,$o=/\$\{([^\}]+)\}/g,qo=/^\$\{([^\}]+)\}/,Uo=/^\s*$/,Vo=qr.extend({init:function(t,e){this.values=e.values,this.allowWhitespace()},postProcess:function(t){return 1===t.length&&Uo.test(this.leftover)?{value:t[0].v}:null},converters:[function(t){if(!t.values)return null;var e=t.matchPattern(qo);return e&&t.values.hasOwnProperty(e)?{v:t.values[e]}:void 0},function(t){var e=t.matchPattern(Lo);if(e)return{v:Mo[e]}},function(t){var e=t.matchPattern(zo);if(e)return{v:+e}},function(t){var e=lo(t),n=t.values;return e&&n?{v:e.v.replace($o,function(t,e){return e in n?n[e]:e})}:e},function(t){if(!t.matchString("{"))return null;var e,n={};if(t.allowWhitespace(),t.matchString("}"))return{v:n};for(;e=Ho(t);){if(n[e.key]=e.value,t.allowWhitespace(),t.matchString("}"))return{v:n};if(!t.matchString(","))return null}return null},function(t){if(!t.matchString("["))return null;var e,n=[];if(t.allowWhitespace(),t.matchString("]"))return{v:n};for(;e=t.read();){if(n.push(e.v),t.allowWhitespace(),t.matchString("]"))return{v:n};if(!t.matchString(","))return null;t.allowWhitespace()}return null}]});function Ho(t){t.allowWhitespace();var e=fo(t);if(!e)return null;var n={key:e};if(t.allowWhitespace(),!t.matchString(":"))return null;t.allowWhitespace();var r=t.read();return r?(n.value=r.v,n):null}function Wo(t,e){return new Vo(t,{values:e}).result}var Ko,Go=/^([a-zA-Z_$][a-zA-Z_$0-9]*)\(.*\)\s*$/,Yo=/^\s*$/;function Xo(t,e,n){var r,i,o,s,a,u,c;if("string"==typeof t){var l=e.pos-t.length;if(n===Ti||n===Oi)return{a:Po(new Ko("["+t+"]").result[0])};if(n===Si&&(i=Go.exec(t))&&(X(e.getContextMessage(l,"Unqualified method events are deprecated. Prefix methods with '@this.' to call methods on the current Ractive instance.")[2]),t="@this."+i[1]+t.substr(i[1].length)),n===Si&&~t.indexOf("(")){var h=new Ko("["+t+"]");if(h.result&&h.result[0])return h.remaining().length&&(e.pos=l+t.length-h.remaining().length,e.error("Invalid input after event expression '"+h.remaining()+"'")),{x:Po(h.result[0])};(t.indexOf(":")>t.indexOf("(")||!~t.indexOf(":"))&&(e.pos=l,e.error("Invalid input in event expression '"+t+"'"))}if(-1===t.indexOf(":"))return t.trim();t=[t]}if(r={},a=[],u=[],t){for(;t.length;)if("string"==typeof(o=t.shift())){if(Yo.test(o))continue;if(-1!==(s=o.indexOf(":"))){s&&a.push(o.substr(0,s)),o.length>s+1&&(u[0]=o.substring(s+1));break}a.push(o)}else a.push(o);u=u.concat(t)}return a.length?u.length||"string"!=typeof a?(r={n:1===a.length&&"string"==typeof a[0]?a[0]:a},1===u.length&&"string"==typeof u[0]?(c=Wo("["+u[0]+"]"),r.a=c?c.value:[u[0].trim()]):r.d=u):r=a:r="",u.length&&n&&X(e.getContextMessage(e.pos,"Proxy events with arguments are deprecated. You can fire events with arguments using \"@this.fire('eventName', arg1, arg2, ...)\".")[2]),r}Ko=qr.extend({converters:[jo],spreadArgs:!0});var Qo=/^[^\s"'>\/=]+/,Jo=/^on/,Zo=/^on-([a-zA-Z\\*\\.$_][a-zA-Z\\*\\.$_0-9\-]+)$/,ts=/^(?:change|reset|teardown|update|construct|config|init|render|unrender|detach|insert)$/,es=/^as-([a-z-A-Z][-a-zA-Z_0-9]*)$/,ns=/^([a-zA-Z](?:(?!-in-out)[-a-zA-Z_0-9])*)-(in|out|in-out)$/,rs={"intro-outro":{t:Oi,v:"t0"},intro:{t:Oi,v:"t1"},outro:{t:Oi,v:"t2"},lazy:{t:Bi,v:"l"},twoway:{t:Bi,v:"t"},decorator:{t:Ti}},is=/^[^\s"'=<>\/`]+/;function os(t){var e,n,r,i,o,s;if(t.allowWhitespace(),!(n=t.matchPattern(Qo)))return null;for(o=n.length,i=0;i<t.tags.length;i++)~(s=n.indexOf(t.tags[i].open))&&s<o&&(o=s);return o<n.length?(t.pos-=n.length-o,(n=n.substr(0,o))?{n:n}:null):(e={n:n},null!=(r=function(t){var e,n,r,i;e=t.pos,/[=\/>\s]/.test(t.nextChar())||t.error("Expected `=`, `/`, `>` or whitespace");if(t.allowWhitespace(),!t.matchString("="))return t.pos=e,null;t.allowWhitespace(),n=t.pos,r=t.sectionDepth,null===(i=as(t,"'")||as(t,'"')||function(t){var e,n;for(t.inAttribute=!0,e=[],n=ls(t)||ss(t);n;)e.push(n),n=ls(t)||ss(t);return e.length?(t.inAttribute=!1,e):null}(t))&&t.error("Expected valid attribute value");t.sectionDepth!==r&&(t.pos=n,t.error("An attribute value must contain as many opening section tags as closing section tags"));if(!i.length)return"";if(1===i.length&&"string"==typeof i[0])return Gi(i[0]);return i}(t))&&(e.f=r),e)}function ss(t){var e,n,r;return e=t.pos,(n=t.matchPattern(is))?(-1!==(r=zi(n,t.tags.map(function(t){return t.open})))&&(n=n.substr(0,r),t.pos=e+n.length),n):null}function as(t,e){var n,r,i;if(n=t.pos,!t.matchString(e))return null;for(t.inAttribute=e,r=[],i=ls(t)||us(t,e);null!==i;)r.push(i),i=ls(t)||us(t,e);return t.matchString(e)?(t.inAttribute=!1,r):(t.pos=n,null)}function us(t,e){var n=t.remaining(),r=t.tags.map(function(t){return t.open});r.push(e);var i=zi(n,r);return-1===i&&t.error("Quoted attribute value must have a closing quote"),i?(t.pos+=i,n.substr(0,i)):null}var cs={t:Jr,exclude:!0};function ls(t){var e,n;if(!1===t.interpolate[t.inside])return null;for(n=0;n<t.tags.length;n+=1)if(e=hs(t,t.tags[n]))return e;return t.inTag&&!t.inAttribute&&(e=function(t){var e,n,r;if(!(n=os(t)))return null;if(r=rs[n.n])n.t=r.t,r.v&&(n.v=r.v),delete n.n,r.t!==Oi&&r.t!==Ti||(n.f=Xo(n.f,t)),r.t===Oi?Q(("t0"===r.v?"intro-outro":"t1"===r.v?"intro":"outro")+" is deprecated. To specify tranisitions, use the transition name suffixed with '-in', '-out', or '-in-out' as an attribute. Arguments can be specified in the attribute value as a simple list of expressions without mustaches."):r.t===Ti&&Q("decorator is deprecated. To specify decorators, use the decorator name prefixed with 'as-' as an attribute. Arguments can be specified in the attribute value as a simple list of expressions without mustaches.");else if(e=es.exec(n.n))delete n.n,n.t=Ti,n.f=Xo(n.f,t,Ti),"object"==typeof n.f?n.f.n=e[1]:n.f=e[1];else if(e=ns.exec(n.n))delete n.n,n.t=Oi,n.f=Xo(n.f,t,Oi),"object"==typeof n.f?n.f.n=e[1]:n.f=e[1],n.v="in-out"===e[2]?"t0":"in"===e[2]?"t1":"t2";else if(e=Zo.exec(n.n))n.n=e[1],n.t=Si,n.f=Xo(n.f,t,Si),ts.test(n.f.n||n.f)&&(t.pos-=(n.f.n||n.f).length,t.error("Cannot use reserved event names (change, reset, teardown, update, construct, config, init, render, unrender, detach, insert)"));else{if(t.sanitizeEventAttributes&&Jo.test(n.n))return{exclude:!0};n.f=n.f||(""===n.f?"":0),n.t=Zr}return n}(t))?(t.allowWhitespace(),e):void 0}function hs(t,e){var n,r,i;if(n=t.pos,t.matchString("\\"+e.open)){if(0===n||"\\"!==t.str[n-1])return e.open}else if(!t.matchString(e.open))return null;if(r=function(t){var e,n,r;return t.matchString("=")?(e=t.pos,t.allowWhitespace(),(n=t.matchPattern(Ni))?t.matchPattern(Ii)?(r=t.matchPattern(Ni))?(t.allowWhitespace(),t.matchString("=")?[n,r]:(t.pos=e,null)):(t.pos=e,null):null:(t.pos=e,null)):null}(t))return t.matchString(e.close)?(e.open=r[0],e.close=r[1],t.sortMustacheTags(),cs):null;if(t.allowWhitespace(),t.matchString("/")){t.pos-=1;var o=t.pos;if(ji(t))t.pos=o;else{if(t.pos=o-e.close.length,t.inAttribute)return t.pos=n,null;t.error("Attempted to close a section that wasn't open")}}for(i=0;i<e.readers.length;i+=1)if(r=(0,e.readers[i])(t,e))return e.isStatic&&(r.s=!0),t.includeLinePositions&&(r.p=t.getLinePos(n)),r;return t.pos=n,null}function ps(t,e){var n;if(t){for(;t.t===yi&&t.x;)t=t.x;return t.t===di?e.r=t.n:(n=function(t){var e,n=[];for(;t.t===mi&&t.r.t===gi;)(e=t.r).x?e.x.t===di?n.unshift(e.x):n.unshift(Po(e.x)):n.unshift(e.n),t=t.x;if(t.t!==di)return null;return{r:t.n,m:n}}(t))?e.rx=n:e.x=Po(t),e}}function fs(t,e){var n,r;return t.matchString("&")?(t.allowWhitespace(),(n=jo(t))?(t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),ps(n,r={t:Hr}),r):null):null}var ds=/^(?:[a-zA-Z$_0-9]|\\\.)+(?:(?:(?:[a-zA-Z$_0-9]|\\\.)+)|(?:\[[0-9]+\]))*/,gs=/^as/i;function ms(t){var e,n=[],r=t.pos;if(t.allowWhitespace(),e=vs(t)){for(e.x=ps(e.x,{}),n.push(e),t.allowWhitespace();t.matchString(",");)(e=vs(t))||t.error("Expected another alias."),e.x=ps(e.x,{}),n.push(e),t.allowWhitespace();return n}return t.pos=r,null}function vs(t){var e,n,r=t.pos;return t.allowWhitespace(),(e=jo(t))?(t.allowWhitespace(),t.matchPattern(gs)?(t.allowWhitespace(),(n=t.matchPattern(ds))||t.error("Expected a legal alias name."),{n:n,x:e}):(t.pos=r,null)):(t.pos=r,null)}function ys(t,e){var n,r,i,o;n=t.pos;try{r=function(t,e){var n,r,i;if(n=t.pos,!(r=jo(t))){var o=t.matchPattern(/^(\w+)/);return o?{t:di,n:o}:null}for(i=0;i<e.length;i+=1)if(t.remaining().substr(0,e[i].length)===e[i])return r;return t.pos=n,ko(t)}(t,[e.close])}catch(t){o=t}if(!r){if("!"===t.str.charAt(n))return t.pos=n,null;if(o)throw o}if(!t.matchString(e.close)&&(t.error("Expected closing delimiter '"+e.close+"' after reference"),!r)){if("!"===t.nextChar())return null;t.error("Expected expression or legal reference")}return ps(r,i={t:Vr}),i}var bs=/^yield\s*/;function ws(t,e){var n,r,i,o;return n=t.pos,t.matchString(e.open)?(t.allowWhitespace(),t.matchString("/")?(t.allowWhitespace(),-1!==(i=(r=t.remaining()).indexOf(e.close))?(o={t:Gr,r:r.substr(0,i).split(" ")[0]},t.pos+=i,t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),o):(t.pos=n,null)):(t.pos=n,null)):null}var Ds=/^\s*else\s*/;function Cs(t,e){var n=t.pos;return t.matchString(e.open)?t.matchPattern(Ds)?(t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),{t:_i}):(t.pos=n,null):null}var xs=/^\s*elseif\s+/;function Es(t,e){var n=t.pos;if(!t.matchString(e.open))return null;if(!t.matchPattern(xs))return t.pos=n,null;var r=jo(t);return t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),{t:ki,x:r}}var As={each:Ei,if:Ci,with:Fi,unless:xi},Fs=/^\s*:\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,_s=/^\s*,\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,ks=new RegExp("^("+Object.keys(As).join("|")+")\\b");function Ss(t,e){var n,r,i,o,s,a,u,c,l,h,p,f,d,g=!1;if(n=t.pos,t.matchString("^"))i={t:Wr,f:[],n:xi};else{if(!t.matchString("#"))return null;i={t:Wr,f:[]},t.matchString("partial")&&(t.pos=n-t.standardDelimiters[0].length,t.error("Partial definitions can only be at the top level of the template, or immediately inside components")),(u=t.matchPattern(ks))&&(p=u,i.n=As[u])}if(t.allowWhitespace(),"with"===u){var m=ms(t);m&&(g=!0,i.z=m,i.t=oi)}else if("each"===u){var v=vs(t);v&&(i.z=[{n:v.n,x:{r:"."}}],r=v.x)}g||(r||(r=jo(t)),r||t.error("Expected expression"),(h=t.matchPattern(Fs))&&((f=t.matchPattern(_s))?i.i=h+","+f:i.i=h));t.allowWhitespace(),t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),t.sectionDepth+=1,s=i.f;do{if(d=t.pos,o=ws(t,e))p&&o.r!==p&&(t.pos=d,t.error("Expected "+e.open+"/"+p+e.close)),t.sectionDepth-=1,l=!0;else if(!g&&(o=Es(t,e))){i.n===xi&&t.error("{{else}} not allowed in {{#unless}}"),a&&t.error("illegal {{elseif...}} after {{else}}"),c||(c=[]);var y={t:Wr,n:Ci,f:s=[]};ps(o.x,y),c.push(y)}else if(!g&&(o=Cs(t,e)))i.n===xi&&t.error("{{else}} not allowed in {{#unless}}"),a&&t.error("there can only be one {{else}} block, at the end of a section"),a=!0,c||(c=[]),c.push({t:Wr,n:xi,f:s=[]});else{if(!(o=t.read(aa)))break;s.push(o)}}while(!l);return c&&(i.l=c),g||ps(r,i),i.f.length||delete i.f,i}var Ts="\x3c!--",Os="--\x3e",Bs=/^[ \t\f\r\n]*\r?\n/,Ns=/\r?\n[ \t\f\r\n]*$/;function Is(t){return"string"==typeof t}function Rs(t){return(t.t===Wr||t.t===Kr)&&t.f}function js(t,e,n){var r;e&&"string"==typeof(r=t[0])&&((r=r.replace(e,""))?t[0]=r:t.shift()),n&&"string"==typeof(r=pt(t))&&((r=r.replace(n,""))?t[t.length-1]=r:t.pop())}var Ps=/[ \t\f\r\n]+/g,Ms=/^(?:pre|script|style|textarea)$/i,Ls=/^[ \t\f\r\n]+/,zs=/[ \t\f\r\n]+$/,$s=/^(?:\r\n|\r|\n)/,qs=/(?:\r\n|\r|\n)$/;function Us(t,e,n,r,i){if("string"!=typeof t){var o,s,a,u,c,l,h,p;for(!function(t){var e,n,r,i,o,s;for(e=1;e<t.length;e+=1)n=t[e],r=t[e-1],i=t[e-2],Is(n)&&((s=r).t===Qr||s.t===Jr)&&Is(i)&&Ns.test(i)&&Bs.test(n)&&(t[e-2]=i.replace(Ns,"\n"),t[e]=n.replace(Bs,"")),Rs(n)&&Is(r)&&Ns.test(r)&&Is(n.f[0])&&Bs.test(n.f[0])&&(t[e-1]=r.replace(Ns,"\n"),n.f[0]=n.f[0].replace(Bs,"")),Is(n)&&Rs(r)&&Is(o=pt(r.f))&&Ns.test(o)&&Bs.test(n)&&(r.f[r.f.length-1]=o.replace(Ns,"\n"),t[e]=n.replace(Bs,""))}(t),o=t.length;o--;)(s=t[o]).exclude?t.splice(o,1):e&&s.t===Qr&&t.splice(o,1);for(js(t,r?Ls:null,i?zs:null),o=t.length;o--;){if((s=t[o]).f){var f=s.t===Yr&&Ms.test(s.e);c=n||f,!n&&f&&js(s.f,$s,qs),c||(a=t[o-1],u=t[o+1],(!a||"string"==typeof a&&zs.test(a))&&(l=!0),(!u||"string"==typeof u&&Ls.test(u))&&(h=!0)),Us(s.f,e,c,l,h),P(s.f.n)&&Us(s.f.n,e,n,l,i),P(s.f.d)&&Us(s.f.d,e,n,l,i)}if(s.l&&(Us(s.l,e,n,l,h),s.l.forEach(function(t){return t.l=1}),s.l.unshift(o+1,0),t.splice.apply(t,s.l),delete s.l),s.a)for(p in s.a)s.a.hasOwnProperty(p)&&"string"!=typeof s.a[p]&&Us(s.a[p],e,n,l,h);s.m&&(Us(s.m,e,n,l,h),s.m.length<1&&delete s.m)}for(o=t.length;o--;)"string"==typeof t[o]&&("string"==typeof t[o+1]&&(t[o]=t[o]+t[o+1],t.splice(o+1,1)),n||(t[o]=t[o].replace(Ps," ")),""===t[o]&&t.splice(o,1))}}var Vs=/^([a-zA-Z]{1,}:?[a-zA-Z0-9\-]*)\s*\>/;function Hs(t){var e,n;return e=t.pos,t.matchString("</")?(n=t.matchPattern(Vs))?t.inside&&n!==t.inside?(t.pos=e,null):{t:ti,e:n}:(t.pos-=2,void t.error("Illegal closing tag")):null}var Ws,Ks=/^[a-zA-Z]{1,}:?[a-zA-Z0-9\-]*/,Gs=/^[\s\n\/>]/,Ys={exclude:!0};function Xs(t,e){var n,r;return n=/^<([a-zA-Z][a-zA-Z0-9]*)/.exec(e),r=Ws[t],!n||!r||!~r.indexOf(n[1].toLowerCase())}Ws={li:["li"],dt:["dt","dd"],dd:["dt","dd"],p:"address article aside blockquote div dl fieldset footer form h1 h2 h3 h4 h5 h6 header hgroup hr main menu nav ol p pre section table ul".split(" "),rt:["rt","rp"],rp:["rt","rp"],optgroup:["optgroup"],option:["option","optgroup"],thead:["tbody","tfoot"],tbody:["tbody","tfoot"],tfoot:["tbody"],tr:["tr","tbody"],td:["td","th","tr"],th:["td","th","tr"]};var Qs=/^<!--\s*/,Js=/s*>\s*([a-zA-Z_$][-a-zA-Z_$0-9]*)\s*/,Zs=/\s*-->/,ta=/^\s*#\s*partial\s+/;function ea(t,e){Object.keys(t).forEach(function(n){if(function(t,e){return"s"===t&&P(e.r)}(n,t))return function(t,e){var n=t.s,r=t.r;e[n]||(e[n]=Ir(n,r.length))}(t,e);var r=t[n];(function(t){return P(t)||z(t)})(r)&&ea(r,e)})}var na,ra=[function(t,e){if(!t.matchString(">"))return null;t.allowWhitespace(),t.relaxedNames=t.strictRefinement=!0;var n=jo(t);if(t.relaxedNames=t.strictRefinement=!1,!n)return null;var r={t:Xr};ps(n,r),t.allowWhitespace();var i=ms(t);if(i)r={t:oi,z:i,f:[r]};else{var o=jo(t);o&&ps(o,r={t:Wr,n:Ai,f:[r]})}return t.allowWhitespace(),t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),r},fs,Ss,function(t,e){if(!t.matchPattern(bs))return null;var n=t.matchPattern(/^[a-zA-Z_$][a-zA-Z_$0-9\-]*/);t.allowWhitespace(),t.matchString(e.close)||t.error("expected legal partial name");var r={t:ni};return n&&(r.n=n),r},ys,function(t,e){var n;return t.matchString("!")?-1!==(n=t.remaining().indexOf(e.close))?(t.pos+=n+e.close.length,{t:Qr}):void 0:null}],ia=[function(t,e){var n,r=jo(t);return r?(t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),ps(r,n={t:Hr}),n):null}],oa=[fs,Ss,ys];function sa(t,e){return new na(t,e||{}).result}sa.computedStrings=function(t){if(!t)return[];Object.keys(t).forEach(function(e){var n=t[e];"string"==typeof n&&(t[e]=Rr(n))})};var aa=[ls,function(t){var e,n,r,i,o;return e=t.pos,t.textOnlyMode||!t.matchString(Ts)?null:(-1===(i=(r=t.remaining()).indexOf(Os))&&t.error("Illegal HTML - expected closing comment sequence ('--\x3e')"),n=r.substr(0,i),t.pos+=i+3,o={t:Qr,c:n},t.includeLinePositions&&(o.p=t.getLinePos(e)),o)},function(t){var e,n,r,i,o,s,a,u,c,l,h,p;if(e=t.pos,t.inside||t.inAttribute||t.textOnlyMode)return null;if(!t.matchString("<"))return null;if("/"===t.nextChar())return null;if(n={},t.includeLinePositions&&(n.p=t.getLinePos(e)),t.matchString("!"))return n.t=ii,t.matchPattern(/^doctype/i)||t.error("Expected DOCTYPE declaration"),n.a=t.matchPattern(/^(.+?)>/),n;if(n.t=Yr,n.e=t.matchPattern(Ks),!n.e)return null;for(Gs.test(t.nextChar())||t.error("Illegal tag name"),t.allowWhitespace(),t.inTag=!0;r=ls(t);)!1!==r&&(n.m||(n.m=[]),n.m.push(r)),t.allowWhitespace();if(t.inTag=!1,t.allowWhitespace(),t.matchString("/")&&(i=!0),!t.matchString(">"))return null;var f=n.e.toLowerCase(),d=t.preserveWhitespace;if(!i&&!qi.test(n.e)){t.elementStack.push(f),"script"!==f&&"style"!==f&&"textarea"!==f||(t.inside=f),o=[],s=k(null);do{if(l=t.pos,(h=t.remaining())||t.error("Missing end "+(t.elementStack.length>1?"tags":"tag")+" ("+t.elementStack.reverse().map(function(t){return"</"+t+">"}).join("")+")"),Xs(f,h))if(p=Hs(t)){c=!0;var g=p.e.toLowerCase();if(g!==f&&(t.pos=l,!~t.elementStack.indexOf(g))){var m="Unexpected closing tag";qi.test(g)&&(m+=" (<"+g+"> is a void element - it cannot contain children)"),t.error(m)}}else(u=ws(t,{open:t.standardDelimiters[0],close:t.standardDelimiters[1]}))?(c=!0,t.pos=l):(u=t.read(ua))?(s[u.n]&&(t.pos=l,t.error("Duplicate partial definition")),Us(u.f,t.stripComments,d,!d,!d),s[u.n]=u.f,a=!0):(u=t.read(aa))?o.push(u):c=!0;else c=!0}while(!c);o.length&&(n.f=o),a&&(n.p=s),t.elementStack.pop()}return t.inside=null,t.sanitizeElements&&-1!==t.sanitizeElements.indexOf(f)?Ys:n},function(t){var e,n,r,i;return n=t.remaining(),t.textOnlyMode?e=zi(n,r=(r=t.tags.map(function(t){return t.open})).concat(t.tags.map(function(t){return"\\"+t.open}))):(i=t.inside?"</"+t.inside:"<",t.inside&&!t.interpolate[t.inside]?e=n.indexOf(i):(r=(r=t.tags.map(function(t){return t.open})).concat(t.tags.map(function(t){return"\\"+t.open})),!0===t.inAttribute?r.push('"',"'","=","<",">","`"):t.inAttribute?r.push(t.inAttribute):r.push(i),e=zi(n,r))),e?(-1===e&&(e=n.length),t.pos+=e,t.inside&&"textarea"!==t.inside||t.textOnlyMode?n.substr(0,e):Gi(n.substr(0,e))):null}],ua=[function(t){var e=t.pos,n=t.standardDelimiters[0],r=t.standardDelimiters[1];if(!t.matchPattern(Qs)||!t.matchString(n))return t.pos=e,null;var i=t.matchPattern(Js);if(Q("Inline partial comments are deprecated.\nUse this...\n  {{#partial "+i+"}} ... {{/partial}}\n\n...instead of this:\n  \x3c!-- {{>"+i+"}} --\x3e ... \x3c!-- {{/"+i+"}} --\x3e'"),!t.matchString(r)||!t.matchPattern(Zs))return t.pos=e,null;var o,s=[],a=new RegExp("^\x3c!--\\s*"+Mi(n)+"\\s*\\/\\s*"+i+"\\s*"+Mi(r)+"\\s*--\x3e");do{if(t.matchPattern(a))o=!0;else{var u=t.read(aa);u||t.error("expected closing comment ('\x3c!-- "+n+"/"+i+r+" --\x3e')"),s.push(u)}}while(!o);return{t:ri,f:s,n:i}},function(t){var e,n,r,i,o;e=t.pos;var s=t.standardDelimiters;if(!t.matchString(s[0]))return null;if(!t.matchPattern(ta))return t.pos=e,null;(n=t.matchPattern(/^[a-zA-Z_$][a-zA-Z_$0-9\-\/]*/))||t.error("expected legal partial name"),t.allowWhitespace(),t.matchString(s[1])||t.error("Expected closing delimiter '"+s[1]+"'"),r=[];do{(i=ws(t,{open:t.standardDelimiters[0],close:t.standardDelimiters[1]}))?("partial"===!i.r&&t.error("Expected "+s[0]+"/partial"+s[1]),o=!0):((i=t.read(aa))||t.error("Expected "+s[0]+"/partial"+s[1]),r.push(i))}while(!o);return{t:ri,n:n,f:r}}];na=qr.extend({init:function(t,e){var n=e.tripleDelimiters||["{{{","}}}"],r=e.staticDelimiters||["[[","]]"],i=e.staticTripleDelimiters||["[[[","]]]"];this.standardDelimiters=e.delimiters||["{{","}}"],this.tags=[{isStatic:!1,isTriple:!1,open:this.standardDelimiters[0],close:this.standardDelimiters[1],readers:ra},{isStatic:!1,isTriple:!0,open:n[0],close:n[1],readers:ia},{isStatic:!0,isTriple:!1,open:r[0],close:r[1],readers:oa},{isStatic:!0,isTriple:!0,open:i[0],close:i[1],readers:ia}],this.contextLines=e.contextLines||0,this.sortMustacheTags(),this.sectionDepth=0,this.elementStack=[],this.interpolate={script:!e.interpolate||!1!==e.interpolate.script,style:!e.interpolate||!1!==e.interpolate.style,textarea:!0},!0===e.sanitize&&(e.sanitize={elements:"applet base basefont body frame frameset head html isindex link meta noframes noscript object param script style title".split(" "),eventAttributes:!0}),this.stripComments=!1!==e.stripComments,this.preserveWhitespace=e.preserveWhitespace,this.sanitizeElements=e.sanitize&&e.sanitize.elements,this.sanitizeEventAttributes=e.sanitize&&e.sanitize.eventAttributes,this.includeLinePositions=e.includeLinePositions,this.textOnlyMode=e.textOnlyMode,this.csp=e.csp},postProcess:function(t){if(!t.length)return{t:[],v:Br};if(this.sectionDepth>0&&this.error("A section was left open"),Us(t[0].t,this.stripComments,this.preserveWhitespace,!this.preserveWhitespace,!this.preserveWhitespace),!1!==this.csp){var e={};ea(t[0].t,e),Object.keys(e).length&&(t[0].e=e)}return t[0]},converters:[function(t){for(var e=[],n=k(null),r=!1,i=t.preserveWhitespace;t.pos<t.str.length;){var o,s,a=t.pos;(s=t.read(ua))?(n[s.n]&&(t.pos=a,t.error("Duplicated partial definition")),Us(s.f,t.stripComments,i,!i,!i),n[s.n]=s.f,r=!0):(o=t.read(aa))?e.push(o):t.error("Unexpected template content")}var u={v:Br,t:e};return r&&(u.p=n),u}],sortMustacheTags:function(){this.tags.sort(function(t,e){return e.open.length-t.open.length})}});var ca=["delimiters","tripleDelimiters","staticDelimiters","staticTripleDelimiters","csp","interpolate","preserveWhitespace","sanitize","stripComments","contextLines"],la="Either preparse or use a ractive runtime source that includes the parser. ",ha="Either use:\n\n\tRactive.parse.computedStrings( component.computed )\n\nat build time to pre-convert the strings to functions, or use functions instead of strings in computed properties.";function pa(t,e,n){t||G("Missing Ractive.parse - cannot parse "+e+". "+n)}function fa(t,e){return pa(Rr,'compution string "${str}"',ha),Rr(t,e)}var da={fromId:function(t,e){if(!s){if(e&&e.noThrow)return;throw new Error("Cannot retrieve template #"+t+" as Ractive is not running in a browser.")}var n;if(t&&(t=t.replace(/^#/,"")),!(n=s.getElementById(t))){if(e&&e.noThrow)return;throw new Error("Could not find template element with id #"+t)}if("SCRIPT"!==n.tagName.toUpperCase()){if(e&&e.noThrow)return;throw new Error("Template element with id #"+t+", must be a <script> element")}return"textContent"in n?n.textContent:n.innerHTML},isParsed:function(t){return!("string"==typeof t)},getParseOptions:function(t){return t.defaults&&(t=t.defaults),ca.reduce(function(e,n){return e[n]=t[n],e},{})},parse:function(t,e){pa(sa,"template",la);var n=sa(t,e);return zr(n),n},parseFor:function(t,e){return this.parse(t,this.getParseOptions(e))}},ga={name:"template",extend:function(t,e,n){if("template"in n){var r=n.template;e.template="function"==typeof r?r:va(r,e)}},init:function(t,e,n){var r="template"in n?n.template:t.prototype.template;if("function"==typeof(r=r||{v:Br,t:[]})){var i=r;r=ma(e,i),e._config.template={fn:i,result:r}}r=va(r,e),e.template=r.t,r.p&&ya(e.partials,r.p)},reset:function(t){var e=function(t){var e=t._config.template;if(!e||!e.fn)return;var n=ma(t,e.fn);if(n!==e.result)return e.result=n,n}(t);if(e){var n=va(e,t);return t.template=n.t,ya(t.partials,n.p,!0),!0}}};function ma(t,e){return e.call(t,{fromId:da.fromId,isParsed:da.isParsed,parse:function(e,n){return void 0===n&&(n=da.getParseOptions(t)),da.parse(e,n)}})}function va(t,e){return"string"==typeof t?t=function(t,e){"#"===t[0]&&(t=da.fromId(t));return da.parseFor(t,e)}(t,e):(!function(t){if(null==t)throw new Error("The template cannot be "+t+".");if("number"!=typeof t.v)throw new Error("The template parser was passed a non-string template, but the template doesn't have a version.  Make sure you're passing in the template you think you are.");if(t.v!==Br)throw new Error("Mismatched template version (expected "+Br+", got "+t.v+") Please ensure you are using the latest version of Ractive.js in your build process as well as in your app")}(t),zr(t)),t}function ya(t,e,n){if(e)for(var r in e)!n&&t.hasOwnProperty(r)||(t[r]=e[r])}var ba=function(t,e){this.name=t,this.useDefaults=e};ba.prototype.extend=function(t,e,n){this.configure(this.useDefaults?t.defaults:t,this.useDefaults?e:e.constructor,n)},ba.prototype.init=function(){},ba.prototype.configure=function(t,e,n){var r=this.name,i=n[r],o=k(t[r]);for(var s in i)o[s]=i[s];e[r]=o},ba.prototype.reset=function(t){var e=t[this.name],n=!1;return Object.keys(e).forEach(function(t){var r=e[t];r._fn&&(r._fn.isOwner?e[t]=r._fn:delete e[t],n=!0)}),n};var wa=["adaptors","components","computed","decorators","easing","events","interpolators","partials","transitions"].map(function(t){return new ba(t,"computed"===t)});function Da(t,e,n){if(!/_super/.test(n))return n;function r(){var t=function(t,e){if(e in t){var n=t[e];return"function"==typeof n?n:function(){return n}}return $}(r._parent,e),i="_super"in this,o=this._super;this._super=t;var s=n.apply(this,arguments);return i?this._super=o:delete this._super,s}return r._parent=t,r._method=n,r}function Ca(t,e,n){return"options."+t+" has been deprecated in favour of options."+e+"."+(n?" You cannot specify both options, please use options."+e+".":"")}function xa(t,e,n){if(e in t){if(n in t)throw new Error(Ca(e,n,!0));X(Ca(e,n)),t[n]=t[e]}}var Ea={adapt:dr,css:_r,data:kr,template:ga},Aa=Object.keys(r),Fa=Oa(Aa.filter(function(t){return!Ea[t]})),_a=Oa(Aa.concat(wa.map(function(t){return t.name}))),ka=[].concat(Aa.filter(function(t){return!wa[t]&&!Ea[t]}),wa,Ea.template,Ea.css),Sa={extend:function(t,e,n){return Ta("extend",t,e,n)},init:function(t,e,n){return Ta("init",t,e,n)},reset:function(t){return ka.filter(function(e){return e.reset&&e.reset(t)}).map(function(t){return t.name})},order:ka};function Ta(t,e,n,r){for(var i in function(t){xa(t,"beforeInit","onconstruct"),xa(t,"init","onrender"),xa(t,"complete","oncomplete"),xa(t,"eventDefinitions","events"),P(t.adaptors)&&xa(t,"adaptors","adapt")}(r),r)if(Fa.hasOwnProperty(i)){var o=r[i];"el"!==i&&"function"==typeof o?X(i+" is a Ractive option that does not expect a function and will be ignored","init"===t?n:null):n[i]=o}if(r.append&&r.enhance)throw new Error("Cannot use append and enhance at the same time");wa.forEach(function(i){i[t](e,n,r)}),dr[t](e,n,r),ga[t](e,n,r),_r[t](e,n,r),function(t,e,n){for(var r in n)if(!_a[r]&&n.hasOwnProperty(r)){var i=n[r];"function"==typeof i&&(i=Da(t,r,i)),e[r]=i}}(e.prototype,n,r)}function Oa(t){var e={};return t.forEach(function(t){return e[t]=!0}),e}var Ba=["template","partials","components","decorators","events"],Na=new ut("complete"),Ia=new ut("reset"),Ra=new ut("render"),ja=new ut("unrender");function Pa(t){t.forceResetTemplate()}var Ma=function(t){this.parentFragment=t.parentFragment,this.ractive=t.parentFragment.ractive,this.template=t.template,this.index=t.index,this.type=t.template.t,this.dirty=!1};Ma.prototype.bubble=function(){this.dirty||(this.dirty=!0,this.parentFragment.bubble())},Ma.prototype.destroyed=function(){this.fragment&&this.fragment.destroyed()},Ma.prototype.find=function(){return null},Ma.prototype.findAll=function(){},Ma.prototype.findComponent=function(){return null},Ma.prototype.findAllComponents=function(){},Ma.prototype.findNextNode=function(){return this.parentFragment.findNextNode(this)},Ma.prototype.shuffled=function(){this.fragment&&this.fragment.shuffled()},Ma.prototype.valueOf=function(){return this.toString()};var La=function(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){t&&he(this);var e=this.parent.get();return e?e[this.key]:void 0},e.prototype.handleChange=function(){this.dirty=!0,this.links.forEach(ve),this.deps.forEach(ge),this.children.forEach(ge),this.clearUnresolveds()},e.prototype.joinKey=function(t){if(void 0===t||""===t)return this;if(!this.childByKey.hasOwnProperty(t)){var n=new e(this,t);this.children.push(n),this.childByKey[t]=n}return this.childByKey[t]},e}(Ke),za=function(t){function e(e,n){var r=this;t.call(this,e.ractive.viewmodel,null),this.fragment=e,this.template=n,this.isReadonly=!0,this.dirty=!0,this.fn=Lr(n.s,n.r.length),this.resolvers=[],this.models=this.template.r.map(function(t,e){var n=Xe(r.fragment,t);return n||function(t,e,n){var r=t.fragment.resolve(e,function(e){ft(t.resolvers,r),t.models[n]=e,t.bubble()});t.resolvers.push(r)}(r,t,e),n}),this.dependencies=[],this.shuffle=void 0,this.bubble()}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bubble=function(t){void 0===t&&(t=!0),this.registered&&delete this.root.expressions[this.keypath],this.keypath=void 0,t&&(this.dirty=!0,this.handleChange())},e.prototype.get=function(t){return t&&he(this),this.dirty&&(this.dirty=!1,this.value=this.getValue(),this.wrapper&&(this.newWrapperValue=this.value),this.adapt()),t&&this.wrapper?this.wrapperValue:this.value},e.prototype.getKeypath=function(){var t=this;return this.template?(this.keypath||(this.keypath="@"+this.template.s.replace(/_(\d+)/g,function(e,n){if(n>=t.models.length)return e;var r=t.models[n];return r?r.getKeypath():"@undefined"}),this.root.expressions[this.keypath]=this,this.registered=!0),this.keypath):"@undefined"},e.prototype.getValue=function(){var t,e=this;ce();try{var n=this.models.map(function(t){return t?t.get(!0):void 0});t=this.fn.apply(this.fragment.ractive,n)}catch(t){X("Failed to compute "+this.getKeypath()+": "+(t.message||t))}var r=le();return this.dependencies.filter(function(t){return!~r.indexOf(t)}).forEach(function(t){t.unregister(e),ft(e.dependencies,t)}),r.filter(function(t){return!~e.dependencies.indexOf(t)}).forEach(function(t){t.register(e),e.dependencies.push(t)}),t},e.prototype.handleChange=function(){this.dirty=!0,this.links.forEach(ve),this.deps.forEach(ge),this.children.forEach(ge),this.clearUnresolveds()},e.prototype.joinKey=function(t){if(void 0===t||""===t)return this;if(!this.childByKey.hasOwnProperty(t)){var e=new La(this,t);this.children.push(e),this.childByKey[t]=e}return this.childByKey[t]},e.prototype.mark=function(){this.handleChange()},e.prototype.rebinding=function(t,e,n){var r=this.models.indexOf(e);~r&&(t=je(this.template.r[r],t,e))!==e&&(e.unregister(this),this.models.splice(r,1,t),t&&t.addShuffleRegister(this,"mark")),this.bubble(!n)},e.prototype.retrieve=function(){return this.get()},e.prototype.teardown=function(){var e=this;this.unbind(),this.fragment=void 0,this.dependencies&&this.dependencies.forEach(function(t){return t.unregister(e)}),t.prototype.teardown.call(this)},e.prototype.unreference=function(){t.prototype.unreference.call(this),this.deps.length||this.refs||this.teardown()},e.prototype.unregister=function(e){t.prototype.unregister.call(this,e),this.deps.length||this.refs||this.teardown()},e.prototype.unbind=function(){this.resolvers.forEach(Ce)},e}(Ke),$a=function(t){function e(e,n){t.call(this,e,n)}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.applyValue=function(t){if(!M(t,this.value))for(var e=this.parent,n=[this.key];e;){if(e.base){e.model.joinAll(n).applyValue(t);break}n.unshift(e.key),e=e.parent}},e.prototype.joinKey=function(t){if(void 0===t||""===t)return this;if(!this.childByKey.hasOwnProperty(t)){var n=new e(this,t);this.children.push(n),this.childByKey[t]=n}return this.childByKey[t]},e.prototype.retrieve=function(){var t=this.parent.get();return t&&t[this.key]},e}(Ke),qa=function(t){function e(e,n){var r,i=this;t.call(this,null,null),this.dirty=!0,this.root=e.ractive.viewmodel,this.template=n,this.resolvers=[],this.base=Ua(e,n),this.base||(r=e.resolve(n.r,function(t){i.base=t,i.bubble(),ft(i.resolvers,r)}),this.resolvers.push(r));var o=this.intermediary={handleChange:function(){return i.handleChange()},rebinding:function(t,e){if(e===i.base)(t=je(n,t,e))!==i.base&&(i.base.unregister(o),i.base=t);else{var r=i.members.indexOf(e);~r&&(t=je(n.m[r].n,t,e))!==i.members[r]&&i.members.splice(r,1,t)}t!==e&&e.unregister(o),t&&t.addShuffleTask(function(){return t.register(o)}),i.bubble()}};this.members=n.m.map(function(t,n){return"string"==typeof t?{get:function(){return t}}:t.t===di?((r=Xe(e,t.n))?r.register(o):(s=e.resolve(t.n,function(t){i.members[n]=t,t.register(o),i.handleChange(),ft(i.resolvers,s)}),i.resolvers.push(s)),r):((r=new za(e,t)).register(o),r);var r,s}),this.isUnresolved=!0,this.bubble()}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bubble=function(){this.base&&(this.dirty||this.handleChange())},e.prototype.forceResolution=function(){this.resolvers.forEach(function(t){return t.forceResolution()}),this.dirty=!0,this.bubble()},e.prototype.get=function(t){if(this.dirty){this.bubble();for(var e=this.members.length,n=!0;n&&e--;)this.members[e]||(n=!1);if(this.base&&n){var r=this.members.map(function(t){return Bt(String(t.get()))}),i=this.base.joinAll(r);i!==this.model&&(this.model&&(this.model.unregister(this),this.model.unregisterTwowayBinding(this)),this.model=i,this.parent=i.parent,this.model.register(this),this.model.registerTwowayBinding(this),this.keypathModel&&this.keypathModel.handleChange())}return this.value=this.model?this.model.get(t):void 0,this.dirty=!1,this.mark(),this.value}return this.model?this.model.get(t):void 0},e.prototype.getValue=function(){this.value=this.model?this.model.get():void 0;for(var t=this.bindings.length;t--;){var e=this.bindings[t].getValue();if(e!==this.value)return e}var n=Ie(this.deps);return n?n.value:this.value},e.prototype.getKeypath=function(){return this.model?this.model.getKeypath():"@undefined"},e.prototype.handleChange=function(){this.dirty=!0,this.mark()},e.prototype.joinKey=function(t){if(void 0===t||""===t)return this;if(!this.childByKey.hasOwnProperty(t)){var e=new $a(this,t);this.children.push(e),this.childByKey[t]=e}return this.childByKey[t]},e.prototype.mark=function(){this.dirty&&this.deps.forEach(ge),this.links.forEach(ve),this.children.forEach(me),this.clearUnresolveds()},e.prototype.retrieve=function(){return this.value},e.prototype.rebinding=function(){},e.prototype.set=function(t){if(!this.model)throw new Error("Unresolved reference expression. This should not happen!");this.model.set(t)},e.prototype.teardown=function(){var t=this;this.resolvers.forEach(Ce),this.model&&(this.model.unregister(this),this.model.unregisterTwowayBinding(this)),this.members&&this.members.forEach(function(e){return e&&e.unregister&&e.unregister(t)})},e.prototype.unreference=function(){t.prototype.unreference.call(this),this.deps.length||this.refs||this.teardown()},e.prototype.unregister=function(e){t.prototype.unregister.call(this,e),this.deps.length||this.refs||this.teardown()},e}(Ke);function Ua(t,e){return e.r?Xe(t,e.r):e.x?new za(t,e.x):e.rx?new qa(t,e.rx):void 0}function Va(t){if(t.template.z){t.aliases={};for(var e=t.template.z,n=0;n<e.length;n++)t.aliases[e[n].n]=Ua(t.parentFragment,e[n].x)}for(var r in t.aliases)t.aliases[r].reference()}var Ha=function(t){function e(e){t.call(this,e),this.fragment=null}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(){Va(this),this.fragment=new Vl({owner:this,template:this.template.f}).bind()},e.prototype.detach=function(){return this.fragment?this.fragment.detach():x()},e.prototype.find=function(t){if(this.fragment)return this.fragment.find(t)},e.prototype.findAll=function(t,e){this.fragment&&this.fragment.findAll(t,e)},e.prototype.findComponent=function(t){if(this.fragment)return this.fragment.findComponent(t)},e.prototype.findAllComponents=function(t,e){this.fragment&&this.fragment.findAllComponents(t,e)},e.prototype.firstNode=function(t){return this.fragment&&this.fragment.firstNode(t)},e.prototype.rebinding=function(){var t=this;this.locked||(this.locked=!0,Ft.scheduleTask(function(){t.locked=!1,Va(t)}))},e.prototype.render=function(t){this.rendered=!0,this.fragment&&this.fragment.render(t)},e.prototype.toString=function(t){return this.fragment?this.fragment.toString(t):""},e.prototype.unbind=function(){for(var t in this.aliases={},this.fragment.aliases)this.aliases[t].unreference();this.fragment&&this.fragment.unbind()},e.prototype.unrender=function(t){this.rendered&&this.fragment&&this.fragment.unrender(t),this.rendered=!1},e.prototype.update=function(){this.dirty&&(this.dirty=!1,this.fragment.update())},e}(Ma);function Wa(t,e,n){for(void 0===e&&(e=!0);t&&(t.type!==Yr||n&&t.name!==n)&&(!e||t.type!==ei);)t=t.owner?t.owner:t.component?t.containerFragment||t.component.parentFragment:t.parent?t.parent:t.parentFragment?t.parentFragment:void 0;return t}var Ka=/\s+/,Ga=/\/\*(?:[\s\S]*?)\*\//g,Ya=/url\(\s*(['"])(?:\\[\s\S]|(?!\1).)*\1\s*\)|url\((?:\\[\s\S]|[^)])*\)|(['"])(?:\\[\s\S]|(?!\1).)*\2/gi,Xa=/\0(\d+)/g;function Qa(t){for(var e=t.split(Ka),n=e.length;n--;)e[n]||e.splice(n,1);return e}var Ja=[void 0,"text","search","url","email","hidden","password","search","reset","submit"];function Za(t){var e=this.node,n=this.getValue();if(this.ractive.nodes[e.id]===e&&delete this.ractive.nodes[e.id],t)return e.removeAttribute("id");this.ractive.nodes[n]=e,e.id=n}function tu(t){var e=this.getValue();P(e)||(e=[e]);var n=this.node.options,r=n.length;if(t)for(;r--;)n[r].selected=!1;else for(;r--;){var i=n[r],o=i._ractive?i._ractive.value:i.value;i.selected=lt(e,o)}}function eu(t){var e=this.getValue();if(!this.locked){this.node._ractive.value=e;var n=this.node.options,r=n.length,i=!1;if(t)for(;r--;)n[r].selected=!1;else for(;r--;){var o=n[r],s=o._ractive?o._ractive.value:o.value;if(o.disabled&&o.selected&&(i=!0),s==e)return void(o.selected=!0)}i||(this.node.selectedIndex=-1)}}function nu(t){var e=this.getValue();this.locked||(this.node.innerHTML=t?"":void 0===e?"":e)}function ru(t){var e=this.node,n=e.checked,r=this.getValue();if(t)return e.checked=!1;e.value=this.node._ractive.value=r,e.checked=r===this.element.getAttribute("name"),n&&!e.checked&&this.element.binding&&this.element.binding.rendered&&this.element.binding.group.model.set(this.element.binding.group.getValue())}function iu(t){if(!this.locked){if(t)return this.node.removeAttribute("value"),void(this.node.value=this.node._ractive.value=null);var e=this.getValue();this.node.value=this.node._ractive.value=e,this.node.setAttribute("value",F(e))}}function ou(t){if(!this.locked){if(t)return this.node._ractive.value="",void this.node.removeAttribute("value");var e=this.getValue();this.node._ractive.value=e,this.node.value=F(e),this.node.setAttribute("value",F(e))}}function su(t){this.node.checked=!t&&this.getValue()==this.node._ractive.value}function au(t){var e=this.element,n=this.node,r=e.binding,i=this.getValue(),o=e.getAttribute("value");if(P(i)){for(var s=i.length;s--;)if(o==i[s])return void(r.isChecked=n.checked=!0);r.isChecked=n.checked=!1}else r.isChecked=n.checked=i==o}function uu(t){for(var e,n,r=t?{}:(e=this.getValue()||"",n=[],"string"!=typeof e?{}:e.replace(Ya,function(t){return"\0"+(n.push(t)-1)}).replace(Ga,"").split(";").filter(function(t){return!!t.trim()}).map(function(t){return t.replace(Xa,function(t,e){return n[e]})}).reduce(function(t,e){var n=e.indexOf(":");return t[e.substr(0,n).trim()]=e.substr(n+1).trim(),t},{})),i=this.node.style,o=Object.keys(r),s=this.previous||[],a=0;a<o.length;){if(o[a]in i){var u=r[o[a]].replace("!important","");i.setProperty(o[a],u,u.length!==r[o[a]].length?"important":"")}a++}for(a=s.length;a--;)!~o.indexOf(s[a])&&s[a]in i&&i.setProperty(s[a],"","");this.previous=o}function cu(t){this.style||(this.style=N(this.name.substr(6)));var e=t?"":F(this.getValue()),n=e.replace("!important","");this.node.style.setProperty(this.style,n,n.length!==e.length?"important":"")}function lu(t){var e=t?[]:Qa(F(this.getValue())),n=this.node.className,r=Qa(n=void 0!==n.baseVal?n.baseVal:n),i=this.previous||r.slice(0),o=e.concat(r.filter(function(t){return!~i.indexOf(t)})).join(" ");o!==n&&("string"!=typeof this.node.className?this.node.className.baseVal=o:this.node.className=o),this.previous=e}function hu(t){var e=this.name.substr(6),n=this.node.className,r=Qa(n=void 0!==n.baseVal?n.baseVal:n),i=!t&&this.getValue();this.inlineClass||(this.inlineClass=e),i&&!~r.indexOf(e)?r.push(e):!i&&~r.indexOf(e)&&r.splice(r.indexOf(e),1),"string"!=typeof this.node.className?this.node.className.baseVal=r.join(" "):this.node.className=r.join(" ")}function pu(t){if(!this.locked){if(t)return this.useProperty&&(this.node[this.propertyName]=!1),void this.node.removeAttribute(this.propertyName);this.useProperty?this.node[this.propertyName]=this.getValue():this.getValue()?this.node.setAttribute(this.propertyName,""):this.node.removeAttribute(this.propertyName)}}function fu(t){t?this.node.removeAttribute(this.name):this.node.setAttribute(this.name,F(this.getString()))}function du(t){t?this.node.removeAttributeNS(this.namespace,this.name.slice(this.name.indexOf(":")+1)):this.node.setAttributeNS(this.namespace,this.name.slice(this.name.indexOf(":")+1),F(this.getString()))}var gu={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor",class:"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName",for:"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"},mu=!1,vu=function(t){function e(e){t.call(this,e),this.name=e.template.n,this.namespace=null,this.owner=e.owner||e.parentFragment.owner||e.element||Wa(e.parentFragment),this.element=e.element||(this.owner.attributeByName?this.owner:Wa(e.parentFragment)),this.parentFragment=e.parentFragment,this.ractive=this.parentFragment.ractive,this.rendered=!1,this.updateDelegate=null,this.fragment=null,this.element.attributeByName[this.name]=this,P(e.template.f)?this.fragment=new Vl({owner:this,template:e.template.f}):(this.value=e.template.f,0===this.value&&(this.value="")),this.interpolator=this.fragment&&1===this.fragment.items.length&&this.fragment.items[0].type===Vr&&this.fragment.items[0],this.interpolator&&(this.interpolator.owner=this)}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(){this.fragment&&this.fragment.bind()},e.prototype.bubble=function(){this.dirty||(this.parentFragment.bubble(),this.element.bubble(),this.dirty=!0)},e.prototype.destroyed=function(){this.updateDelegate(!0)},e.prototype.getString=function(){mu=!0;var t=this.fragment?this.fragment.toString():null!=this.value?""+this.value:"";return mu=!1,t},e.prototype.getValue=function(){mu=!0;var t=this.fragment?this.fragment.valueOf():!!$i.test(this.name)||this.value;return mu=!1,t},e.prototype.render=function(){var t=this.element.node;if(this.node=t,t.namespaceURI&&t.namespaceURI!==C.html||(this.propertyName=gu[this.name]||this.name,void 0!==t[this.propertyName]&&(this.useProperty=!0),($i.test(this.name)||this.isTwoway)&&(this.isBoolean=!0),"value"===this.propertyName&&(t._ractive.value=this.value)),t.namespaceURI){var e=this.name.indexOf(":");this.namespace=-1!==e?function(t,e){for(var n="xmlns:"+e;t;){if(t.hasAttribute&&t.hasAttribute(n))return t.getAttribute(n);t=t.parentNode}return C[e]}(t,this.name.slice(0,e)):t.namespaceURI}this.rendered=!0,this.updateDelegate=function(t){var e=t.element,n=t.name;if("id"===n)return Za;if("value"===n){if(t.interpolator&&(t.interpolator.bound=!0),"select"===e.name&&"value"===n)return e.getAttribute("multiple")?tu:eu;if("textarea"===e.name)return ou;if(null!=e.getAttribute("contenteditable"))return nu;if("input"===e.name){var r=e.getAttribute("type");if("file"===r)return $;if("radio"===r&&e.binding&&"name"===e.binding.attribute.name)return ru;if(~Ja.indexOf(r))return ou}return iu}var i=e.node;if(t.isTwoway&&"name"===n){if("radio"===i.type)return su;if("checkbox"===i.type)return au}if("style"===n)return uu;if(0===n.indexOf("style-"))return cu;if("class"===n&&(!i.namespaceURI||i.namespaceURI===w))return lu;if(0===n.indexOf("class-"))return hu;if(t.isBoolean){var o=e.getAttribute("type");return!t.interpolator||"checked"!==n||"checkbox"!==o&&"radio"!==o||(t.interpolator.bound=!0),pu}return t.namespace&&t.namespace!==t.node.namespaceURI?du:fu}(this),this.updateDelegate()},e.prototype.toString=function(){mu=!0;var t=this.getValue();if("value"!==this.name||void 0===this.element.getAttribute("contenteditable")&&"select"!==this.element.name&&"textarea"!==this.element.name){if("name"===this.name&&"input"===this.element.name&&this.interpolator&&"radio"===this.element.getAttribute("type"))return'name="{{'+this.interpolator.model.getKeypath()+'}}"';if(this.owner!==this.element||"style"!==this.name&&"class"!==this.name&&!this.style&&!this.inlineClass){if(this.rendered||this.owner!==this.element||this.name.indexOf("style-")&&this.name.indexOf("class-")){if($i.test(this.name))return t?this.name:"";if(null==t)return"";var e=_(this.getString());return mu=!1,e?this.name+'="'+e+'"':this.name}this.name.indexOf("style-")?this.inlineClass=this.name.substr(6):this.style=N(this.name.substr(6))}}},e.prototype.unbind=function(){this.fragment&&this.fragment.unbind()},e.prototype.unrender=function(){this.updateDelegate(!0),this.rendered=!1},e.prototype.update=function(){this.dirty&&(this.dirty=!1,this.fragment&&this.fragment.update(),this.rendered&&this.updateDelegate(),this.isTwoway&&!this.locked&&this.interpolator.twowayBinding.lastVal(!0,this.interpolator.model.get()))},e}(Ma),yu=function(t){function e(e){t.call(this,e),this.owner=e.owner||e.parentFragment.owner||Wa(e.parentFragment),this.element=this.owner.attributeByName?this.owner:Wa(e.parentFragment),this.flag="l"===e.template.v?"lazy":"twoway",this.element.type===Yr&&(P(e.template.f)&&(this.fragment=new Vl({owner:this,template:e.template.f})),this.interpolator=this.fragment&&1===this.fragment.items.length&&this.fragment.items[0].type===Vr&&this.fragment.items[0])}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(){this.fragment&&this.fragment.bind(),bu(this,this.getValue(),!0)},e.prototype.bubble=function(){this.dirty||(this.element.bubble(),this.dirty=!0)},e.prototype.getValue=function(){return this.fragment?this.fragment.valueOf():"value"in this?this.value:!("f"in this.template)||this.template.f},e.prototype.render=function(){bu(this,this.getValue(),!0)},e.prototype.toString=function(){return""},e.prototype.unbind=function(){this.fragment&&this.fragment.unbind(),delete this.element[this.flag]},e.prototype.unrender=function(){this.element.rendered&&this.element.recreateTwowayBinding()},e.prototype.update=function(){this.dirty&&(this.fragment&&this.fragment.update(),bu(this,this.getValue(),!0))},e}(Ma);function bu(t,e,n){t.value=0===e||("true"===e||"false"!==e&&"0"!==e&&e);var r=t.element[t.flag];return t.element[t.flag]=t.value,n&&!t.element.attributes.binding&&r!==t.value&&t.element.recreateTwowayBinding(),t.value}var wu=s?c("div"):null,Du=!1;function Cu(){return Du}var xu=function(t){function e(e){t.call(this,e),this.attributes=[],this.owner=e.owner,this.fragment=new Vl({ractive:this.ractive,owner:this,template:this.template}),this.fragment.findNextNode=$,this.dirty=!1}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(){this.fragment.bind()},e.prototype.bubble=function(){this.dirty||(this.dirty=!0,this.owner.bubble())},e.prototype.render=function(){this.node=this.owner.node,this.node&&(this.isSvg=this.node.namespaceURI===D),Du=!0,this.rendered||this.fragment.render(),Du=!1,this.rendered=!0,this.dirty=!0,this.update()},e.prototype.toString=function(){return this.fragment.toString()},e.prototype.unbind=function(){this.fragment.unbind()},e.prototype.unrender=function(){this.rendered=!1,this.fragment.unrender()},e.prototype.update=function(){var t,e,n=this;this.dirty&&(this.dirty=!1,Du=!0,this.fragment.update(),Du=!1,this.rendered&&this.node&&(t=this.fragment.toString(),e=function(t,e){var n=e?"svg":"div";return t?(wu.innerHTML="<"+n+" "+t+"></"+n+">")&&dt(wu.childNodes[0].attributes):[]}(t,this.isSvg),this.attributes.filter(function(t){return function(t,e){var n=t.length;for(;n--;)if(t[n].name===e.name)return!1;return!0}(e,t)}).forEach(function(t){n.node.removeAttribute(t.name)}),e.forEach(function(t){n.node.setAttribute(t.name,t.value)}),this.attributes=e))},e}(Ma);function Eu(t,e,n,r){var i=t.__model;r&&i.shuffle(r)}var Au,Fu,_u=["pop","push","reverse","shift","sort","splice","unshift"],ku=[];_u.forEach(function(t){S(ku,t,{value:function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];var r=Je(this.length,t,e);this._ractive.wrappers.forEach(function(t){t.magic&&(t.magic.locked=!0)});var i=Array.prototype[t].apply(this,arguments);Ft.start(),this._ractive.setting=!0;for(var o=this._ractive.wrappers.length;o--;)Eu(this._ractive.wrappers[o],0,0,r);return Ft.end(),this._ractive.setting=!1,this._ractive.wrappers.forEach(function(t){t.magic&&(t.magic.locked=!1)}),i},configurable:!0})}),!{}.__proto__?(Au=function(t){for(var e=_u.length;e--;){var n=_u[e];S(t,n,{value:ku[n],configurable:!0})}},Fu=function(t){for(var e=_u.length;e--;)delete t[_u[e]]}):(Au=function(t){return t.__proto__=ku},Fu=function(t){return t.__proto__=Array.prototype}),Au.unpatch=Fu;var Su,Tu=Au,Ou="Something went wrong in a rather interesting way",Bu={filter:function(t){return P(t)&&(!t._ractive||!t._ractive.setting)},wrap:function(t,e,n){return new Nu(t,e,n)}},Nu=function(t,e){this.root=t,this.value=e,this.__model=null,e._ractive||(S(e,"_ractive",{value:{wrappers:[],instances:[],setting:!1},configurable:!0}),Tu(e)),e._ractive.instances[t._guid]||(e._ractive.instances[t._guid]=0,e._ractive.instances.push(t)),e._ractive.instances[t._guid]+=1,e._ractive.wrappers.push(this)};Nu.prototype.get=function(){return this.value},Nu.prototype.reset=function(t){return this.value===t},Nu.prototype.teardown=function(){var t,e,n,r,i;if(n=(e=(t=this.value)._ractive).wrappers,r=e.instances,e.setting)return!1;if(-1===(i=n.indexOf(this)))throw new Error(Ou);if(n.splice(i,1),n.length){if(r[this.root._guid]-=1,!r[this.root._guid]){if(-1===(i=r.indexOf(this.root)))throw new Error(Ou);r.splice(i,1)}}else delete t._ractive,Tu.unpatch(this.value)};try{Object.defineProperty({},"test",{get:function(){},set:function(){}}),Su={filter:function(t){return t&&"object"==typeof t},wrap:function(t,e,n){return new Ru(t,e,n)}}}catch(t){Su=!1}var Iu=Su,Ru=function(t,e,n){var r=this;this.ractive=t,this.value=e,this.keypath=n,this.originalDescriptors={},Object.keys(e).forEach(function(e){var i=Object.getOwnPropertyDescriptor(r.value,e);r.originalDescriptors[e]=i;var o=n?n+"."+Bt(e):Bt(e),s=function(t,e,n,r){if(t.set&&t.set.__magic)return t.set.__magic.dependants.push({ractive:e,keypath:n}),t;var i,o=[{ractive:e,keypath:n}],s={get:function(){return"value"in t?t.value:t.get.call(this)},set:function(e){i||("value"in t?t.value=e:t.set.call(this,e),r.locked||(i=!0,o.forEach(function(t){var n=t.ractive,r=t.keypath;n.set(r,e)}),i=!1))},enumerable:!0};return s.set.__magic={dependants:o,originalDescriptor:t},s}(i,t,o,r);Object.defineProperty(r.value,e,s)})};Ru.prototype.get=function(){return this.value},Ru.prototype.reset=function(t){return this.value===t},Ru.prototype.set=function(t,e){this.value[t]=e},Ru.prototype.teardown=function(){var t=this;Object.keys(this.value).forEach(function(e){var n=Object.getOwnPropertyDescriptor(t.value,e);n.set&&n.set.__magic&&(!function(t,e,n){if(!t.set||!t.set.__magic)return!0;for(var r=t.set.__magic,i=r.length;i--;){var o=r[i];if(o.ractive===e&&o.keypath===n)return r.splice(i,1),!1}}(n),1===n.set.__magic.dependants.length&&Object.defineProperty(t.value,e,n.set.__magic.originalDescriptor))})};var ju=function(t,e,n){this.value=e,this.magic=!0,this.magicWrapper=Iu.wrap(t,e,n),this.arrayWrapper=Bu.wrap(t,e,n),this.arrayWrapper.magic=this.magicWrapper,Object.defineProperty(this,"__model",{get:function(){return this.arrayWrapper.__model},set:function(t){this.arrayWrapper.__model=t}})};ju.prototype.get=function(){return this.value},ju.prototype.teardown=function(){this.arrayWrapper.teardown(),this.magicWrapper.teardown()},ju.prototype.reset=function(t){return this.arrayWrapper.reset(t)&&this.magicWrapper.reset(t)};var Pu={filter:function(t,e,n){return Iu.filter(t,e,n)&&Bu.filter(t)},wrap:function(t,e,n){return new ju(t,e,n)}};function Mu(t){if(!t)return"";for(var e=t.split("\n"),n=Lu.name+".getValue",r=[],i=e.length,o=1;o<i;o+=1){var s=e[o];if(~s.indexOf(n))return r.join("\n");r.push(s)}}var Lu=function(t){function n(e,n,r){t.call(this,null,null),this.root=this.parent=e,this.signature=n,this.key=r,this.isExpression=r&&"@"===r[0],this.isReadonly=!this.signature.setter,this.context=e.computationContext,this.dependencies=[],this.children=[],this.childByKey={},this.deps=[],this.dirty=!0,this.shuffle=void 0}return n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.get=function(t){return t&&he(this),this.dirty&&(this.dirty=!1,this.value=this.getValue(),this.wrapper&&(this.newWrapperValue=this.value),this.adapt()),t&&this.wrapper?this.wrapperValue:this.value},n.prototype.getValue=function(){var t,n,r,i;ce();try{t=this.signature.getter.call(this.context)}catch(t){if(X("Failed to compute "+this.getKeypath()+": "+(t.message||t)),u){e.groupCollapsed&&e.groupCollapsed("%cshow details","color: rgb(82, 140, 224); font-weight: normal; text-decoration: underline;");var o=(n=this.signature.getterString,r=n.replace(/^\t+/gm,function(t){return t.split("\t").join("  ")}).split("\n"),i=r.length<2?0:r.slice(1).reduce(function(t,e){return Math.min(t,/^\s*/.exec(e)[0].length)},1/0),r.map(function(t,e){return"    "+(e?t.substring(i):t)}).join("\n")),s=this.signature.getterUseStack?"\n\n"+Mu(t.stack):"";e.error(t.name+": "+t.message+"\n\n"+o+s),e.groupCollapsed&&e.groupEnd()}}var a=le();return this.setDependencies(a),"value"in this&&t!==this.value&&this.registerChange(this.getKeypath(),t),t},n.prototype.handleChange=function(){this.dirty=!0,this.links.forEach(ve),this.deps.forEach(ge),this.children.forEach(ge),this.clearUnresolveds()},n.prototype.joinKey=function(t){if(void 0===t||""===t)return this;if(!this.childByKey.hasOwnProperty(t)){var e=new La(this,t);this.children.push(e),this.childByKey[t]=e}return this.childByKey[t]},n.prototype.mark=function(){this.handleChange()},n.prototype.rebinding=function(t,e){t!==e&&this.handleChange()},n.prototype.set=function(t){if(!this.signature.setter)throw new Error("Cannot set read-only computed value '"+this.key+"'");this.signature.setter(t),this.mark()},n.prototype.setDependencies=function(t){for(var e=this.dependencies.length;e--;){var n=this.dependencies[e];~t.indexOf(n)||n.unregister(this)}for(e=t.length;e--;){var r=t[e];~this.dependencies.indexOf(r)||r.register(this)}this.dependencies=t},n.prototype.teardown=function(){for(var e=this.dependencies.length;e--;)this.dependencies[e]&&this.dependencies[e].unregister(this);this.root.computations[this.key]===this&&delete this.root.computations[this.key],t.prototype.teardown.call(this)},n.prototype.unregister=function(e){t.prototype.unregister.call(this,e),this.isExpression&&0===this.deps.length&&this.teardown()},n}(Ke),zu=function(t){function e(e){t.call(this,null,""),this.value=e,this.isRoot=!0,this.root=this,this.adaptors=[],this.ractive=e,this.changes={}}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getKeypath=function(){return"@this"},e}(Ke),$u=Object.prototype.hasOwnProperty,qu=function(t){function e(e){t.call(this,null,null),this.changes={},this.isRoot=!0,this.root=this,this.ractive=e.ractive,this.value=e.data,this.adaptors=e.adapt,this.adapt(),this.computationContext=e.ractive,this.computations={},this.expressions={}}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.applyChanges=function(){return this._changeHash={},this.flush(),this._changeHash},e.prototype.compute=function(t,e){var n=new Lu(this,e,t);return this.computations[Bt(t)]=n,n},e.prototype.createLink=function(t,e,n){for(var r=It(t),i=this;r.length;){var o=r.shift();i=this.childByKey[o]||this.joinKey(o)}return i.link(e,n)},e.prototype.get=function(t,e){if(t&&he(this),e&&!1===e.virtual)return this.value;for(var n=this.getVirtual(),r=Object.keys(this.computations),i=r.length;i--;){var o=this.computations[r[i]];o.isExpression||(n[r[i]]=o.get())}return n},e.prototype.getKeypath=function(){return""},e.prototype.getRactiveModel=function(){return this.ractiveModel||(this.ractiveModel=new zu(this.ractive))},e.prototype.getValueChildren=function(){var e=t.prototype.getValueChildren.call(this,this.value);for(var n in this.children.forEach(function(t){if(t._link){var n=e.indexOf(t);~n?e.splice(n,1,t._link):e.push(t._link)}}),this.computations)e.push(this.computations[n]);return e},e.prototype.handleChange=function(){this.deps.forEach(ge)},e.prototype.has=function(t){var e=this.value,n=Rt(t);if($u.call(e,n))return!0;if(t in this.computations||this.childByKey[n]&&this.childByKey[n]._link)return!0;if(t in this.expressions)return!0;for(var r=e.constructor;r!==Function&&r!==Array&&r!==Object;){if($u.call(r.prototype,n))return!0;r=r.constructor}return!1},e.prototype.joinKey=function(e,n){return"@global"===e?Ge:"@this"===e?this.getRactiveModel():this.expressions.hasOwnProperty(e)?(X("Accessing expression keypaths ("+e.substr(1)+") from the instance is deprecated. You can used a getNodeInfo or event object to access keypaths with expression context."),this.expressions[e]):this.computations.hasOwnProperty(e)?this.computations[e]:t.prototype.joinKey.call(this,e,n)},e.prototype.map=function(t,e){this.joinKey(t).link(e)},e.prototype.rebinding=function(){},e.prototype.set=function(t){var e=this.wrapper;e?(!e.reset||!1===e.reset(t))&&(e.teardown(),this.wrapper=null,this.value=t,this.adapt()):(this.value=t,this.adapt());this.deps.forEach(ge),this.children.forEach(me),this.clearUnresolveds()},e.prototype.retrieve=function(){return this.wrapper?this.wrapper.get():this.value},e.prototype.teardown=function(){for(var e in t.prototype.teardown.call(this),this.computations)this.computations[e].teardown()},e.prototype.update=function(){},e}(Ke);function Uu(t,e,n){var r,i,o,s,a;return"function"==typeof n&&(r=Pt(n,t),o=n.toString(),s=!0),"string"==typeof n&&(r=fa(n,t),o=n),"object"==typeof n&&("string"==typeof n.get?(r=fa(n.get,t),o=n.get):"function"==typeof n.get?(r=Pt(n.get,t),o=n.get.toString(),s=!0):G("`%s` computation must have a `get()` method",e),"function"==typeof n.set&&(i=Pt(n.set,t),a=n.set.toString())),{getter:r,setter:i,getterString:o,setterString:a,getterUseStack:s}}var Vu=new ut("construct"),Hu=["adaptors","components","decorators","easing","events","interpolators","partials","transitions"],Wu=0;function Ku(t,e){ih.DEBUG&&V(),function(t){t._guid="r-"+Wu++,t._subs=k(null),t._config={},t.nodes={},t.event=null,t._eventQueue=[],t._liveQueries=[],t._liveComponentQueries=[],t._observers=[],t.component||(t.root=t,t.parent=t.container=null)}(t),S(t,"data",{get:Yu}),Vu.fire(t,e),Hu.forEach(function(n){t[n]=I(k(t.constructor[n]||null),e[n])});var n=new qu({adapt:Gu(t,t.adapt,e),data:kr.init(t.constructor,t,e),ractive:t});t.viewmodel=n;var r=I(k(t.constructor.prototype.computed),e.computed);for(var i in r){var o=Uu(t,i,r[i]);n.compute(i,o)}}function Gu(e,n,r){var i=[],o=[n=n.map(u),ht(r.adapt).map(u)];e.parent&&!e.isolated&&o.push(e.parent.viewmodel.adaptors),o.push(i);var s="magic"in r?r.magic:e.magic,a="modifyArrays"in r?r.modifyArrays:e.modifyArrays;if(s){if(!t)throw new Error("Getters and setters (magic mode) are not supported in this browser");a&&i.push(Pu),i.push(Iu)}return a&&i.push(Bu),function(t){for(var e=[],n=e.concat.apply(e,t),r=n.length;r--;)~e.indexOf(n[r])||e.unshift(n[r]);return e}(o);function u(t){return"string"==typeof t&&((t=et("adaptors",e,t))||G(tt(t,"adaptor"))),t}}function Yu(){throw new Error("Using `ractive.data` is no longer supported - you must use the `ractive.get()` API instead")}function Xu(t,e){return t[e._guid]||(t[e._guid]=[])}var Qu=function(t){this.hook=new ut(t),this.inProcess={},this.queue={}};Qu.prototype.begin=function(t){this.inProcess[t._guid]=!0},Qu.prototype.end=function(t){var e=t.parent;e&&this.inProcess[e._guid]?Xu(this.queue,e).push(t):function t(e,n){var r=Xu(e.queue,n);for(e.hook.fire(n);r.length;)t(e,r.shift());delete e.queue[n._guid]}(this,t),delete this.inProcess[t._guid]};var Ju=new ut("config"),Zu=new Qu("init");function tc(t,e,n){var r,i;(Object.keys(t.viewmodel.computations).forEach(function(e){var n=t.viewmodel.computations[e];t.viewmodel.value.hasOwnProperty(e)&&n.set(t.viewmodel.value[e])}),Sa.init(t.constructor,t,e),Ju.fire(t),Zu.begin(t),t.template)&&((n.cssIds||t.cssId)&&(i=n.cssIds?n.cssIds.slice():[],t.cssId&&i.push(t.cssId)),t.fragment=r=new Vl({owner:t,template:t.template,cssIds:i}).bind(t.viewmodel));if(Zu.end(t),r){var o=E(t.el);if(o){var s=t.render(o,t.append);ih.DEBUG_PROMISES&&s.catch(function(e){throw Q("Promise debugging is enabled, to help solve errors that happen asynchronously. Some browsers will log unhandled promise rejections, in which case you can safely disable promise debugging:\n  Ractive.DEBUG_PROMISES = false;"),X("An error happened during rendering",{ractive:t}),function(){ih.DEBUG&&q.apply(null,arguments)}(e),e})}}}var ec=function(t,e){-1!==t.indexOf("*")&&G('Only component proxy-events may contain "*" wildcards, <'+e.name+" on-"+t+'="..."/> is not valid'),this.name=t,this.owner=e,this.node=null,this.handler=null};ec.prototype.listen=function(t){var e=this.node=this.owner.node,n=this.name;"on"+n in e||Y(tt(n,"events")),e.addEventListener(n,this.handler=function(n){t.fire({node:e,original:n})},!1)},ec.prototype.unlisten=function(){this.handler&&this.node.removeEventListener(this.name,this.handler,!1)};var nc=function(t,e){this.eventPlugin=t,this.owner=e,this.handler=null};nc.prototype.listen=function(t){var e=this.owner.node;this.handler=this.eventPlugin(e,function(n){void 0===n&&(n={}),n.node=n.node||e,t.fire(n)})},nc.prototype.unlisten=function(){this.handler.teardown()};var rc=function(t,e){this.ractive=t,this.name=e,this.handler=null};rc.prototype.listen=function(t){var e=this.ractive;this.handler=e.on(this.name,function(){var n;arguments.length&&arguments[0]&&arguments[0].node&&((n=Array.prototype.shift.call(arguments)).component=e);var r=Array.prototype.slice.call(arguments);return t.fire(n,r),!1})},rc.prototype.unlisten=function(){this.handler.cancel()};var ic=/^(event|arguments)(\..+)?$/,oc=/^\$(\d+)(\..+)?$/,sc=function(t){var e=this;this.owner=t.owner||t.parentFragment.owner||Wa(t.parentFragment),this.element=this.owner.attributeByName?this.owner:Wa(t.parentFragment),this.template=t.template,this.parentFragment=t.parentFragment,this.ractive=t.parentFragment.ractive,this.events=[],this.element.type===ei?this.template.n.split("-").forEach(function(t){e.events.push(new rc(e.element.instance,t))}):this.template.n.split("-").forEach(function(t){var n=et("events",e.ractive,t);e.events.push(n?new nc(n,e.element):new ec(t,e.element))}),this.context=null,this.resolvers=null,this.models=null,this.action=null,this.args=null};function ac(t){t.makeDirty()}sc.prototype.bind=function(){var t=this;this.context=this.parentFragment.findContext();var e=this.template.f;e.x?(this.fn=Lr(e.x.s,e.x.r.length),this.resolvers=[],this.models=e.x.r.map(function(e,n){var r=ic.exec(e);if(r)return{special:r[1],keys:r[2]?It(r[2].substr(1)):[]};var i,o=oc.exec(e);if(o)return{special:"arguments",keys:[o[1]-1].concat(o[2]?It(o[2].substr(1)):[])};var s=Xe(t.parentFragment,e);return s?s.register(t):(i=t.parentFragment.resolve(e,function(e){t.models[n]=e,ft(t.resolvers,i),e.register(t)}),t.resolvers.push(i)),s})):(this.action="string"==typeof e?e:"string"==typeof e.n?e.n:new Vl({owner:this,template:e.n}),this.args=e.a?"string"==typeof e.a?[e.a]:e.a:e.d?new Vl({owner:this,template:e.d}):[]),this.action&&"string"!=typeof this.action&&this.action.bind(),this.args&&e.d&&this.args.bind()},sc.prototype.bubble=function(){this.dirty||(this.dirty=!0,this.owner.bubble())},sc.prototype.destroyed=function(){this.events.forEach(function(t){return t.unlisten()})},sc.prototype.fire=function(t,e){if(void 0===e&&(e=[]),t&&!t.hasOwnProperty("_element")&&Vn(t,this.owner),this.fn){var n=[];t&&e.unshift(t),this.models&&this.models.forEach(function(r){if(!r)return n.push(void 0);if(r.special){for(var i="event"===r.special?t:e,o=r.keys.slice();o.length;)i=i[o.shift()];return n.push(i)}if(r.wrapper)return n.push(r.wrapperValue);n.push(r.get())});var r=this.ractive,i=r.event;if(r.event=t,!1===this.fn.apply(r,n).pop()){var o=t?t.original:void 0;o?(o.preventDefault&&o.preventDefault(),o.stopPropagation&&o.stopPropagation()):Q("handler '"+this.template.n+"' returned false, but there is no event available to cancel")}r.event=i}else{var s=this.action.toString(),a=this.template.f.d?this.args.getArgsList():this.args;e.length&&(a=a.concat(e)),t&&(t.name=s),ne(this.ractive,s,{event:t,args:a})}},sc.prototype.handleChange=function(){},sc.prototype.rebinding=function(t,e){var n=this;if(this.models){var r=this.models.indexOf(e);~r&&(this.models.splice(r,1,t),e.unregister(this),t&&t.addShuffleTask(function(){return t.register(n)}))}},sc.prototype.render=function(){var t=this;Ft.scheduleTask(function(){return t.events.forEach(function(e){return e.listen(t)},!0)})},sc.prototype.toString=function(){return""},sc.prototype.unbind=function(){var t=this;this.template.f.x?(this.resolvers&&this.resolvers.forEach(Ce),this.resolvers=[],this.models&&this.models.forEach(function(e){e&&e.unregister&&e.unregister(t)}),this.models=null):(this.action&&this.action.unbind&&this.action.unbind(),this.args&&this.args.unbind&&this.args.unbind())},sc.prototype.unrender=function(){this.events.forEach(function(t){return t.unlisten()})},sc.prototype.update=function(){!this.method&&this.dirty&&(this.dirty=!1,this.action&&this.action.update&&this.action.update(),this.args&&this.args.update&&this.args.update())};var uc=new ut("teardown"),cc=function(t){function e(e,n){var r=this;t.call(this,e),this.type=ei;var i=k(n.prototype);this.instance=i,this.name=e.template.e,this.parentFragment=e.parentFragment,this.liveQueries=[],i.el&&X("The <"+this.name+"> component has a default 'el' property; it has been disregarded");var o=e.template.p||{};"content"in o||(o.content=e.template.f||[]),this._partials=o,this.yielders={};for(var s,a=e.parentFragment;a;){if(a.owner.type===ni){s=a.owner.container;break}a=a.parent}i.parent=this.parentFragment.ractive,i.container=s||null,i.root=i.parent.root,i.component=this,Ku(this.instance,{partials:o}),i._inlinePartials=o,this.attributeByName={},this.attributes=[];var u=[];(this.template.m||[]).forEach(function(t){switch(t.t){case Zr:case Si:case Oi:r.attributes.push($l({owner:r,parentFragment:r.parentFragment,template:t}));break;case Bi:case Ti:break;default:u.push(t)}}),this.attributes.push(new xu({owner:this,parentFragment:this.parentFragment,template:u})),this.eventHandlers=[],this.template.v&&this.setupEvents()}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(){this.attributes.forEach(fe),tc(this.instance,{partials:this._partials},{cssIds:this.parentFragment.cssIds}),this.eventHandlers.forEach(fe),this.bound=!0},e.prototype.bubble=function(){this.dirty||(this.dirty=!0,this.parentFragment.bubble())},e.prototype.checkYielders=function(){var t=this;Object.keys(this.yielders).forEach(function(e){if(t.yielders[e].length>1)throw Ft.end(),new Error("A component template can only have one {{yield"+(e?" "+e:"")+"}} declaration at a time")})},e.prototype.destroyed=function(){this.instance.fragment&&this.instance.fragment.destroyed()},e.prototype.detach=function(){return this.instance.fragment.detach()},e.prototype.find=function(t){return this.instance.fragment.find(t)},e.prototype.findAll=function(t,e){this.instance.fragment.findAll(t,e)},e.prototype.findComponent=function(t){return t&&this.name!==t?this.instance.fragment?this.instance.fragment.findComponent(t):void 0:this.instance},e.prototype.findAllComponents=function(t,e){e.test(this)&&(e.add(this.instance),e.live&&this.liveQueries.push(e)),this.instance.fragment.findAllComponents(t,e)},e.prototype.firstNode=function(t){return this.instance.fragment.firstNode(t)},e.prototype.render=function(t,e){fr(this.instance,t,null,e),this.checkYielders(),this.attributes.forEach(we),this.eventHandlers.forEach(we),function(t){var e=t.ractive;do{for(var n=e._liveComponentQueries,r=n.length;r--;){var i=n["_"+n[r]];i.test(t)&&(i.add(t.instance),t.liveQueries.push(i))}}while(e=e.parent)}(this),this.rendered=!0},e.prototype.setupEvents=function(){var t=this,e=this.eventHandlers;Object.keys(this.template.v).forEach(function(n){var r=n.split("-"),i=t.template.v[n];r.forEach(function(n){var r=new rc(t.instance,n);e.push(new sc(t,r,i))})})},e.prototype.shuffled=function(){this.liveQueries.forEach(ac),t.prototype.shuffled.call(this)},e.prototype.toString=function(){return this.instance.toHTML()},e.prototype.unbind=function(){this.bound=!1,this.attributes.forEach(Ce);var t=this.instance;t.viewmodel.teardown(),t.fragment.unbind(),t._observers.forEach(de),function(t){for(var e=t.ractive;e;){var n=e._liveComponentQueries["_"+t.name];n&&n.remove(t),e=e.parent}}(this),t.el&&t.el.__ractive_instances__&&ft(t.el.__ractive_instances__,t),uc.fire(t)},e.prototype.unrender=function(t){var e=this;this.rendered=!1,this.shouldDestroy=t,this.instance.unrender(),this.attributes.forEach(xe),this.eventHandlers.forEach(xe),this.liveQueries.forEach(function(t){return t.remove(e.instance)})},e.prototype.update=function(){this.dirty=!1,this.instance.fragment.update(),this.checkYielders(),this.attributes.forEach(Ae),this.eventHandlers.forEach(Ae)},e}(Ma),lc={update:$,teardown:$},hc=function(t){this.owner=t.owner||t.parentFragment.owner||Wa(t.parentFragment),this.element=this.owner.attributeByName?this.owner:Wa(t.parentFragment),this.parentFragment=this.owner.parentFragment,this.ractive=this.owner.ractive;var e=this.template=t.template;this.dynamicName="object"==typeof e.f.n,this.dynamicArgs=!!e.f.d,this.dynamicName?this.nameFragment=new Vl({owner:this,template:e.f.n}):this.name=e.f.n||e.f,this.dynamicArgs?this.argsFragment=new Vl({owner:this,template:e.f.d}):e.f.a&&e.f.a.s?this.args=[]:this.args=e.f.a||[],this.node=null,this.intermediary=null,this.element.decorators.push(this)};hc.prototype.bind=function(){var t=this;this.dynamicName&&(this.nameFragment.bind(),this.name=this.nameFragment.toString()),this.dynamicArgs&&this.argsFragment.bind(),this.template.f.a&&this.template.f.a.s&&(this.resolvers=[],this.models=this.template.f.a.r.map(function(e,n){var r,i=Xe(t.parentFragment,e);return i?i.register(t):(r=t.parentFragment.resolve(e,function(e){t.models[n]=e,ft(t.resolvers,r),e.register(t)}),t.resolvers.push(r)),i}),this.argsFn=Lr(this.template.f.a.s,this.template.f.a.r.length))},hc.prototype.bubble=function(){this.dirty||(this.dirty=!0,this.owner.bubble())},hc.prototype.destroyed=function(){this.intermediary&&this.intermediary.teardown(),this.shouldDestroy=!0},hc.prototype.handleChange=function(){this.bubble()},hc.prototype.rebinding=function(t,e,n){var r=this.models.indexOf(e);~r&&(t=je(this.template.f.a.r[r],t,e))!==e&&(e.unregister(this),this.models.splice(r,1,t),t&&t.addShuffleRegister(this,"mark"),n||this.bubble())},hc.prototype.render=function(){var t=this;Ft.scheduleTask(function(){var e,n=et("decorators",t.ractive,t.name);if(!n)return Y(tt(t.name,"decorator")),void(t.intermediary=lc);if(t.node=t.element.node,t.argsFn?(e=t.models.map(function(t){if(t)return t.get()}),e=t.argsFn.apply(t.ractive,e)):e=t.dynamicArgs?t.argsFragment.getArgsList():t.args,t.intermediary=n.apply(t.ractive,[t.node].concat(e)),!t.intermediary||!t.intermediary.teardown)throw new Error("The '"+t.name+"' decorator must return an object with a teardown method");t.shouldDestroy&&t.destroyed()},!0),this.rendered=!0},hc.prototype.toString=function(){return""},hc.prototype.unbind=function(){var t=this;this.dynamicName&&this.nameFragment.unbind(),this.dynamicArgs&&this.argsFragment.unbind(),this.resolvers&&this.resolvers.forEach(Ce),this.models&&this.models.forEach(function(e){e&&e.unregister(t)})},hc.prototype.unrender=function(t){t&&!this.element.rendered||!this.intermediary||this.intermediary.teardown(),this.rendered=!1},hc.prototype.update=function(){if(this.dirty){this.dirty=!1;var t=!1;if(this.dynamicName&&this.nameFragment.dirty){var e=this.nameFragment.toString();t=e!==this.name,this.name=e}if(this.intermediary)if(t||!this.intermediary.update)this.unrender(),this.render();else if(this.dynamicArgs){if(this.argsFragment.dirty){var n=this.argsFragment.getArgsList();this.intermediary.update.apply(this.ractive,n)}}else if(this.argsFn){var r=this.models.map(function(t){if(t)return t.get()});this.intermediary.update.apply(this.ractive,this.argsFn.apply(this.ractive,r))}else this.intermediary.update.apply(this.ractive,this.args);this.dynamicName&&this.nameFragment.dirty&&this.nameFragment.update(),this.dynamicArgs&&this.argsFragment.dirty&&this.argsFragment.update()}};var pc=function(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(){},e.prototype.render=function(){},e.prototype.teardown=function(){},e.prototype.toString=function(){return"<!DOCTYPE"+this.template.a+">"},e.prototype.unbind=function(){},e.prototype.unrender=function(){},e.prototype.update=function(){},e}(Ma);function fc(t,e){Q("The "+t+" being used for two-way binding is ambiguous, and may cause unexpected results. Consider initialising your data to eliminate the ambiguity",{ractive:e})}var dc=function(t,e){void 0===e&&(e="value"),this.element=t,this.ractive=t.ractive,this.attribute=t.attributeByName[e];var n=this.attribute.interpolator;n.twowayBinding=this;var r=n.model;if(r){if(r.isUnresolved)r.forceResolution(),fc("expression",this.ractive);else if(r.isReadonly){var i=r.getKeypath().replace(/^@/,"");return Q("Cannot use two-way binding on <"+t.name+"> element: "+i+" is read-only. To suppress this warning use <"+t.name+" twoway='false'...>",{ractive:this.ractive}),!1}}else n.resolver.forceResolution(),r=n.model,fc("'"+n.template.r+"' reference",this.ractive);this.attribute.isTwoway=!0,this.model=r;var o=r.get();this.wasUndefined=void 0===o,void 0===o&&this.getInitialValue&&(o=this.getInitialValue(),r.set(o)),this.lastVal(!0,o);var s=Wa(this.element,!1,"form");s&&(this.resetValue=o,s.formBindings.push(this))};function gc(){this._ractive.binding.handleChange()}dc.prototype.bind=function(){this.model.registerTwowayBinding(this)},dc.prototype.handleChange=function(){var t=this,e=this.getValue();this.lastVal()!==e&&(Ft.start(this.root),this.attribute.locked=!0,this.model.set(e),this.lastVal(!0,e),this.model.get()!==e?this.attribute.locked=!1:Ft.scheduleTask(function(){return t.attribute.locked=!1}),Ft.end())},dc.prototype.lastVal=function(t,e){if(!t)return this.lastValue;this.lastValue=e},dc.prototype.rebinding=function(t,e){var n=this;this.model&&this.model===e&&e.unregisterTwowayBinding(this),t&&(this.model=t,Ft.scheduleTask(function(){return t.registerTwowayBinding(n)}))},dc.prototype.render=function(){this.node=this.element.node,this.node._ractive.binding=this,this.rendered=!0},dc.prototype.setFromNode=function(t){this.model.set(t.value)},dc.prototype.unbind=function(){this.model.unregisterTwowayBinding(this)},dc.prototype.unrender=function(){};var mc=function(t){function e(e){t.call(this,e,"checked")}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){t.prototype.render.call(this),this.node.addEventListener("change",gc,!1),this.node.attachEvent&&this.node.addEventListener("click",gc,!1)},e.prototype.unrender=function(){this.node.removeEventListener("change",gc,!1),this.node.removeEventListener("click",gc,!1)},e.prototype.getInitialValue=function(){return!!this.element.getAttribute("checked")},e.prototype.getValue=function(){return this.node.checked},e.prototype.setFromNode=function(t){this.model.set(t.checked)},e}(dc);function vc(t,e,n){var r=t+"-bindingGroup";return e[r]||(e[r]=new yc(r,e,n))}var yc=function(t,e,n){var r=this;this.model=e,this.hash=t,this.getValue=function(){return r.value=n.call(r),r.value},this.bindings=[]};yc.prototype.add=function(t){this.bindings.push(t)},yc.prototype.bind=function(){this.value=this.model.get(),this.model.registerTwowayBinding(this),this.bound=!0},yc.prototype.remove=function(t){ft(this.bindings,t),this.bindings.length||this.unbind()},yc.prototype.unbind=function(){this.model.unregisterTwowayBinding(this),this.bound=!1,delete this.model[this.hash]},yc.prototype.rebinding=dc.prototype.rebinding;var bc=[].push;function wc(){var t=this.bindings.filter(function(t){return t.node&&t.node.checked}).map(function(t){return t.element.getAttribute("value")}),e=[];return t.forEach(function(t){lt(e,t)||e.push(t)}),e}var Dc=function(t){function e(e){if(t.call(this,e,"name"),this.checkboxName=!0,this.group=vc("checkboxes",this.model,wc),this.group.add(this),this.noInitialValue&&(this.group.noInitialValue=!0),this.group.noInitialValue&&this.element.getAttribute("checked")){var n=this.model.get(),r=this.element.getAttribute("value");lt(n,r)||bc.call(n,r)}}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(){this.group.bound||this.group.bind()},e.prototype.changed=function(){var t=!!this.isChecked;return this.isChecked=this.node.checked,this.isChecked===t},e.prototype.getInitialValue=function(){return this.noInitialValue=!0,[]},e.prototype.getValue=function(){return this.group.value},e.prototype.handleChange=function(){this.isChecked=this.element.node.checked,this.group.value=this.model.get();var e=this.element.getAttribute("value");this.isChecked&&!lt(this.group.value,e)?this.group.value.push(e):!this.isChecked&&lt(this.group.value,e)&&ft(this.group.value,e),this.lastValue=null,t.prototype.handleChange.call(this)},e.prototype.render=function(){t.prototype.render.call(this);var e=this.node,n=this.model.get(),r=this.element.getAttribute("value");P(n)?this.isChecked=lt(n,r):this.isChecked=n==r,e.name="{{"+this.model.getKeypath()+"}}",e.checked=this.isChecked,e.addEventListener("change",gc,!1),e.attachEvent&&e.addEventListener("click",gc,!1)},e.prototype.setFromNode=function(t){if(this.group.bindings.forEach(function(t){return t.wasUndefined=!0}),t.checked){var e=this.group.getValue();e.push(this.element.getAttribute("value")),this.group.model.set(e)}},e.prototype.unbind=function(){this.group.remove(this)},e.prototype.unrender=function(){var t=this.element.node;t.removeEventListener("change",gc,!1),t.removeEventListener("click",gc,!1)},e}(dc),Cc=function(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getInitialValue=function(){return this.element.fragment?this.element.fragment.toString():""},e.prototype.getValue=function(){return this.element.node.innerHTML},e.prototype.render=function(){t.prototype.render.call(this);var e=this.node;e.addEventListener("change",gc,!1),e.addEventListener("blur",gc,!1),this.ractive.lazy||(e.addEventListener("input",gc,!1),e.attachEvent&&e.addEventListener("keyup",gc,!1))},e.prototype.setFromNode=function(t){this.model.set(t.innerHTML)},e.prototype.unrender=function(){var t=this.node;t.removeEventListener("blur",gc,!1),t.removeEventListener("change",gc,!1),t.removeEventListener("input",gc,!1),t.removeEventListener("keyup",gc,!1)},e}(dc);function xc(){gc.call(this);var t=this._ractive.binding.model.get();this.value=null==t?"":t}var Ec=function(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getInitialValue=function(){return""},e.prototype.getValue=function(){return this.node.value},e.prototype.render=function(){t.prototype.render.call(this);var e=this.ractive.lazy,n=!1;"lazy"in this.element&&(e=this.element.lazy),L(e)&&(n=+e,e=!1),this.handler=n?function(t){var e;return function(){var n=this;e&&clearTimeout(e),e=setTimeout(function(){n._ractive.binding.rendered&&gc.call(n),e=null},t)}}(n):gc;var r=this.node;r.addEventListener("change",gc,!1),e||(r.addEventListener("input",this.handler,!1),r.attachEvent&&r.addEventListener("keyup",this.handler,!1)),r.addEventListener("blur",xc,!1)},e.prototype.unrender=function(){var t=this.element.node;this.rendered=!1,t.removeEventListener("change",gc,!1),t.removeEventListener("input",this.handler,!1),t.removeEventListener("keyup",this.handler,!1),t.removeEventListener("blur",xc,!1)},e}(dc),Ac=function(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getInitialValue=function(){},e.prototype.getValue=function(){return this.node.files},e.prototype.render=function(){this.element.lazy=!1,t.prototype.render.call(this)},e.prototype.setFromNode=function(t){this.model.set(t.files)},e}(Ec);function Fc(t){return t.selectedOptions?dt(t.selectedOptions):t.options?dt(t.options).filter(function(t){return t.selected}):[]}var _c=function(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.forceUpdate=function(){var t=this,e=this.getValue();void 0!==e&&(this.attribute.locked=!0,Ft.scheduleTask(function(){return t.attribute.locked=!1}),this.model.set(e))},e.prototype.getInitialValue=function(){return this.element.options.filter(function(t){return t.getAttribute("selected")}).map(function(t){return t.getAttribute("value")})},e.prototype.getValue=function(){for(var t=this.element.node.options,e=t.length,n=[],r=0;r<e;r+=1){var i=t[r];if(i.selected){var o=i._ractive?i._ractive.value:i.value;n.push(o)}}return n},e.prototype.handleChange=function(){var e=this.attribute.getValue(),n=this.getValue();return void 0!==e&&function(t,e){var n;if(!P(t)||!P(e))return!1;if(t.length!==e.length)return!1;for(n=t.length;n--;)if(t[n]!==e[n])return!1;return!0}(n,e)||t.prototype.handleChange.call(this),this},e.prototype.render=function(){t.prototype.render.call(this),this.node.addEventListener("change",gc,!1),void 0===this.model.get()&&this.handleChange()},e.prototype.setFromNode=function(t){for(var e=Fc(t),n=e.length,r=new Array(n);n--;){var i=e[n];r[n]=i._ractive?i._ractive.value:i.value}this.model.set(r)},e.prototype.setValue=function(){throw new Error("TODO not implemented yet")},e.prototype.unrender=function(){this.node.removeEventListener("change",gc,!1)},e.prototype.updateModel=function(){void 0!==this.attribute.value&&this.attribute.value.length||this.keypath.set(this.initialValue)},e}(dc),kc=function(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getInitialValue=function(){},e.prototype.getValue=function(){var t=parseFloat(this.node.value);return isNaN(t)?void 0:t},e.prototype.setFromNode=function(t){var e=parseFloat(t.value);isNaN(e)||this.model.set(e)},e}(Ec),Sc={},Tc=function(t){function e(e){var n;t.call(this,e,"checked"),this.siblings=(n=this.ractive._guid+this.element.getAttribute("name"),Sc[n]||(Sc[n]=[])),this.siblings.push(this)}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getValue=function(){return this.node.checked},e.prototype.handleChange=function(){Ft.start(this.root),this.siblings.forEach(function(t){t.model.set(t.getValue())}),Ft.end()},e.prototype.render=function(){t.prototype.render.call(this),this.node.addEventListener("change",gc,!1),this.node.attachEvent&&this.node.addEventListener("click",gc,!1)},e.prototype.setFromNode=function(t){this.model.set(t.checked)},e.prototype.unbind=function(){ft(this.siblings,this)},e.prototype.unrender=function(){this.node.removeEventListener("change",gc,!1),this.node.removeEventListener("click",gc,!1)},e}(dc);function Oc(){var t=this.bindings.filter(function(t){return t.node.checked});if(t.length>0)return t[0].element.getAttribute("value")}var Bc=function(t){function e(e){t.call(this,e,"name"),this.group=vc("radioname",this.model,Oc),this.group.add(this),e.checked&&(this.group.value=this.getValue())}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(){var t=this;this.group.bound||this.group.bind(),this.nameAttributeBinding={handleChange:function(){return t.node.name="{{"+t.model.getKeypath()+"}}"},rebinding:$},this.model.getKeypathModel().register(this.nameAttributeBinding)},e.prototype.getInitialValue=function(){if(this.element.getAttribute("checked"))return this.element.getAttribute("value")},e.prototype.getValue=function(){return this.element.getAttribute("value")},e.prototype.handleChange=function(){this.node.checked&&(this.group.value=this.getValue(),t.prototype.handleChange.call(this))},e.prototype.lastVal=function(t,e){if(this.group)return t?void(this.group.lastValue=e):this.group.lastValue},e.prototype.render=function(){t.prototype.render.call(this);var e=this.node;e.name="{{"+this.model.getKeypath()+"}}",e.checked=this.model.get()==this.element.getAttribute("value"),e.addEventListener("change",gc,!1),e.attachEvent&&e.addEventListener("click",gc,!1)},e.prototype.setFromNode=function(t){t.checked&&this.group.model.set(this.element.getAttribute("value"))},e.prototype.unbind=function(){this.group.remove(this),this.model.getKeypathModel().unregister(this.nameAttributeBinding)},e.prototype.unrender=function(){var t=this.node;t.removeEventListener("change",gc,!1),t.removeEventListener("click",gc,!1)},e}(dc),Nc=function(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.forceUpdate=function(){var t=this,e=this.getValue();void 0!==e&&(this.attribute.locked=!0,Ft.scheduleTask(function(){return t.attribute.locked=!1}),this.model.set(e))},e.prototype.getInitialValue=function(){if(void 0===this.element.getAttribute("value")){var t=this.element.options,e=t.length;if(e){for(var n,r,i=e;i--;){var o=t[i];if(o.getAttribute("selected")){o.getAttribute("disabled")||(n=o.getAttribute("value")),r=!0;break}}if(!r)for(;++i<e;)if(!t[i].getAttribute("disabled")){n=t[i].getAttribute("value");break}return void 0!==n&&(this.element.attributeByName.value.value=n),n}}},e.prototype.getValue=function(){var t,e=this.node.options,n=e.length;for(t=0;t<n;t+=1){var r=e[t];if(e[t].selected&&!e[t].disabled)return r._ractive?r._ractive.value:r.value}},e.prototype.render=function(){t.prototype.render.call(this),this.node.addEventListener("change",gc,!1)},e.prototype.setFromNode=function(t){var e=Fc(t)[0];this.model.set(e._ractive?e._ractive.value:e.value)},e.prototype.setValue=function(t){this.model.set(t)},e.prototype.unrender=function(){this.node.removeEventListener("change",gc,!1)},e}(dc);function Ic(t){return t&&t.template.f&&1===t.template.f.length&&t.template.f[0].t===Vr&&!t.template.f[0].s}function Rc(t){t.makeDirty()}var jc=/;\s*$/,Pc=function(t){function e(e){var n=this;if(t.call(this,e),this.liveQueries=[],this.name=e.template.e.toLowerCase(),this.isVoid=qi.test(this.name),this.parent=Wa(this.parentFragment,!1),this.parent&&"option"===this.parent.name)throw new Error("An <option> element cannot contain other elements (encountered <"+this.name+">)");this.decorators=[],this.attributeByName={},this.attributes=[];var r=[];(this.template.m||[]).forEach(function(t){switch(t.t){case Zr:case Bi:case Ti:case Si:case Oi:n.attributes.push($l({owner:n,parentFragment:n.parentFragment,template:t}));break;default:r.push(t)}}),r.length&&this.attributes.push(new xu({owner:this,parentFragment:this.parentFragment,template:r}));for(var i=this.attributes.length;i--;){var o=n.attributes[i];"type"===o.name?n.attributes.unshift(n.attributes.splice(i,1)[0]):"max"===o.name?n.attributes.unshift(n.attributes.splice(i,1)[0]):"min"===o.name?n.attributes.unshift(n.attributes.splice(i,1)[0]):"class"===o.name?n.attributes.unshift(n.attributes.splice(i,1)[0]):"value"===o.name&&n.attributes.push(n.attributes.splice(i,1)[0])}e.template.f&&!e.deferContent&&(this.fragment=new Vl({template:e.template.f,owner:this,cssIds:null})),this.binding=null}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(){this.attributes.binding=!0,this.attributes.forEach(fe),this.attributes.binding=!1,this.fragment&&this.fragment.bind(),this.binding||this.recreateTwowayBinding()},e.prototype.createTwowayBinding=function(){if(!("twoway"in this?this.twoway:this.ractive.twoway))return null;var t=function(t){var e=t.attributeByName;if(t.getAttribute("contenteditable")||Ic(e.contenteditable))return Ic(e.value)?Cc:null;if("input"===t.name){var n=t.getAttribute("type");if("radio"===n||"checkbox"===n){var r=Ic(e.name),i=Ic(e.checked);if(r&&i){if("radio"!==n)return mc;X("A radio input can have two-way binding on its name attribute, or its checked attribute - not both",{ractive:t.root})}if(r)return"radio"===n?Bc:Dc;if(i)return"radio"===n?Tc:mc}return"file"===n&&Ic(e.value)?Ac:Ic(e.value)?"number"===n||"range"===n?kc:Ec:null}return"select"===t.name&&Ic(e.value)?t.getAttribute("multiple")?_c:Nc:"textarea"===t.name&&Ic(e.value)?Ec:void 0}(this);if(!t)return null;var e=new t(this);return e&&e.model?e:null},e.prototype.destroyed=function(){this.attributes.forEach(function(t){return t.destroyed()}),this.fragment&&this.fragment.destroyed()},e.prototype.detach=function(){return this.rendered||this.destroyed(),A(this.node)},e.prototype.find=function(t){return this.node&&l(this.node,t)?this.node:this.fragment?this.fragment.find(t):void 0},e.prototype.findAll=function(t,e){e.test(this.node)&&(e.add(this.node),e.live&&this.liveQueries.push(e)),this.fragment&&this.fragment.findAll(t,e)},e.prototype.findComponent=function(t){if(this.fragment)return this.fragment.findComponent(t)},e.prototype.findAllComponents=function(t,e){this.fragment&&this.fragment.findAllComponents(t,e)},e.prototype.findNextNode=function(){return null},e.prototype.firstNode=function(){return this.node},e.prototype.getAttribute=function(t){var e=this.attributeByName[t];return e?e.getValue():void 0},e.prototype.recreateTwowayBinding=function(){this.binding&&(this.binding.unbind(),this.binding.unrender()),(this.binding=this.createTwowayBinding())&&(this.binding.bind(),this.rendered&&this.binding.render())},e.prototype.render=function(t,e){var n;this.namespace=function(t){var e=t.getAttribute("xmlns");if(e)return e;if("svg"===t.name)return D;var n=t.parent;if(n)return"foreignobject"===n.name?w:n.node.namespaceURI;return t.ractive.el.namespaceURI}(this);var r=!1;if(e)for(var i;i=e.shift();){if(i.nodeName.toUpperCase()===this.template.e.toUpperCase()&&i.namespaceURI===this.namespace){this.node=n=i,r=!0;break}A(i)}if(n||(n=c(this.template.e,this.namespace,this.getAttribute("is")),this.node=n),S(n,"_ractive",{value:{proxy:this}}),this.parentFragment.cssIds&&n.setAttribute("data-ractive-css",this.parentFragment.cssIds.map(function(t){return"{"+t+"}"}).join(" ")),r&&this.foundNode&&this.foundNode(n),this.fragment){var o=r?dt(n.childNodes):void 0;this.fragment.render(n,o),o&&o.forEach(A)}if(r){this.binding&&this.binding.wasUndefined&&this.binding.setFromNode(n);for(var s=n.attributes.length;s--;){var a=n.attributes[s].name;a in this.attributeByName||n.removeAttribute(a)}}this.attributes.forEach(we),this.binding&&this.binding.render(),function(t){var e=t.node,n=t.ractive;do{for(var r=n._liveQueries,i=r.length;i--;){var o=r["_"+r[i]];o.test(e)&&(o.add(e),t.liveQueries.push(o))}}while(n=n.parent)}(this),this._introTransition&&this.ractive.transitionsEnabled&&(this._introTransition.isIntro=!0,Ft.registerTransition(this._introTransition)),r||t.appendChild(n),this.rendered=!0},e.prototype.shuffled=function(){this.liveQueries.forEach(Rc),t.prototype.shuffled.call(this)},e.prototype.toString=function(){var t,e,n=this.template.e,r=this.attributes.map(Mc).join("");"option"===this.name&&this.isSelected()&&(r+=" selected"),"input"===this.name&&function(t){var e=t.attributeByName,n=e.type,r=e.value,i=e.name;if(!n||"radio"!==n.value||!r||!i.interpolator)return;if(r.getValue()===i.interpolator.model.get())return!0}(this)&&(r+=" checked"),this.attributes.forEach(function(n){"class"===n.name?e=(e||"")+(e?" ":"")+_(n.getString()):"style"===n.name?(t=(t||"")+(t?" ":"")+_(n.getString()))&&!jc.test(t)&&(t+=";"):n.style?t=(t||"")+(t?" ":"")+n.style+": "+_(n.getString())+";":n.inlineClass&&n.getValue()&&(e=(e||"")+(e?" ":"")+n.inlineClass)}),void 0!==t&&(r=" style"+(t?'="'+t+'"':"")+r),void 0!==e&&(r=" class"+(e?'="'+e+'"':"")+r);var i="<"+n+r+">";return this.isVoid?i:("textarea"===this.name&&void 0!==this.getAttribute("value")?i+=Zi(this.getAttribute("value")):void 0!==this.getAttribute("contenteditable")&&(i+=this.getAttribute("value")||""),this.fragment&&(i+=this.fragment.toString(!/^(?:script|style)$/i.test(this.template.e))),i+="</"+n+">")},e.prototype.unbind=function(){this.attributes.unbinding=!0,this.attributes.forEach(Ce),this.attributes.unbinding=!1,this.binding&&this.binding.unbind(),this.fragment&&this.fragment.unbind()},e.prototype.unrender=function(t){if(this.rendered){this.rendered=!1;var e=this._introTransition;e&&e.complete&&e.complete(),"option"===this.name?this.detach():t&&Ft.detachWhenReady(this),this.fragment&&this.fragment.unrender(),this.binding&&this.binding.unrender(),this._outroTransition&&this.ractive.transitionsEnabled&&(this._outroTransition.isIntro=!1,Ft.registerTransition(this._outroTransition)),function(t){var e=t.liveQueries.length;for(;e--;){var n=t.liveQueries[e];n.remove(t.node)}}(this)}},e.prototype.update=function(){this.dirty&&(this.dirty=!1,this.attributes.forEach(Ae),this.fragment&&this.fragment.update())},e}(Ma);function Mc(t){var e=t.toString();return e?" "+e:""}var Lc=function(t){function e(e){t.call(this,e),this.formBindings=[]}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(e,n){t.prototype.render.call(this,e,n),this.node.addEventListener("reset",zc,!1)},e.prototype.unrender=function(e){this.node.removeEventListener("reset",zc,!1),t.prototype.unrender.call(this,e)},e}(Pc);function zc(){var t=this._ractive.proxy;Ft.start(),t.formBindings.forEach($c),Ft.end()}function $c(t){t.model.set(t.resetValue)}var qc=function(t){function e(e){t.call(this,e),this.parentFragment=e.parentFragment,this.template=e.template,this.index=e.index,e.owner&&(this.parent=e.owner),this.isStatic=!!e.template.s,this.model=null,this.dirty=!1}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(){var t=this,e=Ua(this.parentFragment,this.template),n=e?e.get():void 0;this.isStatic?this.model={get:function(){return n}}:e?(e.register(this),this.model=e):this.template.r&&(this.resolver=this.parentFragment.resolve(this.template.r,function(e){t.model=e,e.register(t),t.handleChange(),t.resolver=null}))},e.prototype.handleChange=function(){this.bubble()},e.prototype.rebinding=function(t,e,n){return t=je(this.template,t,e),!this.static&&(t!==this.model&&(this.model&&this.model.unregister(this),t&&t.addShuffleRegister(this,"mark"),this.model=t,n||this.handleChange(),!0))},e.prototype.unbind=function(){this.isStatic||(this.model&&this.model.unregister(this),this.model=void 0,this.resolver&&this.resolver.unbind())},e}(Ma),Uc=function(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bubble=function(){this.owner&&this.owner.bubble(),t.prototype.bubble.call(this)},e.prototype.detach=function(){return A(this.node)},e.prototype.firstNode=function(){return this.node},e.prototype.getString=function(){return this.model?F(this.model.get()):""},e.prototype.render=function(t,e){if(!Cu()){var n=this.getString();if(this.rendered=!0,e){var r=e[0];r&&3===r.nodeType?(e.shift(),r.nodeValue!==n&&(r.nodeValue=n)):(r=this.node=s.createTextNode(n),e[0]?t.insertBefore(r,e[0]):t.appendChild(r)),this.node=r}else this.node=s.createTextNode(n),t.appendChild(this.node)}},e.prototype.toString=function(t){var e=this.getString();return t?Zi(e):e},e.prototype.unrender=function(t){t&&this.detach(),this.rendered=!1},e.prototype.update=function(){this.dirty&&(this.dirty=!1,this.rendered&&(this.node.data=this.getString()))},e.prototype.valueOf=function(){return this.model?this.model.get():void 0},e}(qc),Vc=function(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(e,n){t.prototype.render.call(this,e,n),this.node.defaultValue=this.node.value},e}(Pc),Hc=function(t){function e(e){t.call(this,e),this.name=e.template.n,this.owner=e.owner||e.parentFragment.owner||e.element||Wa(e.parentFragment),this.element=e.element||(this.owner.attributeByName?this.owner:Wa(e.parentFragment)),this.parentFragment=this.element.parentFragment,this.ractive=this.parentFragment.ractive,this.fragment=null,this.element.attributeByName[this.name]=this,this.value=e.template.f}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(){this.fragment&&this.fragment.bind();var t=this.template.f,e=this.element.instance.viewmodel;if(0===t)e.joinKey(this.name).set(!0);else if("string"==typeof t){var n=Wo(t);e.joinKey(this.name).set(n?n.value:t)}else P(t)&&function(t){var e=t.template.f,n=t.element.instance.viewmodel,r=n.value;1===e.length&&e[0].t===Vr?(t.model=Ua(t.parentFragment,e[0]),t.model||(Q("The "+t.name+"='{{"+e[0].r+"}}' mapping is ambiguous, and may cause unexpected results. Consider initialising your data to eliminate the ambiguity",{ractive:t.element.instance}),t.parentFragment.ractive.get(t.name),t.model=t.parentFragment.findContext().joinKey(t.name)),t.link=n.createLink(t.name,t.model,e[0].r),void 0===t.model.get()&&!t.model.isReadonly&&t.name in r&&t.model.set(r[t.name])):(t.boundFragment=new Vl({owner:t,template:e}).bind(),t.model=n.joinKey(t.name),t.model.set(t.boundFragment.valueOf()),t.boundFragment.bubble=function(){Vl.prototype.bubble.call(t.boundFragment),Ft.scheduleTask(function(){t.boundFragment.update(),t.model.set(t.boundFragment.valueOf())})})}(this)},e.prototype.render=function(){},e.prototype.unbind=function(){this.fragment&&this.fragment.unbind(),this.model&&this.model.unregister(this),this.boundFragment&&this.boundFragment.unbind(),this.element.bound&&this.link.target===this.model&&this.link.owner.unlink()},e.prototype.unrender=function(){},e.prototype.update=function(){this.dirty&&(this.dirty=!1,this.fragment&&this.fragment.update(),this.boundFragment&&this.boundFragment.update(),this.rendered&&this.updateDelegate())},e}(Ma),Wc=function(t){function e(e){var n=e.template;n.a||(n.a={}),void 0!==n.a.value||"disabled"in n.a||(n.a.value=n.f||""),t.call(this,e),this.select=Wa(this.parent||this.parentFragment,!1,"select")}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(){if(this.select){var e=this.attributeByName.selected;if(e&&void 0!==this.select.getAttribute("value")){var n=this.attributes.indexOf(e);this.attributes.splice(n,1),delete this.attributeByName.selected}t.prototype.bind.call(this),this.select.options.push(this)}else t.prototype.bind.call(this)},e.prototype.bubble=function(){var e=this.getAttribute("value");this.node&&this.node.value!==e&&(this.node._ractive.value=e),t.prototype.bubble.call(this)},e.prototype.getAttribute=function(t){var e=this.attributeByName[t];return e?e.getValue():"value"===t&&this.fragment?this.fragment.valueOf():void 0},e.prototype.isSelected=function(){var t=this.getAttribute("value");if(void 0===t||!this.select)return!1;var e=this.select.getAttribute("value");if(e==t)return!0;if(this.select.getAttribute("multiple")&&P(e))for(var n=e.length;n--;)if(e[n]==t)return!0},e.prototype.render=function(e,n){t.prototype.render.call(this,e,n),this.attributeByName.value||(this.node._ractive.value=this.getAttribute("value"))},e.prototype.unbind=function(){t.prototype.unbind.call(this),this.select&&ft(this.select.options,this)},e}(Pc);function Kc(t,e,n){var r=function(t,e,n){var r=function t(e,n){if(n){if(n.template&&n.template.p&&n.template.p[e])return n.template.p[e];if(n.parentFragment&&n.parentFragment.owner)return t(e,n.parentFragment.owner)}}(e,n.owner);if(r)return r;var i,o=nt("partials",t,e);if(!o)return;"function"==typeof(r=o.partials[e])&&((i=r.bind(o)).isOwner=o.partials.hasOwnProperty(e),r=i.call(t,da));if(!r&&""!==r)return void X(Z,e,"partial","partial",{ractive:t});if(!da.isParsed(r)){var s=da.parseFor(r,o);s.p&&X("Partials ({{>%s}}) cannot contain nested inline partials",e,{ractive:t});var a=i?o:function(t,e){return t.partials.hasOwnProperty(e)?t:function t(e,n){if(!e)return;return e.partials.hasOwnProperty(n)?e:t(e._Parent,n)}(t.constructor,e)}(o,e);a.partials[e]=r=s.t}i&&(r._fn=i);return r.v?r.t:r}(t,e,n||{});if(r)return r;if(r=da.fromId(e,{noThrow:!0})){var i=da.parseFor(r,t);return i.p&&function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];e.forEach(function(e){for(var n in e)!R.call(e,n)||n in t||(t[n]=e[n])})}(t.partials,i.p),t.partials[e]=i.t}}var Gc=function(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(){this.refName=this.template.r;var e,n=this.refName&&Kc(this.ractive,this.refName,this.parentFragment)||null;n&&(this.named=!0,this.setTemplate(this.template.r,n)),n||(t.prototype.bind.call(this),this.model&&(e=this.model.get())&&"object"==typeof e&&("string"==typeof e.template||P(e.t))?(e.template?(this.source=e.template,e=Yc(this.template.r,e.template,this.ractive)):this.source=e.t,this.setTemplate(this.template.r,e.t)):this.model&&"string"==typeof this.model.get()||!this.refName?this.setTemplate(this.model.get()):this.setTemplate(this.refName,n)),this.fragment=new Vl({owner:this,template:this.partialTemplate}).bind()},e.prototype.detach=function(){return this.fragment.detach()},e.prototype.find=function(t){return this.fragment.find(t)},e.prototype.findAll=function(t,e){this.fragment.findAll(t,e)},e.prototype.findComponent=function(t){return this.fragment.findComponent(t)},e.prototype.findAllComponents=function(t,e){this.fragment.findAllComponents(t,e)},e.prototype.firstNode=function(t){return this.fragment.firstNode(t)},e.prototype.forceResetTemplate=function(){var t=this;this.partialTemplate=void 0,this.refName&&(this.partialTemplate=Kc(this.ractive,this.refName,this.parentFragment)),this.partialTemplate||(this.partialTemplate=Kc(this.ractive,this.name,this.parentFragment)),this.partialTemplate||(Q("Could not find template for partial '"+this.name+"'"),this.partialTemplate=[]),this.inAttribute?(Du=!0,function(){return t.fragment.resetTemplate(t.partialTemplate)}(),Du=!1):this.fragment.resetTemplate(this.partialTemplate),this.bubble()},e.prototype.render=function(t,e){this.fragment.render(t,e)},e.prototype.setTemplate=function(t,e){this.name=t,e||null===e||(e=Kc(this.ractive,t,this.parentFragment)),e||Q("Could not find template for partial '"+t+"'"),this.partialTemplate=e||[]},e.prototype.toString=function(t){return this.fragment.toString(t)},e.prototype.unbind=function(){t.prototype.unbind.call(this),this.fragment.unbind()},e.prototype.unrender=function(t){this.fragment.unrender(t)},e.prototype.update=function(){var t;this.dirty&&(this.dirty=!1,this.named||(this.model&&(t=this.model.get()),t&&"string"==typeof t&&t!==this.name?(this.setTemplate(t),this.fragment.resetTemplate(this.partialTemplate)):t&&"object"==typeof t&&("string"==typeof t.template||P(t.t))&&t.t!==this.source&&t.template!==this.source&&(t.template?(this.source=t.template,t=Yc(this.name,t.template,this.ractive)):this.source=t.t,this.setTemplate(this.name,t.t),this.fragment.resetTemplate(this.partialTemplate))),this.fragment.update())},e}(qc);function Yc(t,e,n){var r;try{r=da.parse(e,da.getParseOptions(n))}catch(e){X("Could not parse partial from expression '"+t+"'\n"+e.message)}return r||{t:[]}}var Xc=function(t){this.parent=t.owner.parentFragment,this.parentFragment=this,this.owner=t.owner,this.ractive=this.parent.ractive,this.cssIds="cssIds"in t?t.cssIds:this.parent?this.parent.cssIds:null,this.context=null,this.rendered=!1,this.iterations=[],this.template=t.template,this.indexRef=t.indexRef,this.keyRef=t.keyRef,this.pendingNewIndices=null,this.previousIterations=null,this.isArray=!1};Xc.prototype.bind=function(t){var e=this;this.context=t;var n=t.get();if(this.isArray=P(n)){this.iterations=[];for(var r=n.length,i=0;i<r;i+=1)e.iterations[i]=e.createIteration(i,i)}else if(z(n)){if(this.isArray=!1,this.indexRef){var o=this.indexRef.split(",");this.keyRef=o[0],this.indexRef=o[1]}this.iterations=Object.keys(n).map(function(t,n){return e.createIteration(t,n)})}return this},Xc.prototype.bubble=function(){this.owner.bubble()},Xc.prototype.createIteration=function(t,e){var n=new Vl({owner:this,template:this.template});n.key=t,n.index=e,n.isIteration=!0;var r=this.context.joinKey(t);return this.owner.template.z&&(n.aliases={},n.aliases[this.owner.template.z[0].n]=r),n.bind(r)},Xc.prototype.destroyed=function(){this.iterations.forEach(function(t){return t.destroyed()})},Xc.prototype.detach=function(){var t=x();return this.iterations.forEach(function(e){return t.appendChild(e.detach())}),t},Xc.prototype.find=function(t){var e,n=this.iterations.length;for(e=0;e<n;e+=1){var r=this.iterations[e].find(t);if(r)return r}},Xc.prototype.findAll=function(t,e){var n,r=this.iterations.length;for(n=0;n<r;n+=1)this.iterations[n].findAll(t,e)},Xc.prototype.findComponent=function(t){var e,n=this.iterations.length;for(e=0;e<n;e+=1){var r=this.iterations[e].findComponent(t);if(r)return r}},Xc.prototype.findAllComponents=function(t,e){var n,r=this.iterations.length;for(n=0;n<r;n+=1)this.iterations[n].findAllComponents(t,e)},Xc.prototype.findNextNode=function(t){if(t.index<this.iterations.length-1)for(var e=t.index+1;e<this.iterations.length;e++){var n=this.iterations[e].firstNode(!0);if(n)return n}return this.owner.findNextNode()},Xc.prototype.firstNode=function(t){return this.iterations[0]?this.iterations[0].firstNode(t):null},Xc.prototype.rebinding=function(t){var e=this;this.context=t,this.iterations.forEach(function(n){var r=t?t.joinKey(n.key||n.index):void 0;n.context=r,e.owner.template.z&&(n.aliases={},n.aliases[e.owner.template.z[0].n]=r)})},Xc.prototype.render=function(t,e){this.iterations&&this.iterations.forEach(function(n){return n.render(t,e)}),this.rendered=!0},Xc.prototype.shuffle=function(t){var e=this;this.pendingNewIndices||(this.previousIterations=this.iterations.slice()),this.pendingNewIndices||(this.pendingNewIndices=[]),this.pendingNewIndices.push(t);var n=[];t.forEach(function(t,r){if(-1!==t){var i=e.iterations[r];n[t]=i,t!==r&&i&&(i.dirty=!0)}}),this.iterations=n,this.bubble()},Xc.prototype.shuffled=function(){this.iterations.forEach(function(t){return t.shuffled()})},Xc.prototype.toString=function(t){return this.iterations?this.iterations.map(t?_e:Fe).join(""):""},Xc.prototype.unbind=function(){return this.iterations.forEach(Ce),this},Xc.prototype.unrender=function(t){this.iterations.forEach(t?Ee:xe),this.pendingNewIndices&&this.previousIterations&&this.previousIterations.forEach(function(e){e.rendered&&(t?Ee(e):xe(e))}),this.rendered=!1},Xc.prototype.update=function(){var t=this;if(this.pendingNewIndices)this.updatePostShuffle();else if(!this.updating){this.updating=!0;var e,n,r,i,o,s=this.context.get(),a=this.isArray,u=!0;if(this.isArray=P(s))a&&(u=!1,this.iterations.length>s.length&&(e=this.iterations.splice(s.length)));else if(z(s)&&!a)for(u=!1,e=[],n={},r=this.iterations.length;r--;){var c=t.iterations[r];c.key in s?n[c.key]=!0:(t.iterations.splice(r,1),e.push(c))}if(u&&(e=this.iterations,this.iterations=[]),e&&e.forEach(function(t){t.unbind(),t.unrender(!0)}),this.iterations.forEach(Ae),(P(s)?s.length:z(s)?Object.keys(s).length:0)>this.iterations.length){if(i=this.rendered?x():null,r=this.iterations.length,P(s))for(;r<s.length;)o=t.createIteration(r,r),t.iterations.push(o),t.rendered&&o.render(i),r+=1;else if(z(s)){if(this.indexRef&&!this.keyRef){var l=this.indexRef.split(",");this.keyRef=l[0],this.indexRef=l[1]}Object.keys(s).forEach(function(e){n&&e in n||(o=t.createIteration(e,r),t.iterations.push(o),t.rendered&&o.render(i),r+=1)})}if(this.rendered){var h=this.parent.findParentNode(),p=this.parent.findNextNode(this.owner);h.insertBefore(i,p)}}this.updating=!1}},Xc.prototype.updatePostShuffle=function(){var t=this,e=this.pendingNewIndices[0];this.pendingNewIndices.slice(1).forEach(function(t){e.forEach(function(n,r){e[r]=t[n]})});var n,r=this.context.get().length,i=this.previousIterations.length,o={};e.forEach(function(e,n){var r=t.previousIterations[n];if(t.previousIterations[n]=null,-1===e)o[n]=r;else if(r.index!==e){var i=t.context.joinKey(e);r.index=r.key=e,r.context=i,t.owner.template.z&&(r.aliases={},r.aliases[t.owner.template.z[0].n]=i)}}),this.previousIterations.forEach(function(t,e){t&&(o[e]=t)});var s=this.rendered?x():null,a=this.rendered?this.parent.findParentNode():null,u="startIndex"in e;for(n=u?e.startIndex:0;n<r;n++){var c=t.iterations[n];c&&u?t.rendered&&(o[n]&&s.appendChild(o[n].detach()),s.childNodes.length&&a.insertBefore(s,c.firstNode())):(c||(t.iterations[n]=t.createIteration(n,n)),t.rendered&&(o[n]&&s.appendChild(o[n].detach()),c?s.appendChild(c.detach()):t.iterations[n].render(s)))}if(this.rendered){for(n=r;n<i;n++)o[n]&&s.appendChild(o[n].detach());s.childNodes.length&&a.insertBefore(s,this.owner.findNextNode())}Object.keys(o).forEach(function(t){return o[t].unbind().unrender(!0)}),this.iterations.forEach(Ae),this.pendingNewIndices=null,this.shuffled()};var Qc,Jc=function(t){function e(e){t.call(this,e),this.sectionType=e.template.n||null,this.templateSectionType=this.sectionType,this.subordinate=1===e.template.l,this.fragment=null}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(){t.prototype.bind.call(this),this.subordinate&&(this.sibling=this.parentFragment.items[this.parentFragment.items.indexOf(this)-1],this.sibling.nextSibling=this),this.model?(this.dirty=!0,this.update()):!this.sectionType||this.sectionType!==xi||this.sibling&&this.sibling.isTruthy()||(this.fragment=new Vl({owner:this,template:this.template.f}).bind())},e.prototype.detach=function(){return this.fragment?this.fragment.detach():x()},e.prototype.find=function(t){if(this.fragment)return this.fragment.find(t)},e.prototype.findAll=function(t,e){this.fragment&&this.fragment.findAll(t,e)},e.prototype.findComponent=function(t){if(this.fragment)return this.fragment.findComponent(t)},e.prototype.findAllComponents=function(t,e){this.fragment&&this.fragment.findAllComponents(t,e)},e.prototype.firstNode=function(t){return this.fragment&&this.fragment.firstNode(t)},e.prototype.isTruthy=function(){if(this.subordinate&&this.sibling.isTruthy())return!0;var t=this.model?this.model.isRoot?this.model.value:this.model.get():void 0;return!(!t||this.templateSectionType!==Fi&&function(t){return!t||P(t)&&0===t.length||z(t)&&0===Object.keys(t).length}(t))},e.prototype.rebinding=function(e,n,r){t.prototype.rebinding.call(this,e,n,r)&&this.fragment&&this.sectionType!==Ci&&this.sectionType!==xi&&this.fragment.rebinding(e,n)},e.prototype.render=function(t,e){this.rendered=!0,this.fragment&&this.fragment.render(t,e)},e.prototype.shuffle=function(t){this.fragment&&this.sectionType===Ei&&this.fragment.shuffle(t)},e.prototype.toString=function(t){return this.fragment?this.fragment.toString(t):""},e.prototype.unbind=function(){t.prototype.unbind.call(this),this.fragment&&this.fragment.unbind()},e.prototype.unrender=function(t){this.rendered&&this.fragment&&this.fragment.unrender(t),this.rendered=!1},e.prototype.update=function(){if(this.dirty&&(this.fragment&&this.sectionType!==Ci&&this.sectionType!==xi&&(this.fragment.context=this.model),this.model||this.sectionType===xi)){this.dirty=!1;var t,e=this.model?this.model.isRoot?this.model.value:this.model.get():void 0,n=!this.subordinate||!this.sibling.isTruthy(),r=this.sectionType;if(null!==this.sectionType&&null!==this.templateSectionType||(this.sectionType=function(t,e){return e||P(t)?Ei:z(t)||"function"==typeof t?Fi:void 0===t?null:Ci}(e,this.template.i)),r&&r!==this.sectionType&&this.fragment&&(this.rendered&&this.fragment.unbind().unrender(!0),this.fragment=null),this.sectionType===Ei||this.sectionType===Ai||n&&(this.sectionType===xi?!this.isTruthy():this.isTruthy()))if(this.fragment)this.fragment.update();else if(this.sectionType===Ei)t=new Xc({owner:this,template:this.template.f,indexRef:this.template.i}).bind(this.model);else{var i=this.sectionType!==Ci&&this.sectionType!==xi?this.model:null;t=new Vl({owner:this,template:this.template.f}).bind(i)}else this.fragment&&(this.fragment.unbind(),this.rendered&&this.fragment.unrender(!0)),this.fragment=null;if(t){if(this.rendered){var o=this.parentFragment.findParentNode(),s=this.parentFragment.findNextNode(this);if(s){var a=x();t.render(a),s.parentNode.insertBefore(a,s)}else t.render(o)}this.fragment=t}this.nextSibling&&(this.nextSibling.dirty=!0,this.nextSibling.update())}},e}(qc),Zc=function(t){function e(e){t.call(this,e),this.options=[]}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.foundNode=function(t){if(this.binding){var e=Fc(t);e.length>0&&(this.selectedOptions=e)}},e.prototype.render=function(e,n){t.prototype.render.call(this,e,n),this.sync();for(var r=this.node,i=r.options.length;i--;)r.options[i].defaultSelected=r.options[i].selected;this.rendered=!0},e.prototype.sync=function(){var t=this,e=this.node;if(e){var n=dt(e.options);if(this.selectedOptions)return n.forEach(function(e){t.selectedOptions.indexOf(e)>=0?e.selected=!0:e.selected=!1}),this.binding.setFromNode(e),void delete this.selectedOptions;var r,i=this.getAttribute("value"),o=this.getAttribute("multiple"),s=o&&P(i);if(void 0!==i)n.forEach(function(t){var e=t._ractive?t._ractive.value:t.value,n=o?s&&function(t,e){for(var n=t.length;n--;)if(t[n]==e)return!0}(i,e):i==e;n&&(r=!0),t.selected=n}),r||o||this.binding&&this.binding.forceUpdate();else this.binding&&this.binding.forceUpdate()}},e.prototype.update=function(){var e=this.dirty;t.prototype.update.call(this),e&&this.sync()},e}(Pc),tl=function(t){function e(e){var n=e.template;e.deferContent=!0,t.call(this,e),this.attributeByName.value||(n.f&&Ic({template:n})?this.attributes.push($l({owner:this,template:{t:Zr,f:n.f,n:"value"},parentFragment:this.parentFragment})):this.fragment=new Vl({owner:this,cssIds:null,template:n.f}))}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bubble=function(){var t=this;this.dirty||(this.dirty=!0,this.rendered&&!this.binding&&this.fragment&&Ft.scheduleTask(function(){t.dirty=!1,t.node.value=t.fragment.toString()}),this.parentFragment.bubble())},e}(Vc),el=function(t){function e(e){t.call(this,e),this.type=Ur}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(){},e.prototype.detach=function(){return A(this.node)},e.prototype.firstNode=function(){return this.node},e.prototype.render=function(t,e){if(!Cu())if(this.rendered=!0,e){var n=e[0];n&&3===n.nodeType?(e.shift(),n.nodeValue!==this.template&&(n.nodeValue=this.template)):(n=this.node=s.createTextNode(this.template),e[0]?t.insertBefore(n,e[0]):t.appendChild(n)),this.node=n}else this.node=s.createTextNode(this.template),t.appendChild(this.node)},e.prototype.toString=function(t){return t?Zi(this.template):this.template},e.prototype.unbind=function(){},e.prototype.unrender=function(t){this.rendered&&t&&this.detach(),this.rendered=!1},e.prototype.update=function(){},e.prototype.valueOf=function(){return this.template},e}(Ma);function nl(t){return t.replace(/-([a-zA-Z])/g,function(t,e){return e.toUpperCase()})}if(a){var rl={},il=c("div").style;Qc=function(t){if(t=nl(t),!rl[t])if(void 0!==il[t])rl[t]=t;else for(var e=t.charAt(0).toUpperCase()+t.substring(1),n=b.length;n--;){var r=b[n];if(void 0!==il[r+e]){rl[t]=r+e;break}}return rl[t]}}else Qc=null;var ol,sl=Qc,al="hidden";if(s){var ul;if(al in s)ul="";else for(var cl=b.length;cl--;){var ll=b[cl];if((al=ll+"Hidden")in s){ul=ll;break}}void 0!==ul?(s.addEventListener(ul+"visibilitychange",hl),hl()):("onfocusout"in s?(s.addEventListener("focusout",pl),s.addEventListener("focusin",fl)):(o.addEventListener("pagehide",pl),o.addEventListener("blur",pl),o.addEventListener("pageshow",fl),o.addEventListener("focus",fl)),ol=!0)}function hl(){ol=!s[al]}function pl(){ol=!1}function fl(){ol=!0}var dl,gl=new RegExp("^-(?:"+b.join("|")+")-"),ml=new RegExp("^(?:"+b.join("|")+")([A-Z])");function vl(t){return t?(ml.test(t)&&(t="-"+t),t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()})):""}if(a){var yl,bl,wl,Dl,Cl,xl,El=c("div").style,Al=function(t){return t},Fl={},_l={};void 0!==El.transition?(yl="transition",bl="transitionend",wl=!0):void 0!==El.webkitTransition?(yl="webkitTransition",bl="webkitTransitionEnd",wl=!0):wl=!1,yl&&(Dl=yl+"Duration",Cl=yl+"Property",xl=yl+"TimingFunction"),dl=function(t,e,n,r,i){setTimeout(function(){var o,s,a;function u(){clearTimeout(a)}function c(){o&&s&&(t.unregisterCompleteHandler(u),t.ractive.fire(t.name+":end",t.node,t.isIntro),i())}var l=(t.node.namespaceURI||"")+t.node.tagName,h=t.node.style,p={property:h[Cl],timing:h[xl],duration:h[Dl]};function f(t){var e=r.indexOf(nl(t.propertyName.replace(gl,"")));-1!==e&&r.splice(e,1),r.length||(clearTimeout(a),d())}function d(){h[Cl]=p.property,h[xl]=p.duration,h[Dl]=p.timing,t.node.removeEventListener(bl,f,!1),s=!0,c()}h[Cl]=r.map(sl).map(vl).join(","),h[xl]=vl(n.easing||"linear"),h[Dl]=n.duration/1e3+"s",t.node.addEventListener(bl,f,!1),a=setTimeout(function(){r=[],d()},n.duration+(n.delay||0)+50),t.registerCompleteHandler(u),setTimeout(function(){for(var i,a,u,p,d,g,m,v=r.length,y=[];v--;)p=r[v],i=l+p,wl&&!_l[i]&&(h[sl(p)]=e[p],Fl[i]||(a=t.getStyle(p),Fl[i]=t.getStyle(p)!=e[p],_l[i]=!Fl[i],_l[i]&&(h[sl(p)]=a))),wl&&!_l[i]||(void 0===a&&(a=t.getStyle(p)),-1===(u=r.indexOf(p))?X("Something very strange happened with transitions. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!",{node:t.node}):r.splice(u,1),d=/[^\d]*$/.exec(e[p])[0],g=rt(parseFloat(a),parseFloat(e[p]))||function(){return e[p]},y.push({name:sl(p),interpolator:g,suffix:d}));y.length?("string"==typeof n.easing?(m=t.ractive.easing[n.easing])||(Q(tt(n.easing,"easing")),m=Al):m="function"==typeof n.easing?n.easing:Al,new Ve({duration:n.duration,easing:m,step:function(e){for(var n=y.length;n--;){var r=y[n];t.node.style[r.name]=r.interpolator(e)+r.suffix}},complete:function(){o=!0,c()}})):o=!0;r.length||(t.node.removeEventListener(bl,f,!1),s=!0,c())},0)},n.delay||0)}}else dl=null;var kl=dl,Sl=o&&(o.getComputedStyle||null.getComputedStyle),Tl=yt.resolve(),Ol={t0:"intro-outro",t1:"intro",t2:"outro"},Bl=function(t){this.owner=t.owner||t.parentFragment.owner||Wa(t.parentFragment),this.element=this.owner.attributeByName?this.owner:Wa(t.parentFragment),this.ractive=this.owner.ractive,this.template=t.template,this.parentFragment=t.parentFragment,this.options=t,this.onComplete=[]};Bl.prototype.animateStyle=function(t,e,n){var r,i=this;if(4===arguments.length)throw new Error("t.animateStyle() returns a promise - use .then() instead of passing a callback");return ol?("string"==typeof t?(r={})[t]=e:(r=t,n=e),n||(Q('The "%s" transition does not supply an options object to `t.animateStyle()`. This will break in a future version of Ractive. For more info see https://github.com/RactiveJS/Ractive/issues/340',this.name),n=this),new yt(function(t){if(!n.duration)return i.setStyle(r),void t();for(var e=Object.keys(r),o=[],s=Sl(i.node),a=e.length;a--;){var u=e[a],c=s[sl(u)];"0px"===c&&(c=0),c!=r[u]&&(o.push(u),i.node.style[sl(u)]=c)}o.length?kl(i,r,n,o,t):t()})):(this.setStyle(t,e),Tl)},Bl.prototype.bind=function(){var t=this,e=this.options,n=e.template&&e.template.v;n&&("t0"!==n&&"t1"!==n||(this.element._introTransition=this),"t0"!==n&&"t2"!==n||(this.element._outroTransition=this),this.eventName=Ol[n]);var r=this.owner.ractive;if(e.name)this.name=e.name;else{var i=e.template.f;if("string"==typeof i.n&&(i=i.n),"string"!=typeof i){var o=new Vl({owner:this.owner,template:i.n}).bind();if(i=o.toString(),o.unbind(),""===i)return}this.name=i}if(e.params)this.params=e.params;else if(e.template.f.a&&!e.template.f.a.s)this.params=e.template.f.a;else if(e.template.f.d){var s=new Vl({owner:this.owner,template:e.template.f.d}).bind();this.params=s.getArgsList(),s.unbind()}"function"==typeof this.name?(this._fn=this.name,this.name=this._fn.name):this._fn=et("transitions",r,this.name),this._fn||Q(tt(this.name,"transition"),{ractive:r}),e.template&&this.template.f.a&&this.template.f.a.s&&(this.resolvers=[],this.models=this.template.f.a.r.map(function(e,n){var r,i=Xe(t.parentFragment,e);return i?i.register(t):(r=t.parentFragment.resolve(e,function(e){t.models[n]=e,ft(t.resolvers,r),e.register(t)}),t.resolvers.push(r)),i}),this.argsFn=Lr(this.template.f.a.s,this.template.f.a.r.length))},Bl.prototype.destroyed=function(){},Bl.prototype.getStyle=function(t){var e=Sl(this.node);if("string"==typeof t){var n=e[sl(t)];return"0px"===n?0:n}if(!P(t))throw new Error("Transition$getStyle must be passed a string, or an array of strings representing CSS properties");for(var r={},i=t.length;i--;){var o=t[i],s=e[sl(o)];"0px"===s&&(s=0),r[o]=s}return r},Bl.prototype.handleChange=function(){},Bl.prototype.processParams=function(t,e){return"number"==typeof t?t={duration:t}:"string"==typeof t?t="slow"===t?{duration:600}:"fast"===t?{duration:200}:{duration:400}:t||(t={}),I({},e,t)},Bl.prototype.rebinding=function(t,e){var n=this.models.indexOf(e);~n&&(t=je(this.template.f.a.r[n],t,e))!==e&&(e.unregister(this),this.models.splice(n,1,t),t&&t.addShuffleRegister(this,"mark"))},Bl.prototype.registerCompleteHandler=function(t){ct(this.onComplete,t)},Bl.prototype.render=function(){},Bl.prototype.setStyle=function(t,e){var n;if("string"==typeof t)this.node.style[sl(t)]=e;else for(n in t)t.hasOwnProperty(n)&&(this.node.style[sl(n)]=t[n]);return this},Bl.prototype.start=function(){var t,e=this,n=this.node=this.element.node,r=n.getAttribute("style"),i=this.params;if(this.complete=function(i){t||(e.onComplete.forEach(function(t){return t()}),!i&&e.isIntro&&function(t,e){e?t.setAttribute("style",e):(t.getAttribute("style"),t.removeAttribute("style"))}(n,r),e._manager.remove(e),t=!0)},this._fn){if(this.argsFn){var o=this.models.map(function(t){if(t)return t.get()});i=this.argsFn.apply(this.ractive,o)}var s=this._fn.apply(this.ractive,[this].concat(i));s&&s.then(this.complete)}else this.complete()},Bl.prototype.toString=function(){return""},Bl.prototype.unbind=function(){if(this.resolvers&&this.resolvers.forEach(Ce),!this.element.attributes.unbinding){var t=this.options&&this.options.template&&this.options.template.v;"t0"!==t&&"t1"!==t||(this.element._introTransition=null),"t0"!==t&&"t2"!==t||(this.element._outroTransition=null)}},Bl.prototype.unregisterCompleteHandler=function(t){ft(this.onComplete,t)},Bl.prototype.unrender=function(){},Bl.prototype.update=function(){};var Nl,Il,Rl={};try{c("table").innerHTML="foo"}catch(t){Nl=!0,Il={TABLE:['<table class="x">',"</table>"],THEAD:['<table><thead class="x">',"</thead></table>"],TBODY:['<table><tbody class="x">',"</tbody></table>"],TR:['<table><tr class="x">',"</tr></table>"],SELECT:['<select class="x">',"</select>"]}}function jl(t){return Rl[t]||(Rl[t]=c(t))}var Pl=function(t){function e(e){t.call(this,e)}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.detach=function(){var t=x();return this.nodes.forEach(function(e){return t.appendChild(e)}),t},e.prototype.find=function(t){var e,n=this.nodes.length;for(e=0;e<n;e+=1){var r=this.nodes[e];if(1===r.nodeType){if(l(r,t))return r;var i=r.querySelector(t);if(i)return i}}return null},e.prototype.findAll=function(t,e){var n,r=this.nodes.length;for(n=0;n<r;n+=1){var i=this.nodes[n];if(1===i.nodeType){e.test(i)&&e.add(i);var o=i.querySelectorAll(t);if(o){var s,a=o.length;for(s=0;s<a;s+=1)e.add(o[s])}}}},e.prototype.findComponent=function(){return null},e.prototype.firstNode=function(){return this.nodes[0]},e.prototype.render=function(t){var e=this.model?this.model.get():"";this.nodes=function(t,e,n){var r,i,o,s,a,u=[];if(null==t||""===t)return u;for(Nl&&(i=Il[e.tagName])?((r=jl("DIV")).innerHTML=i[0]+t+i[1],"SELECT"===(r=r.querySelector(".x")).tagName&&(o=r.options[r.selectedIndex])):e.namespaceURI===D?((r=jl("DIV")).innerHTML='<svg class="x">'+t+"</svg>",r=r.querySelector(".x")):"TEXTAREA"===e.tagName?void 0!==(r=c("div")).textContent?r.textContent=t:r.innerHTML=t:((r=jl(e.tagName)).innerHTML=t,"SELECT"===r.tagName&&(o=r.options[r.selectedIndex]));s=r.firstChild;)u.push(s),n.appendChild(s);if("SELECT"===e.tagName)for(a=u.length;a--;)u[a]!==o&&(u[a].selected=!1);return u}(e,this.parentFragment.findParentNode(),t),this.rendered=!0},e.prototype.toString=function(){var t=this.model&&this.model.get();return t=null!=t?""+t:"",mu?Gi(t):t},e.prototype.unrender=function(){this.nodes&&this.nodes.forEach(function(t){return A(t)}),this.rendered=!1},e.prototype.update=function(){if(this.rendered&&this.dirty){this.dirty=!1,this.unrender();var t=x();this.render(t);var e=this.parentFragment.findParentNode(),n=this.parentFragment.findNextNode(this);e.insertBefore(t,n)}else this.dirty=!1},e}(qc),Ml=function(t){function e(e){t.call(this,e),this.container=e.parentFragment.ractive,this.component=this.container.component,this.containerFragment=e.parentFragment,this.parentFragment=this.component.parentFragment,this.name=e.template.n||""}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(){var t=this.name;(this.component.yielders[t]||(this.component.yielders[t]=[])).push(this);var e=this.container._inlinePartials[t||"content"];"string"==typeof e&&(e=sa(e).t),e||(X('Could not find template for partial "'+t+'"',{ractive:this.ractive}),e=[]),this.fragment=new Vl({owner:this,ractive:this.container.parent,template:e}).bind()},e.prototype.bubble=function(){this.dirty||(this.containerFragment.bubble(),this.dirty=!0)},e.prototype.detach=function(){return this.fragment.detach()},e.prototype.find=function(t){return this.fragment.find(t)},e.prototype.findAll=function(t,e){this.fragment.findAll(t,e)},e.prototype.findComponent=function(t){return this.fragment.findComponent(t)},e.prototype.findAllComponents=function(t,e){this.fragment.findAllComponents(t,e)},e.prototype.findNextNode=function(){return this.containerFragment.findNextNode(this)},e.prototype.firstNode=function(t){return this.fragment.firstNode(t)},e.prototype.render=function(t,e){return this.fragment.render(t,e)},e.prototype.setTemplate=function(t){var e=this.parentFragment.ractive.partials[t];"string"==typeof e&&(e=sa(e).t),this.partialTemplate=e||[]},e.prototype.toString=function(t){return this.fragment.toString(t)},e.prototype.unbind=function(){this.fragment.unbind(),ft(this.component.yielders[this.name],this)},e.prototype.unrender=function(t){this.fragment.unrender(t)},e.prototype.update=function(){this.dirty=!1,this.fragment.update()},e}(Ma),Ll={};Ll[oi]=Ha,Ll[ii]=pc,Ll[Vr]=Uc,Ll[Xr]=Gc,Ll[Wr]=Jc,Ll[Hr]=Pl,Ll[ni]=Ml,Ll[Zr]=vu,Ll[Bi]=yu,Ll[Ti]=hc,Ll[Si]=sc,Ll[Oi]=Bl;var zl={doctype:pc,form:Lc,input:Vc,option:Wc,select:Zc,textarea:tl};function $l(t){if("string"==typeof t.template)return new el(t);if(t.template.t===Yr){var e=function t(e,n){var r,i=nt("components",e,n);if(i&&!(r=i.components[n])._Parent){var o=r.bind(i);if(o.isOwner=i.components.hasOwnProperty(n),!(r=o()))return void X(Z,n,"component","component",{ractive:e});"string"==typeof r&&(r=t(e,r)),r._fn=o,i.components[n]=r}return r}(t.parentFragment.ractive,t.template.e);if(e)return new cc(t,e);var n=t.template.e.toLowerCase();return new(zl[n]||Pc)(t)}var r;if(t.template.t===Zr){var i=t.owner;(!i||i.type!==ei&&i.type!==Yr)&&(i=Wa(t.parentFragment)),t.element=i,r=i.type===ei?Hc:vu}else r=Ll[t.template.t];if(!r)throw new Error("Unrecognised item type "+t.template.t);return new r(t)}function ql(t,e,n,r){return void 0===r&&(r=0),t.map(function(t){if(t.type===Ur)return t.template;if(t.fragment)return t.fragment.iterations?t.fragment.iterations.map(function(t){return ql(t.items,e,n,r)}).join(""):ql(t.fragment.items,e,n,r);var i=n+"-"+r++,o=t.model||t.newModel;return e[i]=o?o.wrapper?o.wrapperValue:o.get():void 0,"${"+i+"}"}).join("")}function Ul(t){t.unrender(!0)}var Vl=function(t){this.owner=t.owner,this.isRoot=!t.owner.parentFragment,this.parent=this.isRoot?null:this.owner.parentFragment,this.ractive=t.ractive||(this.isRoot?t.owner:this.parent.ractive),this.componentParent=this.isRoot&&this.ractive.component?this.ractive.component.parentFragment:null,this.context=null,this.rendered=!1,this.cssIds="cssIds"in t?t.cssIds:this.parent?this.parent.cssIds:null,this.resolvers=[],this.dirty=!1,this.dirtyArgs=this.dirtyValue=!0,this.template=t.template||[],this.createItems()};Vl.prototype.bind=function(t){return this.context=t,this.items.forEach(fe),this.bound=!0,this.dirty&&this.update(),this},Vl.prototype.bubble=function(){this.dirtyArgs=this.dirtyValue=!0,this.dirty||(this.dirty=!0,this.isRoot?this.ractive.component?this.ractive.component.bubble():this.bound&&Ft.addFragment(this):this.owner.bubble())},Vl.prototype.createItems=function(){var t=this.template.length;this.items=[];for(var e=0;e<t;e++)this.items[e]=$l({parentFragment:this,template:this.template[e],index:e})},Vl.prototype.destroyed=function(){this.items.forEach(function(t){return t.destroyed()})},Vl.prototype.detach=function(){var t=x();return this.items.forEach(function(e){return t.appendChild(e.detach())}),t},Vl.prototype.find=function(t){var e,n=this.items.length;for(e=0;e<n;e+=1){var r=this.items[e].find(t);if(r)return r}},Vl.prototype.findAll=function(t,e){if(this.items){var n,r=this.items.length;for(n=0;n<r;n+=1){var i=this.items[n];i.findAll&&i.findAll(t,e)}}return e},Vl.prototype.findComponent=function(t){var e,n=this.items.length;for(e=0;e<n;e+=1){var r=this.items[e].findComponent(t);if(r)return r}},Vl.prototype.findAllComponents=function(t,e){if(this.items){var n,r=this.items.length;for(n=0;n<r;n+=1){var i=this.items[n];i.findAllComponents&&i.findAllComponents(t,e)}}return e},Vl.prototype.findContext=function(){for(var t=this;t&&!t.context;)t=t.parent;return t?t.context:this.ractive.viewmodel},Vl.prototype.findNextNode=function(t){if(t)for(var e=t.index+1;e<this.items.length;e++)if(this.items[e]){var n=this.items[e].firstNode(!0);if(n)return n}return this.isRoot?this.ractive.component?this.ractive.component.parentFragment.findNextNode(this.ractive.component):null:this.parent?this.owner.findNextNode(this):void 0},Vl.prototype.findParentNode=function(){var t=this;do{if(t.owner.type===Yr)return t.owner.node;if(t.isRoot&&!t.ractive.component)return t.ractive.el;t=t.owner.type===ni?t.owner.containerFragment:t.componentParent||t.parent}while(t);throw new Error("Could not find parent node")},Vl.prototype.findRepeatingFragment=function(){for(var t=this;(t.parent||t.componentParent)&&!t.isIteration;)t=t.parent||t.componentParent;return t},Vl.prototype.firstNode=function(t){for(var e,n=0;n<this.items.length;n++)if(e=this.items[n].firstNode(!0))return e;return t?null:this.parent.findNextNode(this.owner)},Vl.prototype.getArgsList=function(){if(this.dirtyArgs){var t={},e=Wo("["+ql(this.items,t,this.ractive._guid)+"]",t);this.argsList=e?e.value:[this.toString()],this.dirtyArgs=!1}return this.argsList},Vl.prototype.rebinding=function(t){this.context=t},Vl.prototype.render=function(t,e){if(this.rendered)throw new Error("Fragment is already rendered!");this.rendered=!0,this.items.forEach(function(n){return n.render(t,e)})},Vl.prototype.resetTemplate=function(t){var e=this.bound,n=this.rendered;if(e&&(n&&this.unrender(!0),this.unbind()),this.template=t,this.createItems(),e&&(this.bind(this.context),n)){var r=this.findParentNode(),i=this.findNextNode();if(i){var o=x();this.render(o),r.insertBefore(o,i)}else this.render(r)}},Vl.prototype.resolve=function(t,e){if(!this.context&&this.parent.resolve)return this.parent.resolve(t,e);var n=new Gn(this,t,e);return this.resolvers.push(n),n},Vl.prototype.shuffled=function(){this.items.forEach(function(t){return t.shuffled()})},Vl.prototype.toHtml=function(){return this.toString()},Vl.prototype.toString=function(t){return this.items.map(t?_e:Fe).join("")},Vl.prototype.unbind=function(){return this.items.forEach(Ce),this.resolvers.forEach(Ce),this.bound=!1,this},Vl.prototype.unrender=function(t){this.items.forEach(t?Ul:xe),this.rendered=!1},Vl.prototype.update=function(){this.dirty&&(this.updating?this.isRoot&&Ft.addFragmentToRoot(this):(this.dirty=!1,this.updating=!0,this.items.forEach(Ae),this.updating=!1))},Vl.prototype.valueOf=function(){if(1===this.items.length)return this.items[0].valueOf();if(this.dirtyValue){var t={},e=Wo(ql(this.items,t,this.ractive._guid),t);this.value=e?e.value:this.toString(),this.dirtyValue=!1}return this.value};var Hl=tn("reverse").path,Wl=tn("shift").path,Kl=tn("sort").path,Gl=tn("splice").path,Yl=new ut("teardown");function Xl(){var t=[this.cssId].concat(this.findAllComponents().map(function(t){return t.cssId}));return lr(Object.keys(t.reduce(function(t,e){return t[e]=!0,t},{})))}function Ql(){return this.fragment.toString(!0)}var Jl=new ut("unrender"),Zl={add:function(t,e){return Ut(this,t,void 0===e?1:+e)},animate:function(t,e,n){if("object"==typeof t){var r=Object.keys(t);throw new Error("ractive.animate(...) no longer supports objects. Instead of ractive.animate({\n  "+r.map(function(e){return"'"+e+"': "+t[e]}).join("\n  ")+"\n}, {...}), do\n\n"+r.map(function(e){return"ractive.animate('"+e+"', "+t[e]+", {...});"}).join("\n")+"\n")}return Wt(this,this.viewmodel.joinAll(It(t)),e,n)},detach:function(){return this.isDetached?this.el:(this.el&&ft(this.el.__ractive_instances__,this),this.el=this.fragment.detach(),this.isDetached=!0,Kt.fire(this),this.el)},find:function(t){if(!this.el)throw new Error("Cannot call ractive.find('"+t+"') unless instance is rendered to the DOM");return this.fragment.find(t)},findAll:function(t,e){if(!this.el)throw new Error("Cannot call ractive.findAll('"+t+"', ...) unless instance is rendered to the DOM");e=e||{};var n=this._liveQueries,r=n[t];return r?e&&e.live?r:r.slice():((r=new Jt(this,t,!!e.live,!1)).live&&(n.push(t),n["_"+t]=r),this.fragment.findAll(t,r),r.init(),r.result)},findAllComponents:function(t,e){e=e||{};var n=this._liveComponentQueries,r=n[t];return r?e&&e.live?r:r.slice():((r=new Jt(this,t,!!e.live,!0)).live&&(n.push(t),n["_"+t]=r),this.fragment.findAllComponents(t,r),r.init(),r.result)},findComponent:function(t){return this.fragment.findComponent(t)},findContainer:function(t){return this.container?this.container.component&&this.container.component.name===t?this.container:this.container.findContainer(t):null},findParent:function(t){return this.parent?this.parent.component&&this.parent.component.name===t?this.parent:this.parent.findParent(t):null},fire:function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return ne(this,t,{args:e})},get:function(t,e){if("string"!=typeof t)return this.viewmodel.get(!0,t);var n,r=It(t),i=r[0];return this.viewmodel.has(i)||this.component&&!this.isolated&&(n=Xe(this.component.parentFragment,i))&&this.viewmodel.map(i,n),(n=this.viewmodel.joinAll(r)).get(!0,e)},getNodeInfo:function(t){return"string"==typeof t&&(t=this.find(t)),Wn(t)},insert:function(t,e){if(!this.fragment.rendered)throw new Error("The API has changed - you must call `ractive.render(target[, anchor])` to render your Ractive instance. Once rendered you can use `ractive.insert()`.");if(t=E(t),e=E(e)||null,!t)throw new Error("You must specify a valid target to insert into");t.insertBefore(this.detach(),e),this.el=t,(t.__ractive_instances__||(t.__ractive_instances__=[])).push(this),this.isDetached=!1,function t(e){Kn.fire(e),e.findAllComponents("*").forEach(function(e){t(e.instance)})}(this)},link:function(t,e){if(e===t||0===(t+".").indexOf(e+".")||0===(e+".").indexOf(t+"."))throw new Error("A keypath cannot be linked to itself.");var n,r=Ft.start(),i=It(t);return!this.viewmodel.has(i[0])&&this.component&&(n=(n=Xe(this.component.parentFragment,i[0])).joinAll(i.slice(1))),this.viewmodel.joinAll(It(e)).link(n||this.viewmodel.joinAll(i),t),Ft.end(),r},merge:function(t,e,n){return nn(this,this.viewmodel.joinAll(It(t)),e,n)},observe:function(t,e,n){var r=this;if(this.torndown)return{cancel:function(){}};var i,o,s=[];return z(t)?(i=t,n=e||{},Object.keys(i).forEach(function(t){var e=i[t],o=t.split(" ");o.length>1&&(o=o.filter(function(t){return t})),o.forEach(function(t){s.push(Yn(r,t,e,n))})})):("function"==typeof t?(n=e,e=t,o=[""]):o=t.split(" "),o.length>1&&(o=o.filter(function(t){return t})),o.forEach(function(t){s.push(Yn(r,t,e,n||{}))})),this._observers.push.apply(this._observers,s),{cancel:function(){s.forEach(function(t){ft(r._observers,t),t.cancel()})}}},observeList:function(t,e,n){if("string"!=typeof t)throw new Error("ractive.observeList() must be passed a string as its first argument");var r=this.viewmodel.joinAll(It(t)),i=new Zn(this,r,e,n||{});return this._observers.push(i),{cancel:function(){i.cancel()}}},observeOnce:function(t,e,n){return z(t)||"function"==typeof t?(n=I(e||{},tr),this.observe(t,n)):(n=I(n||{},tr),this.observe(t,e,n))},off:function(t,e){var n=this;if(t)t.split(" ").map(er).filter(nr).forEach(function(t){var r=n._subs[t];if(r)if(e)for(var i=r.length;i--;)r[i].callback===e&&(r[i].off=!0,r.splice(i,1));else n._subs[t]=[]});else for(t in this._subs)delete this._subs[t];return this},on:function(t,e){var n=this;if("object"==typeof t){var r,i=[];for(r in t)t.hasOwnProperty(r)&&i.push(this.on(r,t[r]));return{cancel:function(){i.forEach(function(t){return t.cancel()})}}}var o=t.split(" ").map(er).filter(nr);return o.forEach(function(t){(n._subs[t]||(n._subs[t]=[])).push({callback:e})}),{cancel:function(){return o.forEach(function(t){return n.off(t,e)})}}},once:function(t,e){var n=this.on(t,function(){e.apply(this,arguments),n.cancel()});return n},pop:rr,push:ir,render:function(t,e){if(this.torndown)return X("ractive.render() was called on a Ractive instance that was already torn down"),Promise.resolve();if(t=E(t)||this.el,!this.append&&t){var n=t.__ractive_instances__;n&&n.forEach(De),this.enhance||(t.innerHTML="")}var r=this.enhance?dt(t.childNodes):null,i=fr(this,t,e,r);if(r)for(;r.length;)t.removeChild(r.pop());return i},reset:function(t){if("object"!=typeof(t=t||{}))throw new Error("The reset method takes either no arguments, or an object containing new data");t=kr.init(this.constructor,this,{data:t});var e=Ft.start(this,!0),n=this.viewmodel.wrapper;n&&n.reset?!1===n.reset(t)&&this.viewmodel.set(t):this.viewmodel.set(t);for(var r,i=Sa.reset(this),o=i.length;o--;)if(Ba.indexOf(i[o])>-1){r=!0;break}return r&&(ja.fire(this),this.fragment.resetTemplate(this.template),Ra.fire(this),Na.fire(this)),Ft.end(),Ia.fire(this,t),e},resetPartial:function(t,e){var n=[];!function t(e,n,r,i){e.forEach(function(e){if(e.type===Xr&&(e.refName===n||e.name===n))return e.inAttribute=r,void i.push(e);if(e.fragment)t(e.fragment.iterations||e.fragment.items,n,r,i);else if(P(e.items))t(e.items,n,r,i);else if(e.type===ei&&e.instance){if(e.instance.partials[n])return;t(e.instance.fragment.items,n,r,i)}e.type===Yr&&P(e.attributes)&&t(e.attributes,n,!0,i)})}(this.fragment.items,t,!1,n);var r=Ft.start(this,!0);return this.partials[t]=e,n.forEach(Pa),Ft.end(),r},resetTemplate:function(t){ga.init(null,this,{template:t});var e=this.transitionsEnabled;this.transitionsEnabled=!1;var n=this.component;n&&(n.shouldDestroy=!0),this.unrender(),n&&(n.shouldDestroy=!1),this.fragment.unbind().unrender(!0),this.fragment=new Vl({template:this.template,root:this,owner:this});var r=x();this.fragment.bind(this.viewmodel).render(r),n?this.fragment.findParentNode().insertBefore(r,n.findNextNode()):this.el.insertBefore(r,this.anchor),this.transitionsEnabled=e},reverse:Hl,set:function(t,e){return Mt(this,$t(this,t,e))},shift:Wl,sort:Kl,splice:Gl,subtract:function(t,e){return Ut(this,t,void 0===e?-1:-e)},teardown:function(){if(this.torndown)return X("ractive.teardown() was called on a Ractive instance that was already torn down"),yt.resolve();this.torndown=!0,this.fragment.unbind(),this.viewmodel.teardown(),this._observers.forEach(de),this.fragment.rendered&&this.el.__ractive_instances__&&ft(this.el.__ractive_instances__,this),this.shouldDestroy=!0;var t=this.fragment.rendered?this.unrender():yt.resolve();return Yl.fire(this),t},toggle:function(t){if("string"!=typeof t)throw new TypeError(J);return Mt(this,zt(this,t).map(function(t){return[t,!t.get()]}))},toCSS:Xl,toCss:Xl,toHTML:Ql,toHtml:Ql,toText:function(){return this.fragment.toString(!1)},transition:function(t,e,n){e instanceof HTMLElement||z(e)&&(n=e),(e=e||this.event.node)&&e._ractive||G("No node was supplied for transition "+t),n=n||{};var r=e._ractive.proxy,i=new Bl({owner:r,parentFragment:r.parentFragment,name:t,params:n});i.bind();var o=Ft.start(this,!0);return Ft.registerTransition(i),Ft.end(),o.then(function(){return i.unbind()}),o},unlink:function(t){var e=Ft.start();return this.viewmodel.joinAll(It(t),{lastLink:!1}).unlink(),Ft.end(),e},unrender:function(){if(!this.fragment.rendered)return X("ractive.unrender() was called on a Ractive instance that was not rendered"),yt.resolve();var t=Ft.start(this,!0),e=!this.component||this.component.shouldDestroy||this.shouldDestroy;return this.fragment.unrender(e),ft(this.el.__ractive_instances__,this),Jl.fire(this),Ft.end(),t},unshift:tn("unshift").path,update:function(t){return t&&(t=It(t)),on(this,t?this.viewmodel.joinAll(t):this.viewmodel)},updateModel:function(t,e){var n=Ft.start(this,!0);return t?this.viewmodel.joinAll(It(t)).updateFromBindings(!1!==e):this.viewmodel.updateFromBindings(!0),Ft.end(),n}};function th(t,e){wa.forEach(function(n){!function(t,e,n){var r,i=Object.keys(t[n]);if(!i.length)return;(r=e[n])||(r=e[n]={});i.filter(function(t){return!(t in r)}).forEach(function(e){return r[e]=t[n][e]})}(n.useDefaults?t.prototype:t,e,n.name)})}function eh(t,e){Object.keys(t.prototype).forEach(function(n){if("computed"!==n){var r,i,o,s=t.prototype[n];if(n in e){if("function"==typeof e[n]&&"function"==typeof s&&e[n]._method){var a,u=s._method;u&&(s=s._method),r=e[n]._method,i=s,a=o||function(t,e){return"function"==typeof e&&/_super/.test(t)}(r,i)?function(){var t,e="_super"in this,n=this._super;return this._super=i,t=r.apply(this,arguments),e&&(this._super=n),t}:r,u&&(a._method=a),e[n]=a}}else e[n]=s._method?s._method:s}})}function nh(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return t.length?t.reduce(rh,this):rh(this)}function rh(t,e){var n,r;return void 0===e&&(e={}),e.prototype instanceof ih&&(e=function(t){for(var e={};t;)th(t,e),eh(t,e),t=t._Parent!==ih&&t._Parent;return e}(e)),n=function(t){if(!(this instanceof n))return new n(t);Ku(this,t||{}),tc(this,t||{},{})},(r=k(t.prototype)).constructor=n,T(n,{defaults:{value:r},extend:{value:nh,writable:!0,configurable:!0},_Parent:{value:t}}),Sa.extend(t,r,e),kr.extend(t,r,e),e.computed&&(r.computed=I(k(t.prototype.computed),e.computed)),n.prototype=r,n}if("function"!=typeof Date.now||"function"!=typeof String.prototype.trim||"function"!=typeof Object.keys||"function"!=typeof Array.prototype.indexOf||"function"!=typeof Array.prototype.forEach||"function"!=typeof Array.prototype.map||"function"!=typeof Array.prototype.filter||o&&"function"!=typeof o.addEventListener)throw new Error("It looks like you're attempting to use Ractive.js in an older browser. You'll need to use one of the 'legacy builds' in order to continue - see http://docs.ractivejs.org/latest/legacy-builds for more information.");function ih(t){if(!(this instanceof ih))return new ih(t);Ku(this,t||{}),tc(this,t||{},{})}return I(ih.prototype,Zl,r),ih.prototype.constructor=ih,ih.defaults=ih.prototype,T(ih,{DEBUG:{writable:!0,value:!0},DEBUG_PROMISES:{writable:!0,value:!0},extend:{value:nh},escapeKey:{value:Bt},getNodeInfo:{value:Wn},joinKeys:{value:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return t.map(Bt).join(".")}},parse:{value:sa},splitKeypath:{value:function(t){return It(t).map(Rt)}},unescapeKey:{value:Rt},getCSS:{value:lr},Promise:{value:yt},enhance:{writable:!0,value:!1},svg:{value:y},magic:{value:t},VERSION:{value:"0.8.14"},adaptors:{writable:!0,value:{}},components:{writable:!0,value:{}},decorators:{writable:!0,value:{}},easing:{writable:!0,value:i},events:{writable:!0,value:{}},interpolators:{writable:!0,value:st},partials:{writable:!0,value:{}},transitions:{writable:!0,value:{}}}),ih},t.exports=r()}).call(e,n(0),n(1))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){function r(t){if(t)return function(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}(t)}t.exports=r,r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},r.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i=0;i<r.length;i++)if((n=r[i])===e||n.fn===e){r.splice(i,1);break}return this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n)for(var r=0,i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,e);return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e,n){(function(t){var r,i=n(64),o=n(23),s=n(70),a=n(71),u=n(72);t&&t.ArrayBuffer&&(r=n(73));var c="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),l="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),h=c||l;e.protocol=3;var p=e.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},f=i(p),d={type:"error",data:"parser error"},g=n(74);function m(t,e,n){for(var r=new Array(t.length),i=a(t.length,n),o=function(t,n,i){e(n,function(e,n){r[t]=n,i(e,r)})},s=0;s<t.length;s++)o(s,t[s],i)}e.encodePacket=function(n,r,i,o){"function"==typeof r&&(o=r,r=!1),"function"==typeof i&&(o=i,i=null);var s=void 0===n.data?void 0:n.data.buffer||n.data;if(t.ArrayBuffer&&s instanceof ArrayBuffer)return function(t,n,r){if(!n)return e.encodeBase64Packet(t,r);var i=t.data,o=new Uint8Array(i),s=new Uint8Array(1+i.byteLength);s[0]=p[t.type];for(var a=0;a<o.length;a++)s[a+1]=o[a];return r(s.buffer)}(n,r,o);if(g&&s instanceof t.Blob)return function(t,n,r){if(!n)return e.encodeBase64Packet(t,r);if(h)return function(t,n,r){if(!n)return e.encodeBase64Packet(t,r);var i=new FileReader;return i.onload=function(){t.data=i.result,e.encodePacket(t,n,!0,r)},i.readAsArrayBuffer(t.data)}(t,n,r);var i=new Uint8Array(1);i[0]=p[t.type];var o=new g([i.buffer,t.data]);return r(o)}(n,r,o);if(s&&s.base64)return function(t,n){var r="b"+e.packets[t.type]+t.data.data;return n(r)}(n,o);var a=p[n.type];return void 0!==n.data&&(a+=i?u.encode(String(n.data),{strict:!1}):String(n.data)),o(""+a)},e.encodeBase64Packet=function(n,r){var i,o="b"+e.packets[n.type];if(g&&n.data instanceof t.Blob){var s=new FileReader;return s.onload=function(){var t=s.result.split(",")[1];r(o+t)},s.readAsDataURL(n.data)}try{i=String.fromCharCode.apply(null,new Uint8Array(n.data))}catch(t){for(var a=new Uint8Array(n.data),u=new Array(a.length),c=0;c<a.length;c++)u[c]=a[c];i=String.fromCharCode.apply(null,u)}return o+=t.btoa(i),r(o)},e.decodePacket=function(t,n,r){if(void 0===t)return d;if("string"==typeof t){if("b"===t.charAt(0))return e.decodeBase64Packet(t.substr(1),n);if(r&&!1===(t=function(t){try{t=u.decode(t,{strict:!1})}catch(t){return!1}return t}(t)))return d;var i=t.charAt(0);return Number(i)==i&&f[i]?t.length>1?{type:f[i],data:t.substring(1)}:{type:f[i]}:d}i=new Uint8Array(t)[0];var o=s(t,1);return g&&"blob"===n&&(o=new g([o])),{type:f[i],data:o}},e.decodeBase64Packet=function(t,e){var n=f[t.charAt(0)];if(!r)return{type:n,data:{base64:!0,data:t.substr(1)}};var i=r.decode(t.substr(1));return"blob"===e&&g&&(i=new g([i])),{type:n,data:i}},e.encodePayload=function(t,n,r){"function"==typeof n&&(r=n,n=null);var i=o(t);if(n&&i)return g&&!h?e.encodePayloadAsBlob(t,r):e.encodePayloadAsArrayBuffer(t,r);if(!t.length)return r("0:");m(t,function(t,r){e.encodePacket(t,!!i&&n,!1,function(t){r(null,function(t){return t.length+":"+t}(t))})},function(t,e){return r(e.join(""))})},e.decodePayload=function(t,n,r){if("string"!=typeof t)return e.decodePayloadAsBinary(t,n,r);var i;if("function"==typeof n&&(r=n,n=null),""===t)return r(d,0,1);for(var o,s,a="",u=0,c=t.length;u<c;u++){var l=t.charAt(u);if(":"===l){if(""===a||a!=(o=Number(a)))return r(d,0,1);if(a!=(s=t.substr(u+1,o)).length)return r(d,0,1);if(s.length){if(i=e.decodePacket(s,n,!1),d.type===i.type&&d.data===i.data)return r(d,0,1);if(!1===r(i,u+o,c))return}u+=o,a=""}else a+=l}return""!==a?r(d,0,1):void 0},e.encodePayloadAsArrayBuffer=function(t,n){if(!t.length)return n(new ArrayBuffer(0));m(t,function(t,n){e.encodePacket(t,!0,!0,function(t){return n(null,t)})},function(t,e){var r=e.reduce(function(t,e){var n;return t+(n="string"==typeof e?e.length:e.byteLength).toString().length+n+2},0),i=new Uint8Array(r),o=0;return e.forEach(function(t){var e="string"==typeof t,n=t;if(e){for(var r=new Uint8Array(t.length),s=0;s<t.length;s++)r[s]=t.charCodeAt(s);n=r.buffer}i[o++]=e?0:1;var a=n.byteLength.toString();for(s=0;s<a.length;s++)i[o++]=parseInt(a[s]);i[o++]=255;for(r=new Uint8Array(n),s=0;s<r.length;s++)i[o++]=r[s]}),n(i.buffer)})},e.encodePayloadAsBlob=function(t,n){m(t,function(t,n){e.encodePacket(t,!0,!0,function(t){var e=new Uint8Array(1);if(e[0]=1,"string"==typeof t){for(var r=new Uint8Array(t.length),i=0;i<t.length;i++)r[i]=t.charCodeAt(i);t=r.buffer,e[0]=0}var o=(t instanceof ArrayBuffer?t.byteLength:t.size).toString(),s=new Uint8Array(o.length+1);for(i=0;i<o.length;i++)s[i]=parseInt(o[i]);if(s[o.length]=255,g){var a=new g([e.buffer,s.buffer,t]);n(null,a)}})},function(t,e){return n(new g(e))})},e.decodePayloadAsBinary=function(t,n,r){"function"==typeof n&&(r=n,n=null);for(var i=t,o=[];i.byteLength>0;){for(var a=new Uint8Array(i),u=0===a[0],c="",l=1;255!==a[l];l++){if(c.length>310)return r(d,0,1);c+=a[l]}i=s(i,2+c.length),c=parseInt(c);var h=s(i,0,c);if(u)try{h=String.fromCharCode.apply(null,new Uint8Array(h))}catch(t){var p=new Uint8Array(h);h="";for(l=0;l<p.length;l++)h+=String.fromCharCode(p[l])}o.push(h),i=s(i,c)}var f=o.length;o.forEach(function(t,i){r(e.decodePacket(t,n,!0),i,f)})}}).call(e,n(1))},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var u,c=[],l=!1,h=-1;function p(){l&&u&&(l=!1,u.length?c=u.concat(c):h=-1,c.length&&f())}function f(){if(!l){var t=a(p);l=!0;for(var e=c.length;e;){for(u=c,c=[];++h<e;)u&&u[h].run();h=-1,e=c.length}u=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function g(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new d(t,e)),1!==c.length||l||a(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){(function(r,i){function o(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==i&&"env"in i&&(t=i.env.DEBUG),t}(e=t.exports=n(56)).log=function(){return"object"==typeof r&&r.log&&Function.prototype.apply.call(r.log,r,arguments)},e.formatArgs=function(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),!n)return;var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var i=0,o=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&(i++,"%c"===t&&(o=i))}),t.splice(o,0,r)},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=o,e.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(o())}).call(e,n(0),n(6))},function(t,e){e.encode=function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e},e.decode=function(t){for(var e={},n=t.split("&"),r=0,i=n.length;r<i;r++){var o=n[r].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}},function(t,e){t.exports=function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){(function(r,i){function o(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==i&&"env"in i&&(t=i.env.DEBUG),t}(e=t.exports=n(75)).log=function(){return"object"==typeof r&&r.log&&Function.prototype.apply.call(r.log,r,arguments)},e.formatArgs=function(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),!n)return;var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var i=0,o=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&(i++,"%c"===t&&(o=i))}),t.splice(o,0,r)},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=o,e.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(o())}).call(e,n(0),n(6))},function(t,e){var n=1e3,r=60*n,i=60*r,o=24*i,s=365.25*o;function a(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}t.exports=function(t,e){e=e||{};var u,c=typeof t;if("string"===c&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(!e)return;var a=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return a*s;case"days":case"day":case"d":return a*o;case"hours":case"hour":case"hrs":case"hr":case"h":return a*i;case"minutes":case"minute":case"mins":case"min":case"m":return a*r;case"seconds":case"second":case"secs":case"sec":case"s":return a*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}(t);if("number"===c&&!1===isNaN(t))return e.long?a(u=t,o,"day")||a(u,i,"hour")||a(u,r,"minute")||a(u,n,"second")||u+" ms":function(t){if(t>=o)return Math.round(t/o)+"d";if(t>=i)return Math.round(t/i)+"h";if(t>=r)return Math.round(t/r)+"m";if(t>=n)return Math.round(t/n)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e,n){var r=n(57)("socket.io-parser"),i=n(4),o=n(59),s=n(18),a=n(19);function u(){}e.protocol=4,e.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],e.CONNECT=0,e.DISCONNECT=1,e.EVENT=2,e.ACK=3,e.ERROR=4,e.BINARY_EVENT=5,e.BINARY_ACK=6,e.Encoder=u,e.Decoder=h;var c=e.ERROR+'"encode error"';function l(t){var n=""+t.type;if(e.BINARY_EVENT!==t.type&&e.BINARY_ACK!==t.type||(n+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(n+=t.nsp+","),null!=t.id&&(n+=t.id),null!=t.data){var i=function(t){try{return JSON.stringify(t)}catch(t){return!1}}(t.data);if(!1===i)return c;n+=i}return r("encoded %j as %s",t,n),n}function h(){this.reconstructor=null}function p(t){this.reconPack=t,this.buffers=[]}function f(t){return{type:e.ERROR,data:"parser error: "+t}}u.prototype.encode=function(t,n){(r("encoding packet %j",t),e.BINARY_EVENT===t.type||e.BINARY_ACK===t.type)?function(t,e){o.removeBlobs(t,function(t){var n=o.deconstructPacket(t),r=l(n.packet),i=n.buffers;i.unshift(r),e(i)})}(t,n):n([l(t)])},i(h.prototype),h.prototype.add=function(t){var n;if("string"==typeof t)n=function(t){var n=0,i={type:Number(t.charAt(0))};if(null==e.types[i.type])return f("unknown packet type "+i.type);if(e.BINARY_EVENT===i.type||e.BINARY_ACK===i.type){for(var o="";"-"!==t.charAt(++n)&&(o+=t.charAt(n),n!=t.length););if(o!=Number(o)||"-"!==t.charAt(n))throw new Error("Illegal attachments");i.attachments=Number(o)}if("/"===t.charAt(n+1))for(i.nsp="";++n;){var a=t.charAt(n);if(","===a)break;if(i.nsp+=a,n===t.length)break}else i.nsp="/";var u=t.charAt(n+1);if(""!==u&&Number(u)==u){for(i.id="";++n;){var a=t.charAt(n);if(null==a||Number(a)!=a){--n;break}if(i.id+=t.charAt(n),n===t.length)break}i.id=Number(i.id)}if(t.charAt(++n)){var c=function(t){try{return JSON.parse(t)}catch(t){return!1}}(t.substr(n)),l=!1!==c&&(i.type===e.ERROR||s(c));if(!l)return f("invalid payload");i.data=c}return r("decoded %s as %j",t,i),i}(t),e.BINARY_EVENT===n.type||e.BINARY_ACK===n.type?(this.reconstructor=new p(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n);else{if(!a(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(t))&&(this.reconstructor=null,this.emit("decoded",n))}},h.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},p.prototype.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){var e=o.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null},p.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(t,e,n){(function(e){var r=n(62);t.exports=function(t){var n=t.xdomain,i=t.xscheme,o=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!n||r))return new XMLHttpRequest}catch(t){}try{if("undefined"!=typeof XDomainRequest&&!i&&o)return new XDomainRequest}catch(t){}if(!n)try{return new(e[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}}}).call(e,n(1))},function(t,e,n){var r=n(5),i=n(4);function o(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.forceNode=t.forceNode,this.extraHeaders=t.extraHeaders,this.localAddress=t.localAddress}t.exports=o,i(o.prototype),o.prototype.onError=function(t,e){var n=new Error(t);return n.type="TransportError",n.description=e,this.emit("error",n),this},o.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},o.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},o.prototype.send=function(t){if("open"!==this.readyState)throw new Error("Transport not open");this.write(t)},o.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},o.prototype.onData=function(t){var e=r.decodePacket(t,this.socket.binaryType);this.onPacket(e)},o.prototype.onPacket=function(t){this.emit("packet",t)},o.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(t,e,n){(function(t,r,i){var o=/%[sdj%]/g;e.format=function(t){if(!y(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(u(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,i=r.length,s=String(t).replace(o,function(t){if("%%"===t)return"%";if(n>=i)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}}),a=r[n];n<i;a=r[++n])m(a)||!D(a)?s+=" "+a:s+=" "+u(a);return s},e.deprecate=function(n,o){if(b(t.process))return function(){return e.deprecate(n,o).apply(this,arguments)};if(!0===r.noDeprecation)return n;var s=!1;return function(){if(!s){if(r.throwDeprecation)throw new Error(o);r.traceDeprecation?i.trace(o):i.error(o),s=!0}return n.apply(this,arguments)}};var s,a={};function u(t,n){var r={seen:[],stylize:l};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),g(n)?r.showHidden=n:n&&e._extend(r,n),b(r.showHidden)&&(r.showHidden=!1),b(r.depth)&&(r.depth=2),b(r.colors)&&(r.colors=!1),b(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=c),h(r,t,r.depth)}function c(t,e){var n=u.styles[e];return n?"["+u.colors[n][0]+"m"+t+"["+u.colors[n][1]+"m":t}function l(t,e){return t}function h(t,n,r){if(t.customInspect&&n&&E(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return y(i)||(i=h(t,i,r)),i}var o=function(t,e){if(b(e))return t.stylize("undefined","undefined");if(y(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}if(v(e))return t.stylize(""+e,"number");if(g(e))return t.stylize(""+e,"boolean");if(m(e))return t.stylize("null","null")}(t,n);if(o)return o;var s=Object.keys(n),a=function(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(n)),x(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return p(n);if(0===s.length){if(E(n)){var u=n.name?": "+n.name:"";return t.stylize("[Function"+u+"]","special")}if(w(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(C(n))return t.stylize(Date.prototype.toString.call(n),"date");if(x(n))return p(n)}var c,l="",D=!1,A=["{","}"];(d(n)&&(D=!0,A=["[","]"]),E(n))&&(l=" [Function"+(n.name?": "+n.name:"")+"]");return w(n)&&(l=" "+RegExp.prototype.toString.call(n)),C(n)&&(l=" "+Date.prototype.toUTCString.call(n)),x(n)&&(l=" "+p(n)),0!==s.length||D&&0!=n.length?r<0?w(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),c=D?function(t,e,n,r,i){for(var o=[],s=0,a=e.length;s<a;++s)k(e,String(s))?o.push(f(t,e,n,r,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(f(t,e,n,r,i,!0))}),o}(t,n,r,a,s):s.map(function(e){return f(t,n,r,a,e,D)}),t.seen.pop(),function(t,e,n){if(t.reduce(function(t,e){return 0,e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1];return n[0]+e+" "+t.join(", ")+" "+n[1]}(c,l,A)):A[0]+l+A[1]}function p(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,n,r,i,o){var s,a,u;if((u=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?a=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(a=t.stylize("[Setter]","special")),k(r,i)||(s="["+i+"]"),a||(t.seen.indexOf(u.value)<0?(a=m(n)?h(t,u.value,null):h(t,u.value,n-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n")):a=t.stylize("[Circular]","special")),b(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function d(t){return Array.isArray(t)}function g(t){return"boolean"==typeof t}function m(t){return null===t}function v(t){return"number"==typeof t}function y(t){return"string"==typeof t}function b(t){return void 0===t}function w(t){return D(t)&&"[object RegExp]"===A(t)}function D(t){return"object"==typeof t&&null!==t}function C(t){return D(t)&&"[object Date]"===A(t)}function x(t){return D(t)&&("[object Error]"===A(t)||t instanceof Error)}function E(t){return"function"==typeof t}function A(t){return Object.prototype.toString.call(t)}function F(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(t){if(b(s)&&(s=r.env.NODE_DEBUG||""),t=t.toUpperCase(),!a[t])if(new RegExp("\\b"+t+"\\b","i").test(s)){var n=r.pid;a[t]=function(){var r=e.format.apply(e,arguments);i.error("%s %d: %s",t,n,r)}}else a[t]=function(){};return a[t]},e.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=d,e.isBoolean=g,e.isNull=m,e.isNullOrUndefined=function(t){return null==t},e.isNumber=v,e.isString=y,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=b,e.isRegExp=w,e.isObject=D,e.isDate=C,e.isError=x,e.isFunction=E,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n(30);var _=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function k(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){var t,n;i.log("%s - %s",(t=new Date,n=[F(t.getHours()),F(t.getMinutes()),F(t.getSeconds())].join(":"),[t.getDate(),_[t.getMonth()],n].join(" ")),e.format.apply(e,arguments))},e.inherits=n(31),e._extend=function(t,e){if(!e||!D(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(e,n(1),n(6),n(0))},function(t,e,n){var r;!function(e,n){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,function(n,i){"use strict";var o=[],s=n.document,a=Object.getPrototypeOf,u=o.slice,c=o.concat,l=o.push,h=o.indexOf,p={},f=p.toString,d=p.hasOwnProperty,g=d.toString,m=g.call(Object),v={},y=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},b=function(t){return null!=t&&t===t.window},w={type:!0,src:!0,noModule:!0};function D(t,e,n){var r,i=(e=e||s).createElement("script");if(i.text=t,n)for(r in w)n[r]&&(i[r]=n[r]);e.head.appendChild(i).parentNode.removeChild(i)}function C(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?p[f.call(t)]||"object":typeof t}var x=function(t,e){return new x.fn.init(t,e)},E=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function A(t){var e=!!t&&"length"in t&&t.length,n=C(t);return!y(t)&&!b(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}x.fn=x.prototype={jquery:"3.3.1",constructor:x,length:0,toArray:function(){return u.call(this)},get:function(t){return null==t?u.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=x.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return x.each(this,t)},map:function(t){return this.pushStack(x.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(u.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:l,sort:o.sort,splice:o.splice},x.extend=x.fn.extend=function(){var t,e,n,r,i,o,s=arguments[0]||{},a=1,u=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||y(s)||(s={}),a===u&&(s=this,a--);a<u;a++)if(null!=(t=arguments[a]))for(e in t)n=s[e],s!==(r=t[e])&&(c&&r&&(x.isPlainObject(r)||(i=Array.isArray(r)))?(i?(i=!1,o=n&&Array.isArray(n)?n:[]):o=n&&x.isPlainObject(n)?n:{},s[e]=x.extend(c,o,r)):void 0!==r&&(s[e]=r));return s},x.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==f.call(t))&&(!(e=a(t))||"function"==typeof(n=d.call(e,"constructor")&&e.constructor)&&g.call(n)===m)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t){D(t)},each:function(t,e){var n,r=0;if(A(t))for(n=t.length;r<n&&!1!==e.call(t[r],r,t[r]);r++);else for(r in t)if(!1===e.call(t[r],r,t[r]))break;return t},trim:function(t){return null==t?"":(t+"").replace(E,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(A(Object(t))?x.merge(n,"string"==typeof t?[t]:t):l.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:h.call(e,t,n)},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;r<n;r++)t[i++]=e[r];return t.length=i,t},grep:function(t,e,n){for(var r=[],i=0,o=t.length,s=!n;i<o;i++)!e(t[i],i)!==s&&r.push(t[i]);return r},map:function(t,e,n){var r,i,o=0,s=[];if(A(t))for(r=t.length;o<r;o++)null!=(i=e(t[o],o,n))&&s.push(i);else for(o in t)null!=(i=e(t[o],o,n))&&s.push(i);return c.apply([],s)},guid:1,support:v}),"function"==typeof Symbol&&(x.fn[Symbol.iterator]=o[Symbol.iterator]),x.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){p["[object "+e+"]"]=e.toLowerCase()});var F=function(t){var e,n,r,i,o,s,a,u,c,l,h,p,f,d,g,m,v,y,b,w="sizzle"+1*new Date,D=t.document,C=0,x=0,E=st(),A=st(),F=st(),_=function(t,e){return t===e&&(h=!0),0},k={}.hasOwnProperty,S=[],T=S.pop,O=S.push,B=S.push,N=S.slice,I=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",j="[\\x20\\t\\r\\n\\f]",P="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",M="\\["+j+"*("+P+")(?:"+j+"*([*^$|!~]?=)"+j+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+P+"))|)"+j+"*\\]",L=":("+P+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+M+")*)|.*)\\)|)",z=new RegExp(j+"+","g"),$=new RegExp("^"+j+"+|((?:^|[^\\\\])(?:\\\\.)*)"+j+"+$","g"),q=new RegExp("^"+j+"*,"+j+"*"),U=new RegExp("^"+j+"*([>+~]|"+j+")"+j+"*"),V=new RegExp("="+j+"*([^\\]'\"]*?)"+j+"*\\]","g"),H=new RegExp(L),W=new RegExp("^"+P+"$"),K={ID:new RegExp("^#("+P+")"),CLASS:new RegExp("^\\.("+P+")"),TAG:new RegExp("^("+P+"|[*])"),ATTR:new RegExp("^"+M),PSEUDO:new RegExp("^"+L),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+j+"*(even|odd|(([+-]|)(\\d*)n|)"+j+"*(?:([+-]|)"+j+"*(\\d+)|))"+j+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+j+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+j+"*((?:-\\d)?\\d*)"+j+"*\\)|)(?=[^-]|$)","i")},G=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,X=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,J=/[+~]/,Z=new RegExp("\\\\([\\da-f]{1,6}"+j+"?|("+j+")|.)","ig"),tt=function(t,e,n){var r="0x"+e-65536;return r!=r||n?e:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},et=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,nt=function(t,e){return e?"\0"===t?"":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},rt=function(){p()},it=yt(function(t){return!0===t.disabled&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{B.apply(S=N.call(D.childNodes),D.childNodes),S[D.childNodes.length].nodeType}catch(t){B={apply:S.length?function(t,e){O.apply(t,N.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}function ot(t,e,r,i){var o,a,c,l,h,d,v,y=e&&e.ownerDocument,C=e?e.nodeType:9;if(r=r||[],"string"!=typeof t||!t||1!==C&&9!==C&&11!==C)return r;if(!i&&((e?e.ownerDocument||e:D)!==f&&p(e),e=e||f,g)){if(11!==C&&(h=Q.exec(t)))if(o=h[1]){if(9===C){if(!(c=e.getElementById(o)))return r;if(c.id===o)return r.push(c),r}else if(y&&(c=y.getElementById(o))&&b(e,c)&&c.id===o)return r.push(c),r}else{if(h[2])return B.apply(r,e.getElementsByTagName(t)),r;if((o=h[3])&&n.getElementsByClassName&&e.getElementsByClassName)return B.apply(r,e.getElementsByClassName(o)),r}if(n.qsa&&!F[t+" "]&&(!m||!m.test(t))){if(1!==C)y=e,v=t;else if("object"!==e.nodeName.toLowerCase()){for((l=e.getAttribute("id"))?l=l.replace(et,nt):e.setAttribute("id",l=w),a=(d=s(t)).length;a--;)d[a]="#"+l+" "+vt(d[a]);v=d.join(","),y=J.test(t)&&gt(e.parentNode)||e}if(v)try{return B.apply(r,y.querySelectorAll(v)),r}catch(t){}finally{l===w&&e.removeAttribute("id")}}}return u(t.replace($,"$1"),e,r,i)}function st(){var t=[];return function e(n,i){return t.push(n+" ")>r.cacheLength&&delete e[t.shift()],e[n+" "]=i}}function at(t){return t[w]=!0,t}function ut(t){var e=f.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ct(t,e){for(var n=t.split("|"),i=n.length;i--;)r.attrHandle[n[i]]=e}function lt(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function ht(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function pt(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function ft(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&it(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function dt(t){return at(function(e){return e=+e,at(function(n,r){for(var i,o=t([],n.length,e),s=o.length;s--;)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))})})}function gt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=ot.support={},o=ot.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},p=ot.setDocument=function(t){var e,i,s=t?t.ownerDocument||t:D;return s!==f&&9===s.nodeType&&s.documentElement?(d=(f=s).documentElement,g=!o(f),D!==f&&(i=f.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",rt,!1):i.attachEvent&&i.attachEvent("onunload",rt)),n.attributes=ut(function(t){return t.className="i",!t.getAttribute("className")}),n.getElementsByTagName=ut(function(t){return t.appendChild(f.createComment("")),!t.getElementsByTagName("*").length}),n.getElementsByClassName=X.test(f.getElementsByClassName),n.getById=ut(function(t){return d.appendChild(t).id=w,!f.getElementsByName||!f.getElementsByName(w).length}),n.getById?(r.filter.ID=function(t){var e=t.replace(Z,tt);return function(t){return t.getAttribute("id")===e}},r.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var n=e.getElementById(t);return n?[n]:[]}}):(r.filter.ID=function(t){var e=t.replace(Z,tt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},r.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var n,r,i,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(i=e.getElementsByName(t),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),r.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,r=[],i=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&g)return e.getElementsByClassName(t)},v=[],m=[],(n.qsa=X.test(f.querySelectorAll))&&(ut(function(t){d.appendChild(t).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+j+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||m.push("\\["+j+"*(?:value|"+R+")"),t.querySelectorAll("[id~="+w+"-]").length||m.push("~="),t.querySelectorAll(":checked").length||m.push(":checked"),t.querySelectorAll("a#"+w+"+*").length||m.push(".#.+[+~]")}),ut(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=f.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&m.push("name"+j+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),d.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),m.push(",.*:")})),(n.matchesSelector=X.test(y=d.matches||d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&ut(function(t){n.disconnectedMatch=y.call(t,"*"),y.call(t,"[s!='']:x"),v.push("!=",L)}),m=m.length&&new RegExp(m.join("|")),v=v.length&&new RegExp(v.join("|")),e=X.test(d.compareDocumentPosition),b=e||X.test(d.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},_=e?function(t,e){if(t===e)return h=!0,0;var r=!t.compareDocumentPosition-!e.compareDocumentPosition;return r||(1&(r=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===r?t===f||t.ownerDocument===D&&b(D,t)?-1:e===f||e.ownerDocument===D&&b(D,e)?1:l?I(l,t)-I(l,e):0:4&r?-1:1)}:function(t,e){if(t===e)return h=!0,0;var n,r=0,i=t.parentNode,o=e.parentNode,s=[t],a=[e];if(!i||!o)return t===f?-1:e===f?1:i?-1:o?1:l?I(l,t)-I(l,e):0;if(i===o)return lt(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)a.unshift(n);for(;s[r]===a[r];)r++;return r?lt(s[r],a[r]):s[r]===D?-1:a[r]===D?1:0},f):f},ot.matches=function(t,e){return ot(t,null,null,e)},ot.matchesSelector=function(t,e){if((t.ownerDocument||t)!==f&&p(t),e=e.replace(V,"='$1']"),n.matchesSelector&&g&&!F[e+" "]&&(!v||!v.test(e))&&(!m||!m.test(e)))try{var r=y.call(t,e);if(r||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(t){}return ot(e,f,null,[t]).length>0},ot.contains=function(t,e){return(t.ownerDocument||t)!==f&&p(t),b(t,e)},ot.attr=function(t,e){(t.ownerDocument||t)!==f&&p(t);var i=r.attrHandle[e.toLowerCase()],o=i&&k.call(r.attrHandle,e.toLowerCase())?i(t,e,!g):void 0;return void 0!==o?o:n.attributes||!g?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},ot.escape=function(t){return(t+"").replace(et,nt)},ot.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},ot.uniqueSort=function(t){var e,r=[],i=0,o=0;if(h=!n.detectDuplicates,l=!n.sortStable&&t.slice(0),t.sort(_),h){for(;e=t[o++];)e===t[o]&&(i=r.push(o));for(;i--;)t.splice(r[i],1)}return l=null,t},i=ot.getText=function(t){var e,n="",r=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=i(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[r++];)n+=i(e);return n},(r=ot.selectors={cacheLength:50,createPseudo:at,match:K,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(Z,tt),t[3]=(t[3]||t[4]||t[5]||"").replace(Z,tt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||ot.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&ot.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return K.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&H.test(n)&&(e=s(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(Z,tt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=E[t+" "];return e||(e=new RegExp("(^|"+j+")"+t+"("+j+"|$)"))&&E(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(r){var i=ot.attr(r,t);return null==i?"!="===e:!e||(i+="","="===e?i===n:"!="===e?i!==n:"^="===e?n&&0===i.indexOf(n):"*="===e?n&&i.indexOf(n)>-1:"$="===e?n&&i.slice(-n.length)===n:"~="===e?(" "+i.replace(z," ")+" ").indexOf(n)>-1:"|="===e&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,r,i){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,u){var c,l,h,p,f,d,g=o!==s?"nextSibling":"previousSibling",m=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!u&&!a,b=!1;if(m){if(o){for(;g;){for(p=e;p=p[g];)if(a?p.nodeName.toLowerCase()===v:1===p.nodeType)return!1;d=g="only"===t&&!d&&"nextSibling"}return!0}if(d=[s?m.firstChild:m.lastChild],s&&y){for(b=(f=(c=(l=(h=(p=m)[w]||(p[w]={}))[p.uniqueID]||(h[p.uniqueID]={}))[t]||[])[0]===C&&c[1])&&c[2],p=f&&m.childNodes[f];p=++f&&p&&p[g]||(b=f=0)||d.pop();)if(1===p.nodeType&&++b&&p===e){l[t]=[C,f,b];break}}else if(y&&(b=f=(c=(l=(h=(p=e)[w]||(p[w]={}))[p.uniqueID]||(h[p.uniqueID]={}))[t]||[])[0]===C&&c[1]),!1===b)for(;(p=++f&&p&&p[g]||(b=f=0)||d.pop())&&((a?p.nodeName.toLowerCase()!==v:1!==p.nodeType)||!++b||(y&&((l=(h=p[w]||(p[w]={}))[p.uniqueID]||(h[p.uniqueID]={}))[t]=[C,b]),p!==e)););return(b-=i)===r||b%r==0&&b/r>=0}}},PSEUDO:function(t,e){var n,i=r.pseudos[t]||r.setFilters[t.toLowerCase()]||ot.error("unsupported pseudo: "+t);return i[w]?i(e):i.length>1?(n=[t,t,"",e],r.setFilters.hasOwnProperty(t.toLowerCase())?at(function(t,n){for(var r,o=i(t,e),s=o.length;s--;)t[r=I(t,o[s])]=!(n[r]=o[s])}):function(t){return i(t,0,n)}):i}},pseudos:{not:at(function(t){var e=[],n=[],r=a(t.replace($,"$1"));return r[w]?at(function(t,e,n,i){for(var o,s=r(t,null,i,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),e[0]=null,!n.pop()}}),has:at(function(t){return function(e){return ot(t,e).length>0}}),contains:at(function(t){return t=t.replace(Z,tt),function(e){return(e.textContent||e.innerText||i(e)).indexOf(t)>-1}}),lang:at(function(t){return W.test(t||"")||ot.error("unsupported lang: "+t),t=t.replace(Z,tt).toLowerCase(),function(e){var n;do{if(n=g?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===d},focus:function(t){return t===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:ft(!1),disabled:ft(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!r.pseudos.empty(t)},header:function(t){return Y.test(t.nodeName)},input:function(t){return G.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:dt(function(){return[0]}),last:dt(function(t,e){return[e-1]}),eq:dt(function(t,e,n){return[n<0?n+e:n]}),even:dt(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:dt(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:dt(function(t,e,n){for(var r=n<0?n+e:n;--r>=0;)t.push(r);return t}),gt:dt(function(t,e,n){for(var r=n<0?n+e:n;++r<e;)t.push(r);return t})}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[e]=ht(e);for(e in{submit:!0,reset:!0})r.pseudos[e]=pt(e);function mt(){}function vt(t){for(var e=0,n=t.length,r="";e<n;e++)r+=t[e].value;return r}function yt(t,e,n){var r=e.dir,i=e.next,o=i||r,s=n&&"parentNode"===o,a=x++;return e.first?function(e,n,i){for(;e=e[r];)if(1===e.nodeType||s)return t(e,n,i);return!1}:function(e,n,u){var c,l,h,p=[C,a];if(u){for(;e=e[r];)if((1===e.nodeType||s)&&t(e,n,u))return!0}else for(;e=e[r];)if(1===e.nodeType||s)if(l=(h=e[w]||(e[w]={}))[e.uniqueID]||(h[e.uniqueID]={}),i&&i===e.nodeName.toLowerCase())e=e[r]||e;else{if((c=l[o])&&c[0]===C&&c[1]===a)return p[2]=c[2];if(l[o]=p,p[2]=t(e,n,u))return!0}return!1}}function bt(t){return t.length>1?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function wt(t,e,n,r,i){for(var o,s=[],a=0,u=t.length,c=null!=e;a<u;a++)(o=t[a])&&(n&&!n(o,r,i)||(s.push(o),c&&e.push(a)));return s}function Dt(t,e,n,r,i,o){return r&&!r[w]&&(r=Dt(r)),i&&!i[w]&&(i=Dt(i,o)),at(function(o,s,a,u){var c,l,h,p=[],f=[],d=s.length,g=o||function(t,e,n){for(var r=0,i=e.length;r<i;r++)ot(t,e[r],n);return n}(e||"*",a.nodeType?[a]:a,[]),m=!t||!o&&e?g:wt(g,p,t,a,u),v=n?i||(o?t:d||r)?[]:s:m;if(n&&n(m,v,a,u),r)for(c=wt(v,f),r(c,[],a,u),l=c.length;l--;)(h=c[l])&&(v[f[l]]=!(m[f[l]]=h));if(o){if(i||t){if(i){for(c=[],l=v.length;l--;)(h=v[l])&&c.push(m[l]=h);i(null,v=[],c,u)}for(l=v.length;l--;)(h=v[l])&&(c=i?I(o,h):p[l])>-1&&(o[c]=!(s[c]=h))}}else v=wt(v===s?v.splice(d,v.length):v),i?i(null,s,v,u):B.apply(s,v)})}function Ct(t){for(var e,n,i,o=t.length,s=r.relative[t[0].type],a=s||r.relative[" "],u=s?1:0,l=yt(function(t){return t===e},a,!0),h=yt(function(t){return I(e,t)>-1},a,!0),p=[function(t,n,r){var i=!s&&(r||n!==c)||((e=n).nodeType?l(t,n,r):h(t,n,r));return e=null,i}];u<o;u++)if(n=r.relative[t[u].type])p=[yt(bt(p),n)];else{if((n=r.filter[t[u].type].apply(null,t[u].matches))[w]){for(i=++u;i<o&&!r.relative[t[i].type];i++);return Dt(u>1&&bt(p),u>1&&vt(t.slice(0,u-1).concat({value:" "===t[u-2].type?"*":""})).replace($,"$1"),n,u<i&&Ct(t.slice(u,i)),i<o&&Ct(t=t.slice(i)),i<o&&vt(t))}p.push(n)}return bt(p)}return mt.prototype=r.filters=r.pseudos,r.setFilters=new mt,s=ot.tokenize=function(t,e){var n,i,o,s,a,u,c,l=A[t+" "];if(l)return e?0:l.slice(0);for(a=t,u=[],c=r.preFilter;a;){for(s in n&&!(i=q.exec(a))||(i&&(a=a.slice(i[0].length)||a),u.push(o=[])),n=!1,(i=U.exec(a))&&(n=i.shift(),o.push({value:n,type:i[0].replace($," ")}),a=a.slice(n.length)),r.filter)!(i=K[s].exec(a))||c[s]&&!(i=c[s](i))||(n=i.shift(),o.push({value:n,type:s,matches:i}),a=a.slice(n.length));if(!n)break}return e?a.length:a?ot.error(t):A(t,u).slice(0)},a=ot.compile=function(t,e){var n,i=[],o=[],a=F[t+" "];if(!a){for(e||(e=s(t)),n=e.length;n--;)(a=Ct(e[n]))[w]?i.push(a):o.push(a);(a=F(t,function(t,e){var n=e.length>0,i=t.length>0,o=function(o,s,a,u,l){var h,d,m,v=0,y="0",b=o&&[],w=[],D=c,x=o||i&&r.find.TAG("*",l),E=C+=null==D?1:Math.random()||.1,A=x.length;for(l&&(c=s===f||s||l);y!==A&&null!=(h=x[y]);y++){if(i&&h){for(d=0,s||h.ownerDocument===f||(p(h),a=!g);m=t[d++];)if(m(h,s||f,a)){u.push(h);break}l&&(C=E)}n&&((h=!m&&h)&&v--,o&&b.push(h))}if(v+=y,n&&y!==v){for(d=0;m=e[d++];)m(b,w,s,a);if(o){if(v>0)for(;y--;)b[y]||w[y]||(w[y]=T.call(u));w=wt(w)}B.apply(u,w),l&&!o&&w.length>0&&v+e.length>1&&ot.uniqueSort(u)}return l&&(C=E,c=D),b};return n?at(o):o}(o,i))).selector=t}return a},u=ot.select=function(t,e,n,i){var o,u,c,l,h,p="function"==typeof t&&t,f=!i&&s(t=p.selector||t);if(n=n||[],1===f.length){if((u=f[0]=f[0].slice(0)).length>2&&"ID"===(c=u[0]).type&&9===e.nodeType&&g&&r.relative[u[1].type]){if(!(e=(r.find.ID(c.matches[0].replace(Z,tt),e)||[])[0]))return n;p&&(e=e.parentNode),t=t.slice(u.shift().value.length)}for(o=K.needsContext.test(t)?0:u.length;o--&&(c=u[o],!r.relative[l=c.type]);)if((h=r.find[l])&&(i=h(c.matches[0].replace(Z,tt),J.test(u[0].type)&&gt(e.parentNode)||e))){if(u.splice(o,1),!(t=i.length&&vt(u)))return B.apply(n,i),n;break}}return(p||a(t,f))(i,e,!g,n,!e||J.test(t)&&gt(e.parentNode)||e),n},n.sortStable=w.split("").sort(_).join("")===w,n.detectDuplicates=!!h,p(),n.sortDetached=ut(function(t){return 1&t.compareDocumentPosition(f.createElement("fieldset"))}),ut(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||ct("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),n.attributes&&ut(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||ct("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),ut(function(t){return null==t.getAttribute("disabled")})||ct(R,function(t,e,n){var r;if(!n)return!0===t[e]?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null}),ot}(n);x.find=F,x.expr=F.selectors,x.expr[":"]=x.expr.pseudos,x.uniqueSort=x.unique=F.uniqueSort,x.text=F.getText,x.isXMLDoc=F.isXML,x.contains=F.contains,x.escapeSelector=F.escape;var _=function(t,e,n){for(var r=[],i=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&x(t).is(n))break;r.push(t)}return r},k=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},S=x.expr.match.needsContext;function T(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var O=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function B(t,e,n){return y(e)?x.grep(t,function(t,r){return!!e.call(t,r,t)!==n}):e.nodeType?x.grep(t,function(t){return t===e!==n}):"string"!=typeof e?x.grep(t,function(t){return h.call(e,t)>-1!==n}):x.filter(e,t,n)}x.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?x.find.matchesSelector(r,t)?[r]:[]:x.find.matches(t,x.grep(e,function(t){return 1===t.nodeType}))},x.fn.extend({find:function(t){var e,n,r=this.length,i=this;if("string"!=typeof t)return this.pushStack(x(t).filter(function(){for(e=0;e<r;e++)if(x.contains(i[e],this))return!0}));for(n=this.pushStack([]),e=0;e<r;e++)x.find(t,i[e],n);return r>1?x.uniqueSort(n):n},filter:function(t){return this.pushStack(B(this,t||[],!1))},not:function(t){return this.pushStack(B(this,t||[],!0))},is:function(t){return!!B(this,"string"==typeof t&&S.test(t)?x(t):t||[],!1).length}});var N,I=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(x.fn.init=function(t,e,n){var r,i;if(!t)return this;if(n=n||N,"string"==typeof t){if(!(r="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:I.exec(t))||!r[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(r[1]){if(e=e instanceof x?e[0]:e,x.merge(this,x.parseHTML(r[1],e&&e.nodeType?e.ownerDocument||e:s,!0)),O.test(r[1])&&x.isPlainObject(e))for(r in e)y(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}return(i=s.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):y(t)?void 0!==n.ready?n.ready(t):t(x):x.makeArray(t,this)}).prototype=x.fn,N=x(s);var R=/^(?:parents|prev(?:Until|All))/,j={children:!0,contents:!0,next:!0,prev:!0};function P(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}x.fn.extend({has:function(t){var e=x(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(x.contains(this,e[t]))return!0})},closest:function(t,e){var n,r=0,i=this.length,o=[],s="string"!=typeof t&&x(t);if(!S.test(t))for(;r<i;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&x.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?x.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?h.call(x(t),this[0]):h.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(x.uniqueSort(x.merge(this.get(),x(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),x.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return _(t,"parentNode")},parentsUntil:function(t,e,n){return _(t,"parentNode",n)},next:function(t){return P(t,"nextSibling")},prev:function(t){return P(t,"previousSibling")},nextAll:function(t){return _(t,"nextSibling")},prevAll:function(t){return _(t,"previousSibling")},nextUntil:function(t,e,n){return _(t,"nextSibling",n)},prevUntil:function(t,e,n){return _(t,"previousSibling",n)},siblings:function(t){return k((t.parentNode||{}).firstChild,t)},children:function(t){return k(t.firstChild)},contents:function(t){return T(t,"iframe")?t.contentDocument:(T(t,"template")&&(t=t.content||t),x.merge([],t.childNodes))}},function(t,e){x.fn[t]=function(n,r){var i=x.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=x.filter(r,i)),this.length>1&&(j[t]||x.uniqueSort(i),R.test(t)&&i.reverse()),this.pushStack(i)}});var M=/[^\x20\t\r\n\f]+/g;function L(t){return t}function z(t){throw t}function $(t,e,n,r){var i;try{t&&y(i=t.promise)?i.call(t).done(e).fail(n):t&&y(i=t.then)?i.call(t,e,n):e.apply(void 0,[t].slice(r))}catch(t){n.apply(void 0,[t])}}x.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return x.each(t.match(M)||[],function(t,n){e[n]=!0}),e}(t):x.extend({},t);var e,n,r,i,o=[],s=[],a=-1,u=function(){for(i=i||t.once,r=e=!0;s.length;a=-1)for(n=s.shift();++a<o.length;)!1===o[a].apply(n[0],n[1])&&t.stopOnFalse&&(a=o.length,n=!1);t.memory||(n=!1),e=!1,i&&(o=n?[]:"")},c={add:function(){return o&&(n&&!e&&(a=o.length-1,s.push(n)),function e(n){x.each(n,function(n,r){y(r)?t.unique&&c.has(r)||o.push(r):r&&r.length&&"string"!==C(r)&&e(r)})}(arguments),n&&!e&&u()),this},remove:function(){return x.each(arguments,function(t,e){for(var n;(n=x.inArray(e,o,n))>-1;)o.splice(n,1),n<=a&&a--}),this},has:function(t){return t?x.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=s=[],n||e||(o=n=""),this},locked:function(){return!!i},fireWith:function(t,n){return i||(n=[t,(n=n||[]).slice?n.slice():n],s.push(n),e||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},x.extend({Deferred:function(t){var e=[["notify","progress",x.Callbacks("memory"),x.Callbacks("memory"),2],["resolve","done",x.Callbacks("once memory"),x.Callbacks("once memory"),0,"resolved"],["reject","fail",x.Callbacks("once memory"),x.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return i.then(null,t)},pipe:function(){var t=arguments;return x.Deferred(function(n){x.each(e,function(e,r){var i=y(t[r[4]])&&t[r[4]];o[r[1]](function(){var t=i&&i.apply(this,arguments);t&&y(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,i?[t]:arguments)})}),t=null}).promise()},then:function(t,r,i){var o=0;function s(t,e,r,i){return function(){var a=this,u=arguments,c=function(){var n,c;if(!(t<o)){if((n=r.apply(a,u))===e.promise())throw new TypeError("Thenable self-resolution");c=n&&("object"==typeof n||"function"==typeof n)&&n.then,y(c)?i?c.call(n,s(o,e,L,i),s(o,e,z,i)):(o++,c.call(n,s(o,e,L,i),s(o,e,z,i),s(o,e,L,e.notifyWith))):(r!==L&&(a=void 0,u=[n]),(i||e.resolveWith)(a,u))}},l=i?c:function(){try{c()}catch(n){x.Deferred.exceptionHook&&x.Deferred.exceptionHook(n,l.stackTrace),t+1>=o&&(r!==z&&(a=void 0,u=[n]),e.rejectWith(a,u))}};t?l():(x.Deferred.getStackHook&&(l.stackTrace=x.Deferred.getStackHook()),n.setTimeout(l))}}return x.Deferred(function(n){e[0][3].add(s(0,n,y(i)?i:L,n.notifyWith)),e[1][3].add(s(0,n,y(t)?t:L)),e[2][3].add(s(0,n,y(r)?r:z))}).promise()},promise:function(t){return null!=t?x.extend(t,i):i}},o={};return x.each(e,function(t,n){var s=n[2],a=n[5];i[n[1]]=s.add,a&&s.add(function(){r=a},e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),s.add(n[3].fire),o[n[0]]=function(){return o[n[0]+"With"](this===o?void 0:this,arguments),this},o[n[0]+"With"]=s.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(t){var e=arguments.length,n=e,r=Array(n),i=u.call(arguments),o=x.Deferred(),s=function(t){return function(n){r[t]=this,i[t]=arguments.length>1?u.call(arguments):n,--e||o.resolveWith(r,i)}};if(e<=1&&($(t,o.done(s(n)).resolve,o.reject,!e),"pending"===o.state()||y(i[n]&&i[n].then)))return o.then();for(;n--;)$(i[n],s(n),o.reject);return o.promise()}});var q=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;x.Deferred.exceptionHook=function(t,e){n.console&&n.console.warn&&t&&q.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},x.readyException=function(t){n.setTimeout(function(){throw t})};var U=x.Deferred();function V(){s.removeEventListener("DOMContentLoaded",V),n.removeEventListener("load",V),x.ready()}x.fn.ready=function(t){return U.then(t).catch(function(t){x.readyException(t)}),this},x.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--x.readyWait:x.isReady)||(x.isReady=!0,!0!==t&&--x.readyWait>0||U.resolveWith(s,[x]))}}),x.ready.then=U.then,"complete"===s.readyState||"loading"!==s.readyState&&!s.documentElement.doScroll?n.setTimeout(x.ready):(s.addEventListener("DOMContentLoaded",V),n.addEventListener("load",V));var H=function(t,e,n,r,i,o,s){var a=0,u=t.length,c=null==n;if("object"===C(n))for(a in i=!0,n)H(t,e,a,n[a],!0,o,s);else if(void 0!==r&&(i=!0,y(r)||(s=!0),c&&(s?(e.call(t,r),e=null):(c=e,e=function(t,e,n){return c.call(x(t),n)})),e))for(;a<u;a++)e(t[a],n,s?r:r.call(t[a],a,e(t[a],n)));return i?t:c?e.call(t):u?e(t[0],n):o},W=/^-ms-/,K=/-([a-z])/g;function G(t,e){return e.toUpperCase()}function Y(t){return t.replace(W,"ms-").replace(K,G)}var X=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function Q(){this.expando=x.expando+Q.uid++}Q.uid=1,Q.prototype={cache:function(t){var e=t[this.expando];return e||(e={},X(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var r,i=this.cache(t);if("string"==typeof e)i[Y(e)]=n;else for(r in e)i[Y(r)]=e[r];return i},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][Y(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,r=t[this.expando];if(void 0!==r){if(void 0!==e){n=(e=Array.isArray(e)?e.map(Y):(e=Y(e))in r?[e]:e.match(M)||[]).length;for(;n--;)delete r[e[n]]}(void 0===e||x.isEmptyObject(r))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!x.isEmptyObject(e)}};var J=new Q,Z=new Q,tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,et=/[A-Z]/g;function nt(t,e,n){var r;if(void 0===n&&1===t.nodeType)if(r="data-"+e.replace(et,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(r))){try{n=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:tt.test(t)?JSON.parse(t):t)}(n)}catch(t){}Z.set(t,e,n)}else n=void 0;return n}x.extend({hasData:function(t){return Z.hasData(t)||J.hasData(t)},data:function(t,e,n){return Z.access(t,e,n)},removeData:function(t,e){Z.remove(t,e)},_data:function(t,e,n){return J.access(t,e,n)},_removeData:function(t,e){J.remove(t,e)}}),x.fn.extend({data:function(t,e){var n,r,i,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(i=Z.get(o),1===o.nodeType&&!J.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(r=s[n].name).indexOf("data-")&&(r=Y(r.slice(5)),nt(o,r,i[r]));J.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof t?this.each(function(){Z.set(this,t)}):H(this,function(e){var n;if(o&&void 0===e)return void 0!==(n=Z.get(o,t))?n:void 0!==(n=nt(o,t))?n:void 0;this.each(function(){Z.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Z.remove(this,t)})}}),x.extend({queue:function(t,e,n){var r;if(t)return e=(e||"fx")+"queue",r=J.get(t,e),n&&(!r||Array.isArray(n)?r=J.access(t,e,x.makeArray(n)):r.push(n)),r||[]},dequeue:function(t,e){e=e||"fx";var n=x.queue(t,e),r=n.length,i=n.shift(),o=x._queueHooks(t,e);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete o.stop,i.call(t,function(){x.dequeue(t,e)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return J.get(t,n)||J.access(t,n,{empty:x.Callbacks("once memory").add(function(){J.remove(t,[e+"queue",n])})})}}),x.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?x.queue(this[0],t):void 0===e?this:this.each(function(){var n=x.queue(this,t,e);x._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&x.dequeue(this,t)})},dequeue:function(t){return this.each(function(){x.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,i=x.Deferred(),o=this,s=this.length,a=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(n=J.get(o[s],t+"queueHooks"))&&n.empty&&(r++,n.empty.add(a));return a(),i.promise(e)}});var rt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,it=new RegExp("^(?:([+-])=|)("+rt+")([a-z%]*)$","i"),ot=["Top","Right","Bottom","Left"],st=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&x.contains(t.ownerDocument,t)&&"none"===x.css(t,"display")},at=function(t,e,n,r){var i,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];for(o in i=n.apply(t,r||[]),e)t.style[o]=s[o];return i};function ut(t,e,n,r){var i,o,s=20,a=r?function(){return r.cur()}:function(){return x.css(t,e,"")},u=a(),c=n&&n[3]||(x.cssNumber[e]?"":"px"),l=(x.cssNumber[e]||"px"!==c&&+u)&&it.exec(x.css(t,e));if(l&&l[3]!==c){for(u/=2,c=c||l[3],l=+u||1;s--;)x.style(t,e,l+c),(1-o)*(1-(o=a()/u||.5))<=0&&(s=0),l/=o;l*=2,x.style(t,e,l+c),n=n||[]}return n&&(l=+l||+u||0,i=n[1]?l+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=l,r.end=i)),i}var ct={};function lt(t){var e,n=t.ownerDocument,r=t.nodeName,i=ct[r];return i||(e=n.body.appendChild(n.createElement(r)),i=x.css(e,"display"),e.parentNode.removeChild(e),"none"===i&&(i="block"),ct[r]=i,i)}function ht(t,e){for(var n,r,i=[],o=0,s=t.length;o<s;o++)(r=t[o]).style&&(n=r.style.display,e?("none"===n&&(i[o]=J.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&st(r)&&(i[o]=lt(r))):"none"!==n&&(i[o]="none",J.set(r,"display",n)));for(o=0;o<s;o++)null!=i[o]&&(t[o].style.display=i[o]);return t}x.fn.extend({show:function(){return ht(this,!0)},hide:function(){return ht(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){st(this)?x(this).show():x(this).hide()})}});var pt=/^(?:checkbox|radio)$/i,ft=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,dt=/^$|^module$|\/(?:java|ecma)script/i,gt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function mt(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&T(t,e)?x.merge([t],n):n}function vt(t,e){for(var n=0,r=t.length;n<r;n++)J.set(t[n],"globalEval",!e||J.get(e[n],"globalEval"))}gt.optgroup=gt.option,gt.tbody=gt.tfoot=gt.colgroup=gt.caption=gt.thead,gt.th=gt.td;var yt,bt,wt=/<|&#?\w+;/;function Dt(t,e,n,r,i){for(var o,s,a,u,c,l,h=e.createDocumentFragment(),p=[],f=0,d=t.length;f<d;f++)if((o=t[f])||0===o)if("object"===C(o))x.merge(p,o.nodeType?[o]:o);else if(wt.test(o)){for(s=s||h.appendChild(e.createElement("div")),a=(ft.exec(o)||["",""])[1].toLowerCase(),u=gt[a]||gt._default,s.innerHTML=u[1]+x.htmlPrefilter(o)+u[2],l=u[0];l--;)s=s.lastChild;x.merge(p,s.childNodes),(s=h.firstChild).textContent=""}else p.push(e.createTextNode(o));for(h.textContent="",f=0;o=p[f++];)if(r&&x.inArray(o,r)>-1)i&&i.push(o);else if(c=x.contains(o.ownerDocument,o),s=mt(h.appendChild(o),"script"),c&&vt(s),n)for(l=0;o=s[l++];)dt.test(o.type||"")&&n.push(o);return h}yt=s.createDocumentFragment().appendChild(s.createElement("div")),(bt=s.createElement("input")).setAttribute("type","radio"),bt.setAttribute("checked","checked"),bt.setAttribute("name","t"),yt.appendChild(bt),v.checkClone=yt.cloneNode(!0).cloneNode(!0).lastChild.checked,yt.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!yt.cloneNode(!0).lastChild.defaultValue;var Ct=s.documentElement,xt=/^key/,Et=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,At=/^([^.]*)(?:\.(.+)|)/;function Ft(){return!0}function _t(){return!1}function kt(){try{return s.activeElement}catch(t){}}function St(t,e,n,r,i,o){var s,a;if("object"==typeof e){for(a in"string"!=typeof n&&(r=r||n,n=void 0),e)St(t,a,n,r,e[a],o);return t}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=_t;else if(!i)return t;return 1===o&&(s=i,(i=function(t){return x().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=x.guid++)),t.each(function(){x.event.add(this,e,i,r,n)})}x.event={global:{},add:function(t,e,n,r,i){var o,s,a,u,c,l,h,p,f,d,g,m=J.get(t);if(m)for(n.handler&&(n=(o=n).handler,i=o.selector),i&&x.find.matchesSelector(Ct,i),n.guid||(n.guid=x.guid++),(u=m.events)||(u=m.events={}),(s=m.handle)||(s=m.handle=function(e){return void 0!==x&&x.event.triggered!==e.type?x.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(M)||[""]).length;c--;)f=g=(a=At.exec(e[c])||[])[1],d=(a[2]||"").split(".").sort(),f&&(h=x.event.special[f]||{},f=(i?h.delegateType:h.bindType)||f,h=x.event.special[f]||{},l=x.extend({type:f,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&x.expr.match.needsContext.test(i),namespace:d.join(".")},o),(p=u[f])||((p=u[f]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,r,d,s)||t.addEventListener&&t.addEventListener(f,s)),h.add&&(h.add.call(t,l),l.handler.guid||(l.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,l):p.push(l),x.event.global[f]=!0)},remove:function(t,e,n,r,i){var o,s,a,u,c,l,h,p,f,d,g,m=J.hasData(t)&&J.get(t);if(m&&(u=m.events)){for(c=(e=(e||"").match(M)||[""]).length;c--;)if(f=g=(a=At.exec(e[c])||[])[1],d=(a[2]||"").split(".").sort(),f){for(h=x.event.special[f]||{},p=u[f=(r?h.delegateType:h.bindType)||f]||[],a=a[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=p.length;o--;)l=p[o],!i&&g!==l.origType||n&&n.guid!==l.guid||a&&!a.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(p.splice(o,1),l.selector&&p.delegateCount--,h.remove&&h.remove.call(t,l));s&&!p.length&&(h.teardown&&!1!==h.teardown.call(t,d,m.handle)||x.removeEvent(t,f,m.handle),delete u[f])}else for(f in u)x.event.remove(t,f+e[c],n,r,!0);x.isEmptyObject(u)&&J.remove(t,"handle events")}},dispatch:function(t){var e,n,r,i,o,s,a=x.event.fix(t),u=new Array(arguments.length),c=(J.get(this,"events")||{})[a.type]||[],l=x.event.special[a.type]||{};for(u[0]=a,e=1;e<arguments.length;e++)u[e]=arguments[e];if(a.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,a)){for(s=x.event.handlers.call(this,a,c),e=0;(i=s[e++])&&!a.isPropagationStopped();)for(a.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(o.namespace)||(a.handleObj=o,a.data=o.data,void 0!==(r=((x.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,u))&&!1===(a.result=r)&&(a.preventDefault(),a.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,a),a.result}},handlers:function(t,e){var n,r,i,o,s,a=[],u=e.delegateCount,c=t.target;if(u&&c.nodeType&&!("click"===t.type&&t.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==t.type||!0!==c.disabled)){for(o=[],s={},n=0;n<u;n++)void 0===s[i=(r=e[n]).selector+" "]&&(s[i]=r.needsContext?x(i,this).index(c)>-1:x.find(i,this,null,[c]).length),s[i]&&o.push(r);o.length&&a.push({elem:c,handlers:o})}return c=this,u<e.length&&a.push({elem:c,handlers:e.slice(u)}),a},addProp:function(t,e){Object.defineProperty(x.Event.prototype,t,{enumerable:!0,configurable:!0,get:y(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[x.expando]?t:new x.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==kt()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===kt()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&T(this,"input"))return this.click(),!1},_default:function(t){return T(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},x.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},x.Event=function(t,e){if(!(this instanceof x.Event))return new x.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Ft:_t,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&x.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[x.expando]=!0},x.Event.prototype={constructor:x.Event,isDefaultPrevented:_t,isPropagationStopped:_t,isImmediatePropagationStopped:_t,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Ft,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Ft,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Ft,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},x.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&xt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&Et.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},x.event.addProp),x.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){x.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=t.relatedTarget,i=t.handleObj;return r&&(r===this||x.contains(this,r))||(t.type=i.origType,n=i.handler.apply(this,arguments),t.type=e),n}}}),x.fn.extend({on:function(t,e,n,r){return St(this,t,e,n,r)},one:function(t,e,n,r){return St(this,t,e,n,r,1)},off:function(t,e,n){var r,i;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,x(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=_t),this.each(function(){x.event.remove(this,t,n,e)})}});var Tt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Ot=/<script|<style|<link/i,Bt=/checked\s*(?:[^=]|=\s*.checked.)/i,Nt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function It(t,e){return T(t,"table")&&T(11!==e.nodeType?e:e.firstChild,"tr")&&x(t).children("tbody")[0]||t}function Rt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function jt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Pt(t,e){var n,r,i,o,s,a,u,c;if(1===e.nodeType){if(J.hasData(t)&&(o=J.access(t),s=J.set(e,o),c=o.events))for(i in delete s.handle,s.events={},c)for(n=0,r=c[i].length;n<r;n++)x.event.add(e,i,c[i][n]);Z.hasData(t)&&(a=Z.access(t),u=x.extend({},a),Z.set(e,u))}}function Mt(t,e,n,r){e=c.apply([],e);var i,o,s,a,u,l,h=0,p=t.length,f=p-1,d=e[0],g=y(d);if(g||p>1&&"string"==typeof d&&!v.checkClone&&Bt.test(d))return t.each(function(i){var o=t.eq(i);g&&(e[0]=d.call(this,i,o.html())),Mt(o,e,n,r)});if(p&&(o=(i=Dt(e,t[0].ownerDocument,!1,t,r)).firstChild,1===i.childNodes.length&&(i=o),o||r)){for(a=(s=x.map(mt(i,"script"),Rt)).length;h<p;h++)u=i,h!==f&&(u=x.clone(u,!0,!0),a&&x.merge(s,mt(u,"script"))),n.call(t[h],u,h);if(a)for(l=s[s.length-1].ownerDocument,x.map(s,jt),h=0;h<a;h++)u=s[h],dt.test(u.type||"")&&!J.access(u,"globalEval")&&x.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?x._evalUrl&&x._evalUrl(u.src):D(u.textContent.replace(Nt,""),l,u))}return t}function Lt(t,e,n){for(var r,i=e?x.filter(e,t):t,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||x.cleanData(mt(r)),r.parentNode&&(n&&x.contains(r.ownerDocument,r)&&vt(mt(r,"script")),r.parentNode.removeChild(r));return t}x.extend({htmlPrefilter:function(t){return t.replace(Tt,"<$1></$2>")},clone:function(t,e,n){var r,i,o,s,a,u,c,l=t.cloneNode(!0),h=x.contains(t.ownerDocument,t);if(!(v.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||x.isXMLDoc(t)))for(s=mt(l),r=0,i=(o=mt(t)).length;r<i;r++)a=o[r],u=s[r],c=void 0,"input"===(c=u.nodeName.toLowerCase())&&pt.test(a.type)?u.checked=a.checked:"input"!==c&&"textarea"!==c||(u.defaultValue=a.defaultValue);if(e)if(n)for(o=o||mt(t),s=s||mt(l),r=0,i=o.length;r<i;r++)Pt(o[r],s[r]);else Pt(t,l);return(s=mt(l,"script")).length>0&&vt(s,!h&&mt(t,"script")),l},cleanData:function(t){for(var e,n,r,i=x.event.special,o=0;void 0!==(n=t[o]);o++)if(X(n)){if(e=n[J.expando]){if(e.events)for(r in e.events)i[r]?x.event.remove(n,r):x.removeEvent(n,r,e.handle);n[J.expando]=void 0}n[Z.expando]&&(n[Z.expando]=void 0)}}}),x.fn.extend({detach:function(t){return Lt(this,t,!0)},remove:function(t){return Lt(this,t)},text:function(t){return H(this,function(t){return void 0===t?x.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return Mt(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||It(this,t).appendChild(t)})},prepend:function(){return Mt(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=It(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return Mt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return Mt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(x.cleanData(mt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return x.clone(this,t,e)})},html:function(t){return H(this,function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Ot.test(t)&&!gt[(ft.exec(t)||["",""])[1].toLowerCase()]){t=x.htmlPrefilter(t);try{for(;n<r;n++)1===(e=this[n]||{}).nodeType&&(x.cleanData(mt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return Mt(this,arguments,function(e){var n=this.parentNode;x.inArray(this,t)<0&&(x.cleanData(mt(this)),n&&n.replaceChild(e,this))},t)}}),x.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){x.fn[t]=function(t){for(var n,r=[],i=x(t),o=i.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),x(i[s])[e](n),l.apply(r,n.get());return this.pushStack(r)}});var zt=new RegExp("^("+rt+")(?!px)[a-z%]+$","i"),$t=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=n),e.getComputedStyle(t)},qt=new RegExp(ot.join("|"),"i");function Ut(t,e,n){var r,i,o,s,a=t.style;return(n=n||$t(t))&&(""!==(s=n.getPropertyValue(e)||n[e])||x.contains(t.ownerDocument,t)||(s=x.style(t,e)),!v.pixelBoxStyles()&&zt.test(s)&&qt.test(e)&&(r=a.width,i=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=r,a.minWidth=i,a.maxWidth=o)),void 0!==s?s+"":s}function Vt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(l){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Ct.appendChild(c).appendChild(l);var t=n.getComputedStyle(l);r="1%"!==t.top,u=12===e(t.marginLeft),l.style.right="60%",a=36===e(t.right),i=36===e(t.width),l.style.position="absolute",o=36===l.offsetWidth||"absolute",Ct.removeChild(c),l=null}}function e(t){return Math.round(parseFloat(t))}var r,i,o,a,u,c=s.createElement("div"),l=s.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===l.style.backgroundClip,x.extend(v,{boxSizingReliable:function(){return t(),i},pixelBoxStyles:function(){return t(),a},pixelPosition:function(){return t(),r},reliableMarginLeft:function(){return t(),u},scrollboxSize:function(){return t(),o}}))}();var Ht=/^(none|table(?!-c[ea]).+)/,Wt=/^--/,Kt={position:"absolute",visibility:"hidden",display:"block"},Gt={letterSpacing:"0",fontWeight:"400"},Yt=["Webkit","Moz","ms"],Xt=s.createElement("div").style;function Qt(t){var e=x.cssProps[t];return e||(e=x.cssProps[t]=function(t){if(t in Xt)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=Yt.length;n--;)if((t=Yt[n]+e)in Xt)return t}(t)||t),e}function Jt(t,e,n){var r=it.exec(e);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):e}function Zt(t,e,n,r,i,o){var s="width"===e?1:0,a=0,u=0;if(n===(r?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(u+=x.css(t,n+ot[s],!0,i)),r?("content"===n&&(u-=x.css(t,"padding"+ot[s],!0,i)),"margin"!==n&&(u-=x.css(t,"border"+ot[s]+"Width",!0,i))):(u+=x.css(t,"padding"+ot[s],!0,i),"padding"!==n?u+=x.css(t,"border"+ot[s]+"Width",!0,i):a+=x.css(t,"border"+ot[s]+"Width",!0,i));return!r&&o>=0&&(u+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-u-a-.5))),u}function te(t,e,n){var r=$t(t),i=Ut(t,e,r),o="border-box"===x.css(t,"boxSizing",!1,r),s=o;if(zt.test(i)){if(!n)return i;i="auto"}return s=s&&(v.boxSizingReliable()||i===t.style[e]),("auto"===i||!parseFloat(i)&&"inline"===x.css(t,"display",!1,r))&&(i=t["offset"+e[0].toUpperCase()+e.slice(1)],s=!0),(i=parseFloat(i)||0)+Zt(t,e,n||(o?"border":"content"),s,r,i)+"px"}function ee(t,e,n,r,i){return new ee.prototype.init(t,e,n,r,i)}x.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Ut(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,o,s,a=Y(e),u=Wt.test(e),c=t.style;if(u||(e=Qt(a)),s=x.cssHooks[e]||x.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(i=s.get(t,!1,r))?i:c[e];"string"===(o=typeof n)&&(i=it.exec(n))&&i[1]&&(n=ut(t,e,i),o="number"),null!=n&&n==n&&("number"===o&&(n+=i&&i[3]||(x.cssNumber[a]?"":"px")),v.clearCloneStyle||""!==n||0!==e.indexOf("background")||(c[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,r))||(u?c.setProperty(e,n):c[e]=n))}},css:function(t,e,n,r){var i,o,s,a=Y(e);return Wt.test(e)||(e=Qt(a)),(s=x.cssHooks[e]||x.cssHooks[a])&&"get"in s&&(i=s.get(t,!0,n)),void 0===i&&(i=Ut(t,e,r)),"normal"===i&&e in Gt&&(i=Gt[e]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),x.each(["height","width"],function(t,e){x.cssHooks[e]={get:function(t,n,r){if(n)return!Ht.test(x.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?te(t,e,r):at(t,Kt,function(){return te(t,e,r)})},set:function(t,n,r){var i,o=$t(t),s="border-box"===x.css(t,"boxSizing",!1,o),a=r&&Zt(t,e,r,s,o);return s&&v.scrollboxSize()===o.position&&(a-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-Zt(t,e,"border",!1,o)-.5)),a&&(i=it.exec(n))&&"px"!==(i[3]||"px")&&(t.style[e]=n,n=x.css(t,e)),Jt(0,n,a)}}}),x.cssHooks.marginLeft=Vt(v.reliableMarginLeft,function(t,e){if(e)return(parseFloat(Ut(t,"marginLeft"))||t.getBoundingClientRect().left-at(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),x.each({margin:"",padding:"",border:"Width"},function(t,e){x.cssHooks[t+e]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[t+ot[r]+e]=o[r]||o[r-2]||o[0];return i}},"margin"!==t&&(x.cssHooks[t+e].set=Jt)}),x.fn.extend({css:function(t,e){return H(this,function(t,e,n){var r,i,o={},s=0;if(Array.isArray(e)){for(r=$t(t),i=e.length;s<i;s++)o[e[s]]=x.css(t,e[s],!1,r);return o}return void 0!==n?x.style(t,e,n):x.css(t,e)},t,e,arguments.length>1)}}),x.Tween=ee,ee.prototype={constructor:ee,init:function(t,e,n,r,i,o){this.elem=t,this.prop=n,this.easing=i||x.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=o||(x.cssNumber[n]?"":"px")},cur:function(){var t=ee.propHooks[this.prop];return t&&t.get?t.get(this):ee.propHooks._default.get(this)},run:function(t){var e,n=ee.propHooks[this.prop];return this.options.duration?this.pos=e=x.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ee.propHooks._default.set(this),this}},ee.prototype.init.prototype=ee.prototype,ee.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=x.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){x.fx.step[t.prop]?x.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[x.cssProps[t.prop]]&&!x.cssHooks[t.prop]?t.elem[t.prop]=t.now:x.style(t.elem,t.prop,t.now+t.unit)}}},ee.propHooks.scrollTop=ee.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},x.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},x.fx=ee.prototype.init,x.fx.step={};var ne,re,ie=/^(?:toggle|show|hide)$/,oe=/queueHooks$/;function se(){re&&(!1===s.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(se):n.setTimeout(se,x.fx.interval),x.fx.tick())}function ae(){return n.setTimeout(function(){ne=void 0}),ne=Date.now()}function ue(t,e){var n,r=0,i={height:t};for(e=e?1:0;r<4;r+=2-e)i["margin"+(n=ot[r])]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function ce(t,e,n){for(var r,i=(le.tweeners[e]||[]).concat(le.tweeners["*"]),o=0,s=i.length;o<s;o++)if(r=i[o].call(n,e,t))return r}function le(t,e,n){var r,i,o=0,s=le.prefilters.length,a=x.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var e=ne||ae(),n=Math.max(0,c.startTime+c.duration-e),r=1-(n/c.duration||0),o=0,s=c.tweens.length;o<s;o++)c.tweens[o].run(r);return a.notifyWith(t,[c,r,n]),r<1&&s?n:(s||a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:x.extend({},e),opts:x.extend(!0,{specialEasing:{},easing:x.easing._default},n),originalProperties:e,originalOptions:n,startTime:ne||ae(),duration:n.duration,tweens:[],createTween:function(e,n){var r=x.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(r),r},stop:function(e){var n=0,r=e?c.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)c.tweens[n].run(1);return e?(a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c,e])):a.rejectWith(t,[c,e]),this}}),l=c.props;for(!function(t,e){var n,r,i,o,s;for(n in t)if(i=e[r=Y(n)],o=t[n],Array.isArray(o)&&(i=o[1],o=t[n]=o[0]),n!==r&&(t[r]=o,delete t[n]),(s=x.cssHooks[r])&&"expand"in s)for(n in o=s.expand(o),delete t[r],o)n in t||(t[n]=o[n],e[n]=i);else e[r]=i}(l,c.opts.specialEasing);o<s;o++)if(r=le.prefilters[o].call(c,t,l,c.opts))return y(r.stop)&&(x._queueHooks(c.elem,c.opts.queue).stop=r.stop.bind(r)),r;return x.map(l,ce,c),y(c.opts.start)&&c.opts.start.call(t,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),x.fx.timer(x.extend(u,{elem:t,anim:c,queue:c.opts.queue})),c}x.Animation=x.extend(le,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return ut(n.elem,t,it.exec(e),n),n}]},tweener:function(t,e){y(t)?(e=t,t=["*"]):t=t.match(M);for(var n,r=0,i=t.length;r<i;r++)n=t[r],le.tweeners[n]=le.tweeners[n]||[],le.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var r,i,o,s,a,u,c,l,h="width"in e||"height"in e,p=this,f={},d=t.style,g=t.nodeType&&st(t),m=J.get(t,"fxshow");for(r in n.queue||(null==(s=x._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,p.always(function(){p.always(function(){s.unqueued--,x.queue(t,"fx").length||s.empty.fire()})})),e)if(i=e[r],ie.test(i)){if(delete e[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!m||void 0===m[r])continue;g=!0}f[r]=m&&m[r]||x.style(t,r)}if((u=!x.isEmptyObject(e))||!x.isEmptyObject(f))for(r in h&&1===t.nodeType&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],null==(c=m&&m.display)&&(c=J.get(t,"display")),"none"===(l=x.css(t,"display"))&&(c?l=c:(ht([t],!0),c=t.style.display||c,l=x.css(t,"display"),ht([t]))),("inline"===l||"inline-block"===l&&null!=c)&&"none"===x.css(t,"float")&&(u||(p.done(function(){d.display=c}),null==c&&(l=d.display,c="none"===l?"":l)),d.display="inline-block")),n.overflow&&(d.overflow="hidden",p.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]})),u=!1,f)u||(m?"hidden"in m&&(g=m.hidden):m=J.access(t,"fxshow",{display:c}),o&&(m.hidden=!g),g&&ht([t],!0),p.done(function(){for(r in g||ht([t]),J.remove(t,"fxshow"),f)x.style(t,r,f[r])})),u=ce(g?m[r]:0,r,p),r in m||(m[r]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(t,e){e?le.prefilters.unshift(t):le.prefilters.push(t)}}),x.speed=function(t,e,n){var r=t&&"object"==typeof t?x.extend({},t):{complete:n||!n&&e||y(t)&&t,duration:t,easing:n&&e||e&&!y(e)&&e};return x.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in x.fx.speeds?r.duration=x.fx.speeds[r.duration]:r.duration=x.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){y(r.old)&&r.old.call(this),r.queue&&x.dequeue(this,r.queue)},r},x.fn.extend({fadeTo:function(t,e,n,r){return this.filter(st).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var i=x.isEmptyObject(t),o=x.speed(e,n,r),s=function(){var e=le(this,x.extend({},t),o);(i||J.get(this,"finish"))&&e.stop(!0)};return s.finish=s,i||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",o=x.timers,s=J.get(this);if(i)s[i]&&s[i].stop&&r(s[i]);else for(i in s)s[i]&&s[i].stop&&oe.test(i)&&r(s[i]);for(i=o.length;i--;)o[i].elem!==this||null!=t&&o[i].queue!==t||(o[i].anim.stop(n),e=!1,o.splice(i,1));!e&&n||x.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=J.get(this),r=n[t+"queue"],i=n[t+"queueHooks"],o=x.timers,s=r?r.length:0;for(n.finish=!0,x.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish})}}),x.each(["toggle","show","hide"],function(t,e){var n=x.fn[e];x.fn[e]=function(t,r,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(ue(e,!0),t,r,i)}}),x.each({slideDown:ue("show"),slideUp:ue("hide"),slideToggle:ue("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){x.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}}),x.timers=[],x.fx.tick=function(){var t,e=0,n=x.timers;for(ne=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||x.fx.stop(),ne=void 0},x.fx.timer=function(t){x.timers.push(t),x.fx.start()},x.fx.interval=13,x.fx.start=function(){re||(re=!0,se())},x.fx.stop=function(){re=null},x.fx.speeds={slow:600,fast:200,_default:400},x.fn.delay=function(t,e){return t=x.fx&&x.fx.speeds[t]||t,e=e||"fx",this.queue(e,function(e,r){var i=n.setTimeout(e,t);r.stop=function(){n.clearTimeout(i)}})},function(){var t=s.createElement("input"),e=s.createElement("select").appendChild(s.createElement("option"));t.type="checkbox",v.checkOn=""!==t.value,v.optSelected=e.selected,(t=s.createElement("input")).value="t",t.type="radio",v.radioValue="t"===t.value}();var he,pe=x.expr.attrHandle;x.fn.extend({attr:function(t,e){return H(this,x.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){x.removeAttr(this,t)})}}),x.extend({attr:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?x.prop(t,e,n):(1===o&&x.isXMLDoc(t)||(i=x.attrHooks[e.toLowerCase()]||(x.expr.match.bool.test(e)?he:void 0)),void 0!==n?null===n?void x.removeAttr(t,e):i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:(t.setAttribute(e,n+""),n):i&&"get"in i&&null!==(r=i.get(t,e))?r:null==(r=x.find.attr(t,e))?void 0:r)},attrHooks:{type:{set:function(t,e){if(!v.radioValue&&"radio"===e&&T(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,r=0,i=e&&e.match(M);if(i&&1===t.nodeType)for(;n=i[r++];)t.removeAttribute(n)}}),he={set:function(t,e,n){return!1===e?x.removeAttr(t,n):t.setAttribute(n,n),n}},x.each(x.expr.match.bool.source.match(/\w+/g),function(t,e){var n=pe[e]||x.find.attr;pe[e]=function(t,e,r){var i,o,s=e.toLowerCase();return r||(o=pe[s],pe[s]=i,i=null!=n(t,e,r)?s:null,pe[s]=o),i}});var fe=/^(?:input|select|textarea|button)$/i,de=/^(?:a|area)$/i;function ge(t){return(t.match(M)||[]).join(" ")}function me(t){return t.getAttribute&&t.getAttribute("class")||""}function ve(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(M)||[]}x.fn.extend({prop:function(t,e){return H(this,x.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[x.propFix[t]||t]})}}),x.extend({prop:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&x.isXMLDoc(t)||(e=x.propFix[e]||e,i=x.propHooks[e]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){var e=x.find.attr(t,"tabindex");return e?parseInt(e,10):fe.test(t.nodeName)||de.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(x.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),x.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){x.propFix[this.toLowerCase()]=this}),x.fn.extend({addClass:function(t){var e,n,r,i,o,s,a,u=0;if(y(t))return this.each(function(e){x(this).addClass(t.call(this,e,me(this)))});if((e=ve(t)).length)for(;n=this[u++];)if(i=me(n),r=1===n.nodeType&&" "+ge(i)+" "){for(s=0;o=e[s++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(a=ge(r))&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,r,i,o,s,a,u=0;if(y(t))return this.each(function(e){x(this).removeClass(t.call(this,e,me(this)))});if(!arguments.length)return this.attr("class","");if((e=ve(t)).length)for(;n=this[u++];)if(i=me(n),r=1===n.nodeType&&" "+ge(i)+" "){for(s=0;o=e[s++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");i!==(a=ge(r))&&n.setAttribute("class",a)}return this},toggleClass:function(t,e){var n=typeof t,r="string"===n||Array.isArray(t);return"boolean"==typeof e&&r?e?this.addClass(t):this.removeClass(t):y(t)?this.each(function(n){x(this).toggleClass(t.call(this,n,me(this),e),e)}):this.each(function(){var e,i,o,s;if(r)for(i=0,o=x(this),s=ve(t);e=s[i++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==n||((e=me(this))&&J.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":J.get(this,"__className__")||""))})},hasClass:function(t){var e,n,r=0;for(e=" "+t+" ";n=this[r++];)if(1===n.nodeType&&(" "+ge(me(n))+" ").indexOf(e)>-1)return!0;return!1}});var ye=/\r/g;x.fn.extend({val:function(t){var e,n,r,i=this[0];return arguments.length?(r=y(t),this.each(function(n){var i;1===this.nodeType&&(null==(i=r?t.call(this,n,x(this).val()):t)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=x.map(i,function(t){return null==t?"":t+""})),(e=x.valHooks[this.type]||x.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))})):i?(e=x.valHooks[i.type]||x.valHooks[i.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(ye,""):null==n?"":n:void 0}}),x.extend({valHooks:{option:{get:function(t){var e=x.find.attr(t,"value");return null!=e?e:ge(x.text(t))}},select:{get:function(t){var e,n,r,i=t.options,o=t.selectedIndex,s="select-one"===t.type,a=s?null:[],u=s?o+1:i.length;for(r=o<0?u:s?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!T(n.parentNode,"optgroup"))){if(e=x(n).val(),s)return e;a.push(e)}return a},set:function(t,e){for(var n,r,i=t.options,o=x.makeArray(e),s=i.length;s--;)((r=i[s]).selected=x.inArray(x.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),x.each(["radio","checkbox"],function(){x.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=x.inArray(x(t).val(),e)>-1}},v.checkOn||(x.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),v.focusin="onfocusin"in n;var be=/^(?:focusinfocus|focusoutblur)$/,we=function(t){t.stopPropagation()};x.extend(x.event,{trigger:function(t,e,r,i){var o,a,u,c,l,h,p,f,g=[r||s],m=d.call(t,"type")?t.type:t,v=d.call(t,"namespace")?t.namespace.split("."):[];if(a=f=u=r=r||s,3!==r.nodeType&&8!==r.nodeType&&!be.test(m+x.event.triggered)&&(m.indexOf(".")>-1&&(v=m.split("."),m=v.shift(),v.sort()),l=m.indexOf(":")<0&&"on"+m,(t=t[x.expando]?t:new x.Event(m,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=v.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),e=null==e?[t]:x.makeArray(e,[t]),p=x.event.special[m]||{},i||!p.trigger||!1!==p.trigger.apply(r,e))){if(!i&&!p.noBubble&&!b(r)){for(c=p.delegateType||m,be.test(c+m)||(a=a.parentNode);a;a=a.parentNode)g.push(a),u=a;u===(r.ownerDocument||s)&&g.push(u.defaultView||u.parentWindow||n)}for(o=0;(a=g[o++])&&!t.isPropagationStopped();)f=a,t.type=o>1?c:p.bindType||m,(h=(J.get(a,"events")||{})[t.type]&&J.get(a,"handle"))&&h.apply(a,e),(h=l&&a[l])&&h.apply&&X(a)&&(t.result=h.apply(a,e),!1===t.result&&t.preventDefault());return t.type=m,i||t.isDefaultPrevented()||p._default&&!1!==p._default.apply(g.pop(),e)||!X(r)||l&&y(r[m])&&!b(r)&&((u=r[l])&&(r[l]=null),x.event.triggered=m,t.isPropagationStopped()&&f.addEventListener(m,we),r[m](),t.isPropagationStopped()&&f.removeEventListener(m,we),x.event.triggered=void 0,u&&(r[l]=u)),t.result}},simulate:function(t,e,n){var r=x.extend(new x.Event,n,{type:t,isSimulated:!0});x.event.trigger(r,null,e)}}),x.fn.extend({trigger:function(t,e){return this.each(function(){x.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return x.event.trigger(t,e,n,!0)}}),v.focusin||x.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){x.event.simulate(e,t.target,x.event.fix(t))};x.event.special[e]={setup:function(){var r=this.ownerDocument||this,i=J.access(r,e);i||r.addEventListener(t,n,!0),J.access(r,e,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=J.access(r,e)-1;i?J.access(r,e,i):(r.removeEventListener(t,n,!0),J.remove(r,e))}}});var De=n.location,Ce=Date.now(),xe=/\?/;x.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new n.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||x.error("Invalid XML: "+t),e};var Ee=/\[\]$/,Ae=/\r?\n/g,Fe=/^(?:submit|button|image|reset|file)$/i,_e=/^(?:input|select|textarea|keygen)/i;function ke(t,e,n,r){var i;if(Array.isArray(e))x.each(e,function(e,i){n||Ee.test(t)?r(t,i):ke(t+"["+("object"==typeof i&&null!=i?e:"")+"]",i,n,r)});else if(n||"object"!==C(e))r(t,e);else for(i in e)ke(t+"["+i+"]",e[i],n,r)}x.param=function(t,e){var n,r=[],i=function(t,e){var n=y(e)?e():e;r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(t)||t.jquery&&!x.isPlainObject(t))x.each(t,function(){i(this.name,this.value)});else for(n in t)ke(n,t[n],e,i);return r.join("&")},x.fn.extend({serialize:function(){return x.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=x.prop(this,"elements");return t?x.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!x(this).is(":disabled")&&_e.test(this.nodeName)&&!Fe.test(t)&&(this.checked||!pt.test(t))}).map(function(t,e){var n=x(this).val();return null==n?null:Array.isArray(n)?x.map(n,function(t){return{name:e.name,value:t.replace(Ae,"\r\n")}}):{name:e.name,value:n.replace(Ae,"\r\n")}}).get()}});var Se=/%20/g,Te=/#.*$/,Oe=/([?&])_=[^&]*/,Be=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ne=/^(?:GET|HEAD)$/,Ie=/^\/\//,Re={},je={},Pe="*/".concat("*"),Me=s.createElement("a");function Le(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,i=0,o=e.toLowerCase().match(M)||[];if(y(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function ze(t,e,n,r){var i={},o=t===je;function s(a){var u;return i[a]=!0,x.each(t[a]||[],function(t,a){var c=a(e,n,r);return"string"!=typeof c||o||i[c]?o?!(u=c):void 0:(e.dataTypes.unshift(c),s(c),!1)}),u}return s(e.dataTypes[0])||!i["*"]&&s("*")}function $e(t,e){var n,r,i=x.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((i[n]?t:r||(r={}))[n]=e[n]);return r&&x.extend(!0,t,r),t}Me.href=De.href,x.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:De.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(De.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Pe,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":x.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?$e($e(t,x.ajaxSettings),e):$e(x.ajaxSettings,t)},ajaxPrefilter:Le(Re),ajaxTransport:Le(je),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var r,i,o,a,u,c,l,h,p,f,d=x.ajaxSetup({},e),g=d.context||d,m=d.context&&(g.nodeType||g.jquery)?x(g):x.event,v=x.Deferred(),y=x.Callbacks("once memory"),b=d.statusCode||{},w={},D={},C="canceled",E={readyState:0,getResponseHeader:function(t){var e;if(l){if(!a)for(a={};e=Be.exec(o);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return l?o:null},setRequestHeader:function(t,e){return null==l&&(t=D[t.toLowerCase()]=D[t.toLowerCase()]||t,w[t]=e),this},overrideMimeType:function(t){return null==l&&(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(l)E.always(t[E.status]);else for(e in t)b[e]=[b[e],t[e]];return this},abort:function(t){var e=t||C;return r&&r.abort(e),A(0,e),this}};if(v.promise(E),d.url=((t||d.url||De.href)+"").replace(Ie,De.protocol+"//"),d.type=e.method||e.type||d.method||d.type,d.dataTypes=(d.dataType||"*").toLowerCase().match(M)||[""],null==d.crossDomain){c=s.createElement("a");try{c.href=d.url,c.href=c.href,d.crossDomain=Me.protocol+"//"+Me.host!=c.protocol+"//"+c.host}catch(t){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=x.param(d.data,d.traditional)),ze(Re,d,e,E),l)return E;for(p in(h=x.event&&d.global)&&0==x.active++&&x.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Ne.test(d.type),i=d.url.replace(Te,""),d.hasContent?d.data&&d.processData&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&(d.data=d.data.replace(Se,"+")):(f=d.url.slice(i.length),d.data&&(d.processData||"string"==typeof d.data)&&(i+=(xe.test(i)?"&":"?")+d.data,delete d.data),!1===d.cache&&(i=i.replace(Oe,"$1"),f=(xe.test(i)?"&":"?")+"_="+Ce+++f),d.url=i+f),d.ifModified&&(x.lastModified[i]&&E.setRequestHeader("If-Modified-Since",x.lastModified[i]),x.etag[i]&&E.setRequestHeader("If-None-Match",x.etag[i])),(d.data&&d.hasContent&&!1!==d.contentType||e.contentType)&&E.setRequestHeader("Content-Type",d.contentType),E.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Pe+"; q=0.01":""):d.accepts["*"]),d.headers)E.setRequestHeader(p,d.headers[p]);if(d.beforeSend&&(!1===d.beforeSend.call(g,E,d)||l))return E.abort();if(C="abort",y.add(d.complete),E.done(d.success),E.fail(d.error),r=ze(je,d,e,E)){if(E.readyState=1,h&&m.trigger("ajaxSend",[E,d]),l)return E;d.async&&d.timeout>0&&(u=n.setTimeout(function(){E.abort("timeout")},d.timeout));try{l=!1,r.send(w,A)}catch(t){if(l)throw t;A(-1,t)}}else A(-1,"No Transport");function A(t,e,s,a){var c,p,f,w,D,C=e;l||(l=!0,u&&n.clearTimeout(u),r=void 0,o=a||"",E.readyState=t>0?4:0,c=t>=200&&t<300||304===t,s&&(w=function(t,e,n){for(var r,i,o,s,a=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(i in a)if(a[i]&&a[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||t.converters[i+" "+u[0]]){o=i;break}s||(s=i)}o=o||s}if(o)return o!==u[0]&&u.unshift(o),n[o]}(d,E,s)),w=function(t,e,n,r){var i,o,s,a,u,c={},l=t.dataTypes.slice();if(l[1])for(s in t.converters)c[s.toLowerCase()]=t.converters[s];for(o=l.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=l.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(s=c[u+" "+o]||c["* "+o]))for(i in c)if((a=i.split(" "))[1]===o&&(s=c[u+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[i]:!0!==c[i]&&(o=a[0],l.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}(d,w,E,c),c?(d.ifModified&&((D=E.getResponseHeader("Last-Modified"))&&(x.lastModified[i]=D),(D=E.getResponseHeader("etag"))&&(x.etag[i]=D)),204===t||"HEAD"===d.type?C="nocontent":304===t?C="notmodified":(C=w.state,p=w.data,c=!(f=w.error))):(f=C,!t&&C||(C="error",t<0&&(t=0))),E.status=t,E.statusText=(e||C)+"",c?v.resolveWith(g,[p,C,E]):v.rejectWith(g,[E,C,f]),E.statusCode(b),b=void 0,h&&m.trigger(c?"ajaxSuccess":"ajaxError",[E,d,c?p:f]),y.fireWith(g,[E,C]),h&&(m.trigger("ajaxComplete",[E,d]),--x.active||x.event.trigger("ajaxStop")))}return E},getJSON:function(t,e,n){return x.get(t,e,n,"json")},getScript:function(t,e){return x.get(t,void 0,e,"script")}}),x.each(["get","post"],function(t,e){x[e]=function(t,n,r,i){return y(n)&&(i=i||r,r=n,n=void 0),x.ajax(x.extend({url:t,type:e,dataType:i,data:n,success:r},x.isPlainObject(t)&&t))}}),x._evalUrl=function(t){return x.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},x.fn.extend({wrapAll:function(t){var e;return this[0]&&(y(t)&&(t=t.call(this[0])),e=x(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return y(t)?this.each(function(e){x(this).wrapInner(t.call(this,e))}):this.each(function(){var e=x(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=y(t);return this.each(function(n){x(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){x(this).replaceWith(this.childNodes)}),this}}),x.expr.pseudos.hidden=function(t){return!x.expr.pseudos.visible(t)},x.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},x.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}};var qe={0:200,1223:204},Ue=x.ajaxSettings.xhr();v.cors=!!Ue&&"withCredentials"in Ue,v.ajax=Ue=!!Ue,x.ajaxTransport(function(t){var e,r;if(v.cors||Ue&&!t.crossDomain)return{send:function(i,o){var s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];for(s in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)a.setRequestHeader(s,i[s]);e=function(t){return function(){e&&(e=r=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(qe[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=e(),r=a.onerror=a.ontimeout=e("error"),void 0!==a.onabort?a.onabort=r:a.onreadystatechange=function(){4===a.readyState&&n.setTimeout(function(){e&&r()})},e=e("abort");try{a.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}}),x.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),x.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return x.globalEval(t),t}}}),x.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),x.ajaxTransport("script",function(t){var e,n;if(t.crossDomain)return{send:function(r,i){e=x("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&i("error"===t.type?404:200,t.type)}),s.head.appendChild(e[0])},abort:function(){n&&n()}}});var Ve,He=[],We=/(=)\?(?=&|$)|\?\?/;x.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=He.pop()||x.expando+"_"+Ce++;return this[t]=!0,t}}),x.ajaxPrefilter("json jsonp",function(t,e,r){var i,o,s,a=!1!==t.jsonp&&(We.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&We.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=y(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(We,"$1"+i):!1!==t.jsonp&&(t.url+=(xe.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return s||x.error(i+" was not called"),s[0]},t.dataTypes[0]="json",o=n[i],n[i]=function(){s=arguments},r.always(function(){void 0===o?x(n).removeProp(i):n[i]=o,t[i]&&(t.jsonpCallback=e.jsonpCallback,He.push(i)),s&&y(o)&&o(s[0]),s=o=void 0}),"script"}),v.createHTMLDocument=((Ve=s.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ve.childNodes.length),x.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(v.createHTMLDocument?((r=(e=s.implementation.createHTMLDocument("")).createElement("base")).href=s.location.href,e.head.appendChild(r)):e=s),o=!n&&[],(i=O.exec(t))?[e.createElement(i[1])]:(i=Dt([t],e,o),o&&o.length&&x(o).remove(),x.merge([],i.childNodes)));var r,i,o},x.fn.load=function(t,e,n){var r,i,o,s=this,a=t.indexOf(" ");return a>-1&&(r=ge(t.slice(a)),t=t.slice(0,a)),y(e)?(n=e,e=void 0):e&&"object"==typeof e&&(i="POST"),s.length>0&&x.ajax({url:t,type:i||"GET",dataType:"html",data:e}).done(function(t){o=arguments,s.html(r?x("<div>").append(x.parseHTML(t)).find(r):t)}).always(n&&function(t,e){s.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},x.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){x.fn[e]=function(t){return this.on(e,t)}}),x.expr.pseudos.animated=function(t){return x.grep(x.timers,function(e){return t===e.elem}).length},x.offset={setOffset:function(t,e,n){var r,i,o,s,a,u,c=x.css(t,"position"),l=x(t),h={};"static"===c&&(t.style.position="relative"),a=l.offset(),o=x.css(t,"top"),u=x.css(t,"left"),("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1?(s=(r=l.position()).top,i=r.left):(s=parseFloat(o)||0,i=parseFloat(u)||0),y(e)&&(e=e.call(t,n,x.extend({},a))),null!=e.top&&(h.top=e.top-a.top+s),null!=e.left&&(h.left=e.left-a.left+i),"using"in e?e.using.call(t,h):l.css(h)}},x.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){x.offset.setOffset(this,t,e)});var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,r=this[0],i={top:0,left:0};if("fixed"===x.css(r,"position"))e=r.getBoundingClientRect();else{for(e=this.offset(),n=r.ownerDocument,t=r.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===x.css(t,"position");)t=t.parentNode;t&&t!==r&&1===t.nodeType&&((i=x(t).offset()).top+=x.css(t,"borderTopWidth",!0),i.left+=x.css(t,"borderLeftWidth",!0))}return{top:e.top-i.top-x.css(r,"marginTop",!0),left:e.left-i.left-x.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===x.css(t,"position");)t=t.offsetParent;return t||Ct})}}),x.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;x.fn[t]=function(r){return H(this,function(t,r,i){var o;if(b(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===i)return o?o[e]:t[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):t[r]=i},t,r,arguments.length)}}),x.each(["top","left"],function(t,e){x.cssHooks[e]=Vt(v.pixelPosition,function(t,n){if(n)return n=Ut(t,e),zt.test(n)?x(t).position()[e]+"px":n})}),x.each({Height:"height",Width:"width"},function(t,e){x.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,r){x.fn[r]=function(i,o){var s=arguments.length&&(n||"boolean"!=typeof i),a=n||(!0===i||!0===o?"margin":"border");return H(this,function(e,n,i){var o;return b(e)?0===r.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===i?x.css(e,n,a):x.style(e,n,i,a)},e,s?i:void 0,s)}})}),x.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){x.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),x.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),x.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),x.proxy=function(t,e){var n,r,i;if("string"==typeof e&&(n=t[e],e=t,t=n),y(t))return r=u.call(arguments,2),(i=function(){return t.apply(e||this,r.concat(u.call(arguments)))}).guid=t.guid=t.guid||x.guid++,i},x.holdReady=function(t){t?x.readyWait++:x.ready(!0)},x.isArray=Array.isArray,x.parseJSON=JSON.parse,x.nodeName=T,x.isFunction=y,x.isWindow=b,x.camelCase=Y,x.type=C,x.now=Date.now,x.isNumeric=function(t){var e=x.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},void 0===(r=function(){return x}.apply(e,[]))||(t.exports=r);var Ke=n.jQuery,Ge=n.$;return x.noConflict=function(t){return n.$===x&&(n.$=Ge),t&&n.jQuery===x&&(n.jQuery=Ke),x},i||(n.jQuery=n.$=x),x})},function(t,e){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(t){var e=t,i=t.indexOf("["),o=t.indexOf("]");-1!=i&&-1!=o&&(t=t.substring(0,i)+t.substring(i,o).replace(/:/g,";")+t.substring(o,t.length));for(var s=n.exec(t||""),a={},u=14;u--;)a[r[u]]=s[u]||"";return-1!=i&&-1!=o&&(a.source=e,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){(function(e){t.exports=function(t){return n&&e.Buffer.isBuffer(t)||r&&(t instanceof e.ArrayBuffer||i(t))};var n="function"==typeof e.Buffer&&"function"==typeof e.Buffer.isBuffer,r="function"==typeof e.ArrayBuffer,i=r&&"function"==typeof e.ArrayBuffer.isView?e.ArrayBuffer.isView:function(t){return t.buffer instanceof e.ArrayBuffer}}).call(e,n(1))},function(t,e,n){var r=n(60),i=n(26),o=n(4),s=n(12),a=n(27),u=n(28),c=n(7)("socket.io-client:manager"),l=n(25),h=n(80),p=Object.prototype.hasOwnProperty;function f(t,e){if(!(this instanceof f))return new f(t,e);t&&"object"==typeof t&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new h({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState="closed",this.uri=t,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=e.parser||s;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==e.autoConnect,this.autoConnect&&this.open()}t.exports=f,f.prototype.emitAll=function(){for(var t in this.emit.apply(this,arguments),this.nsps)p.call(this.nsps,t)&&this.nsps[t].emit.apply(this.nsps[t],arguments)},f.prototype.updateSocketIds=function(){for(var t in this.nsps)p.call(this.nsps,t)&&(this.nsps[t].id=this.generateId(t))},f.prototype.generateId=function(t){return("/"===t?"":t+"#")+this.engine.id},o(f.prototype),f.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},f.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},f.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},f.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},f.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},f.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},f.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},f.prototype.open=f.prototype.connect=function(t,e){if(c("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;c("opening %s",this.uri),this.engine=r(this.uri,this.opts);var n=this.engine,i=this;this.readyState="opening",this.skipReconnect=!1;var o=a(n,"open",function(){i.onopen(),t&&t()}),s=a(n,"error",function(e){if(c("connect_error"),i.cleanup(),i.readyState="closed",i.emitAll("connect_error",e),t){var n=new Error("Connection error");n.data=e,t(n)}else i.maybeReconnectOnOpen()});if(!1!==this._timeout){var u=this._timeout;c("connect attempt will timeout after %d",u);var l=setTimeout(function(){c("connect attempt timed out after %d",u),o.destroy(),n.close(),n.emit("error","timeout"),i.emitAll("connect_timeout",u)},u);this.subs.push({destroy:function(){clearTimeout(l)}})}return this.subs.push(o),this.subs.push(s),this},f.prototype.onopen=function(){c("open"),this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(a(t,"data",u(this,"ondata"))),this.subs.push(a(t,"ping",u(this,"onping"))),this.subs.push(a(t,"pong",u(this,"onpong"))),this.subs.push(a(t,"error",u(this,"onerror"))),this.subs.push(a(t,"close",u(this,"onclose"))),this.subs.push(a(this.decoder,"decoded",u(this,"ondecoded")))},f.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},f.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},f.prototype.ondata=function(t){this.decoder.add(t)},f.prototype.ondecoded=function(t){this.emit("packet",t)},f.prototype.onerror=function(t){c("error",t),this.emitAll("error",t)},f.prototype.socket=function(t,e){var n=this.nsps[t];if(!n){n=new i(this,t,e),this.nsps[t]=n;var r=this;n.on("connecting",o),n.on("connect",function(){n.id=r.generateId(t)}),this.autoConnect&&o()}function o(){~l(r.connecting,n)||r.connecting.push(n)}return n},f.prototype.destroy=function(t){var e=l(this.connecting,t);~e&&this.connecting.splice(e,1),this.connecting.length||this.close()},f.prototype.packet=function(t){c("writing packet %j",t);var e=this;t.query&&0===t.type&&(t.nsp+="?"+t.query),e.encoding?e.packetBuffer.push(t):(e.encoding=!0,this.encoder.encode(t,function(n){for(var r=0;r<n.length;r++)e.engine.write(n[r],t.options);e.encoding=!1,e.processPacketQueue()}))},f.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},f.prototype.cleanup=function(){c("cleanup");for(var t=this.subs.length,e=0;e<t;e++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},f.prototype.close=f.prototype.disconnect=function(){c("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},f.prototype.onclose=function(t){c("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},f.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)c("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();c("will wait %dms before reconnect attempt",e),this.reconnecting=!0;var n=setTimeout(function(){t.skipReconnect||(c("attempting reconnect"),t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),t.skipReconnect||t.open(function(e){e?(c("reconnect attempt error"),t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",e.data)):(c("reconnect success"),t.onreconnect())}))},e);this.subs.push({destroy:function(){clearTimeout(n)}})}},f.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",t)}},function(t,e,n){(function(t){var r=n(13),i=n(63),o=n(76),s=n(77);e.polling=function(e){var n=!1,s=!1,a=!1!==e.jsonp;if(t.location){var u="https:"===location.protocol,c=location.port;c||(c=u?443:80),n=e.hostname!==location.hostname||c!==e.port,s=e.secure!==u}if(e.xdomain=n,e.xscheme=s,"open"in new r(e)&&!e.forceJSONP)return new i(e);if(!a)throw new Error("JSONP disabled");return new o(e)},e.websocket=s}).call(e,n(1))},function(t,e,n){var r=n(14),i=n(8),o=n(5),s=n(9),a=n(24),u=n(10)("engine.io-client:polling");t.exports=l;var c=null!=new(n(13))({xdomain:!1}).responseType;function l(t){var e=t&&t.forceBase64;c&&!e||(this.supportsBinary=!1),r.call(this,t)}s(l,r),l.prototype.name="polling",l.prototype.doOpen=function(){this.poll()},l.prototype.pause=function(t){var e=this;function n(){u("paused"),e.readyState="paused",t()}if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(u("we are currently polling - waiting to pause"),r++,this.once("pollComplete",function(){u("pre-pause polling complete"),--r||n()})),this.writable||(u("we are currently writing - waiting to pause"),r++,this.once("drain",function(){u("pre-pause writing complete"),--r||n()}))}else n()},l.prototype.poll=function(){u("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},l.prototype.onData=function(t){var e=this;u("polling got data %s",t);o.decodePayload(t,this.socket.binaryType,function(t,n,r){if("opening"===e.readyState&&e.onOpen(),"close"===t.type)return e.onClose(),!1;e.onPacket(t)}),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():u('ignoring poll - transport state "%s"',this.readyState))},l.prototype.doClose=function(){var t=this;function e(){u("writing close packet"),t.write([{type:"close"}])}"open"===this.readyState?(u("transport open - closing"),e()):(u("transport not open - deferring close"),this.once("open",e))},l.prototype.write=function(t){var e=this;this.writable=!1;var n=function(){e.writable=!0,e.emit("drain")};o.encodePayload(t,this.supportsBinary,function(t){e.doWrite(t,n)})},l.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(t[this.timestampParam]=a()),this.supportsBinary||t.sid||(t.b64=1),t=i.encode(t),this.port&&("https"===e&&443!==Number(this.port)||"http"===e&&80!==Number(this.port))&&(n=":"+this.port),t.length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+t}},function(t,e,n){(function(e){var r=n(69),i=Object.prototype.toString,o="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===i.call(Blob),s="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===i.call(File);t.exports=function t(n){if(!n||"object"!=typeof n)return!1;if(r(n)){for(var i=0,a=n.length;i<a;i++)if(t(n[i]))return!0;return!1}if("function"==typeof e&&e.isBuffer&&e.isBuffer(n)||"function"==typeof ArrayBuffer&&n instanceof ArrayBuffer||o&&n instanceof Blob||s&&n instanceof File)return!0;if(n.toJSON&&"function"==typeof n.toJSON&&1===arguments.length)return t(n.toJSON(),!0);for(var u in n)if(Object.prototype.hasOwnProperty.call(n,u)&&t(n[u]))return!0;return!1}}).call(e,n(65).Buffer)},function(t,e,n){"use strict";var r,i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),o=64,s={},a=0,u=0;function c(t){var e="";do{e=i[t%o]+e,t=Math.floor(t/o)}while(t>0);return e}function l(){var t=c(+new Date);return t!==r?(a=0,r=t):t+"."+c(a++)}for(;u<o;u++)s[i[u]]=u;l.encode=c,l.decode=function(t){var e=0;for(u=0;u<t.length;u++)e=e*o+s[t.charAt(u)];return e},t.exports=l},function(t,e){var n=[].indexOf;t.exports=function(t,e){if(n)return t.indexOf(e);for(var r=0;r<t.length;++r)if(t[r]===e)return r;return-1}},function(t,e,n){var r=n(12),i=n(4),o=n(79),s=n(27),a=n(28),u=n(7)("socket.io-client:socket"),c=n(8),l=n(23);t.exports=f;var h={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},p=i.prototype.emit;function f(t,e,n){this.io=t,this.nsp=e,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}i(f.prototype),f.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[s(t,"open",a(this,"onopen")),s(t,"packet",a(this,"onpacket")),s(t,"close",a(this,"onclose"))]}},f.prototype.open=f.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},f.prototype.send=function(){var t=o(arguments);return t.unshift("message"),this.emit.apply(this,t),this},f.prototype.emit=function(t){if(h.hasOwnProperty(t))return p.apply(this,arguments),this;var e=o(arguments),n={type:(void 0!==this.flags.binary?this.flags.binary:l(e))?r.BINARY_EVENT:r.EVENT,data:e,options:{}};return n.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof e[e.length-1]&&(u("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),this.flags={},this},f.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},f.prototype.onopen=function(){if(u("transport is open - connecting"),"/"!==this.nsp)if(this.query){var t="object"==typeof this.query?c.encode(this.query):this.query;u("sending connect packet with query %s",t),this.packet({type:r.CONNECT,query:t})}else this.packet({type:r.CONNECT})},f.prototype.onclose=function(t){u("close (%s)",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",t)},f.prototype.onpacket=function(t){var e=t.nsp===this.nsp,n=t.type===r.ERROR&&"/"===t.nsp;if(e||n)switch(t.type){case r.CONNECT:this.onconnect();break;case r.EVENT:case r.BINARY_EVENT:this.onevent(t);break;case r.ACK:case r.BINARY_ACK:this.onack(t);break;case r.DISCONNECT:this.ondisconnect();break;case r.ERROR:this.emit("error",t.data)}},f.prototype.onevent=function(t){var e=t.data||[];u("emitting event %j",e),null!=t.id&&(u("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?p.apply(this,e):this.receiveBuffer.push(e)},f.prototype.ack=function(t){var e=this,n=!1;return function(){if(!n){n=!0;var i=o(arguments);u("sending ack %j",i),e.packet({type:l(i)?r.BINARY_ACK:r.ACK,id:t,data:i})}}},f.prototype.onack=function(t){var e=this.acks[t.id];"function"==typeof e?(u("calling ack %s with %j",t.id,t.data),e.apply(this,t.data),delete this.acks[t.id]):u("bad ack %s",t.id)},f.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},f.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)p.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},f.prototype.ondisconnect=function(){u("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},f.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},f.prototype.close=f.prototype.disconnect=function(){return this.connected&&(u("performing disconnect (%s)",this.nsp),this.packet({type:r.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},f.prototype.compress=function(t){return this.flags.compress=t,this},f.prototype.binary=function(t){return this.flags.binary=t,this}},function(t,e){t.exports=function(t,e,n){return t.on(e,n),{destroy:function(){t.removeListener(e,n)}}}},function(t,e){var n=[].slice;t.exports=function(t,e){if("string"==typeof e&&(e=t[e]),"function"!=typeof e)throw new Error("bind() requires a function");var r=n.call(arguments,2);return function(){return e.apply(t,r.concat(n.call(arguments)))}}},function(t,e,n){(function(t){$=n(16),jQuery=$,JSON5=n(34),n(35),Papa=n(36),table4Export=[],FileSaver=n(37);var e=n(2);window.Ractive=e,e.DEBUG=!("127.0.0.1"!=window.location.hostname&&"localhost"!=window.location.hostname),ISMOBILE=window.innerWidth<=800,window.addEventListener("resize",function(t){ISMOBILE=window.innerWidth<=800}),window.rt=n(38);var r=n(40);window.accounting=r;var i=n(41);window.timeago=i;var o=n(42);async function s(){var e=await db.getItem("company_id");ractive.set("company_id",e);var n=await db.getItem("setings");ractive.set("setings",n);var r=await db.getItem("rows");ractive.set("rows",r);var i=await db.getItem("ts");ractive.set("ts",i);var o=await db.getItem("rola");ractive.set("rola",o),t.log(ractive.get())}async function a(){t.log("onDeviceReady");var r=n(53);window.localforage=r;var i=r.createInstance();await i.ready(),window.db=i;var a=new e.components.Root({el:"body",append:!1});window.ractive=a;var u=n(54).connect("https://panlite.rs/webclient");window.socket=u,u.on("connect",async function(){var e=await i.getItem("company_id"),n=await i.getItem("username"),r=await i.getItem("userpass");t.log("connection, sending company_id",e),u.emit("company_id",{company_id:e,username:n,userpass:r})}),u.on("msg",function(e){"object"==typeof e&&e.type&&e.msg&&(o[e.type]({message:e.msg}),(e.code="login_failed")&&a.set("selectedModule","settings")),t.log("msg from server",e)}),u.on("setings",async function(e){t.log("setings",e),await i.setItem("setings",e);var n=a.get("selectedModule");if(n&&e&&e[n]&&(!e[n].columns||e[n].columns&&0==e[n].columns.length)){var r=a.get("setings."+n+".columns");e[n].columns=r}a.set("setings",e)}),u.on("rola",async function(e){t.log("rola",e),await i.setItem("rola",e),a.set("rola",e)}),u.on("set_rows",async function(e,n){t.log("set_rows",e,n),a.set("rows."+e,n);var r=await i.getItem("rows");r||(r={}),r[e]=n,await i.setItem("rows",r);var o=new Date;a.set("ts."+e,o);var s=await i.getItem("ts");s||(s={}),s[e]=o,await i.setItem("ts",s)}),document.addEventListener("backbutton",function(){var t=$.Event("keydown",{keyCode:27});$("body").trigger(t)},!1),s()}window.izitoast=o,o.settings({progressBar:!1}),e.prototype.unset=function(t){var e=t.lastIndexOf("."),n=t.substr(0,e),r=t.substring(e+1);return this.set(t),delete this.get(n)[r],this.update(t)},e.defaults.data.formatNumber=function(t,e=2){return r.formatNumber(t,e," ")},e.defaults.data.arraySum=function(t,e){if(!t||!t.length||!e)return 0;for(var n=t.length,r=0,i=0;i<n;i++)r+=t[i][e];return r},e.defaults.data.timeago=function(t){return t?i().format(t):"Never"},e.defaults.data.escapejson=function(t){return t.replace(/[\\]/g,"\\\\").replace(/[\"]/g,'\\"').replace(/[\/]/g,"\\/").replace(/[\b]/g,"\\b").replace(/[\f]/g,"\\f").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\t]/g,"\\t")},e.components.Root=n(43),e.components.f2table=n(44),e.components.dospece=n(45),e.components.modal=n(46),e.components.Grid=n(47),e.components.GridNested=n(48),e.components.settings=n(49),e.components.NarucivanjeSAVE=n(50),e.components.Selectize=n(51),e.components.Login=n(52),document.addEventListener("deviceready",a,!1),window.cordova||a(),history.pushState(null,"PanLite","index.html"),window.onpopstate=function(){history.pushState(null,"PanLite","index.html");var t=$.Event("keydown",{keyCode:27});$("body").trigger(t)},$("body").on("keydown",function(t){if(27==t.keyCode)return t.stopImmediatePropagation(),ractive.get("QRScannerActive")?(ractive.set("QRScannerActive",!1),void QRScanner.destroy()):(ractive.get("selectedModule")?ractive.set("selectedModule",null):navigator.app.exitApp(),!1)})}).call(e,n(0))},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){"use strict";(function(e){function r(t,e){if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0}function i(t){return e.Buffer&&"function"==typeof e.Buffer.isBuffer?e.Buffer.isBuffer(t):!(null==t||!t._isBuffer)}var o=n(15),s=Object.prototype.hasOwnProperty,a=Array.prototype.slice,u="foo"===function(){}.name;function c(t){return Object.prototype.toString.call(t)}function l(t){return!i(t)&&("function"==typeof e.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer))))}var h=t.exports=v,p=/\s*function\s+([^\(\s]*)\s*/;function f(t){if(o.isFunction(t)){if(u)return t.name;var e=t.toString().match(p);return e&&e[1]}}function d(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function g(t){if(u||!o.isFunction(t))return o.inspect(t);var e=f(t);return"[Function"+(e?": "+e:"")+"]"}function m(t,e,n,r,i){throw new h.AssertionError({message:n,actual:t,expected:e,operator:r,stackStartFunction:i})}function v(t,e){t||m(t,!0,e,"==",h.ok)}function y(t,e,n,s){if(t===e)return!0;if(i(t)&&i(e))return 0===r(t,e);if(o.isDate(t)&&o.isDate(e))return t.getTime()===e.getTime();if(o.isRegExp(t)&&o.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"==typeof t||null!==e&&"object"==typeof e){if(l(t)&&l(e)&&c(t)===c(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===r(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(i(t)!==i(e))return!1;var u=(s=s||{actual:[],expected:[]}).actual.indexOf(t);return-1!==u&&u===s.expected.indexOf(e)||(s.actual.push(t),s.expected.push(e),function(t,e,n,r){if(null==t||null==e)return!1;if(o.isPrimitive(t)||o.isPrimitive(e))return t===e;if(n&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var i=b(t),s=b(e);if(i&&!s||!i&&s)return!1;if(i)return t=a.call(t),e=a.call(e),y(t,e,n);var u,c,l=C(t),h=C(e);if(l.length!==h.length)return!1;for(l.sort(),h.sort(),c=l.length-1;c>=0;c--)if(l[c]!==h[c])return!1;for(c=l.length-1;c>=0;c--)if(u=l[c],!y(t[u],e[u],n,r))return!1;return!0}(t,e,n,s))}return n?t===e:t==e}function b(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function w(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(t){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function D(t,e,n,r){var i;if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),i=function(t){var e;try{t()}catch(t){e=t}return e}(e),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),t&&!i&&m(i,n,"Missing expected exception"+r);var s="string"==typeof r,a=!t&&i&&!n;if((!t&&o.isError(i)&&s&&w(i,n)||a)&&m(i,n,"Got unwanted exception"+r),t&&i&&n&&!w(i,n)||!t&&i)throw i}h.AssertionError=function(t){var e;this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=d(g((e=this).actual),128)+" "+e.operator+" "+d(g(e.expected),128),this.generatedMessage=!0);var n=t.stackStartFunction||m;if(Error.captureStackTrace)Error.captureStackTrace(this,n);else{var r=new Error;if(r.stack){var i=r.stack,o=f(n),s=i.indexOf("\n"+o);if(s>=0){var a=i.indexOf("\n",s+1);i=i.substring(a+1)}this.stack=i}}},o.inherits(h.AssertionError,Error),h.fail=m,h.ok=v,h.equal=function(t,e,n){t!=e&&m(t,e,n,"==",h.equal)},h.notEqual=function(t,e,n){t==e&&m(t,e,n,"!=",h.notEqual)},h.deepEqual=function(t,e,n){y(t,e,!1)||m(t,e,n,"deepEqual",h.deepEqual)},h.deepStrictEqual=function(t,e,n){y(t,e,!0)||m(t,e,n,"deepStrictEqual",h.deepStrictEqual)},h.notDeepEqual=function(t,e,n){y(t,e,!1)&&m(t,e,n,"notDeepEqual",h.notDeepEqual)},h.notDeepStrictEqual=function t(e,n,r){y(e,n,!0)&&m(e,n,r,"notDeepStrictEqual",t)},h.strictEqual=function(t,e,n){t!==e&&m(t,e,n,"===",h.strictEqual)},h.notStrictEqual=function(t,e,n){t===e&&m(t,e,n,"!==",h.notStrictEqual)},h.throws=function(t,e,n){D(!0,t,e,n)},h.doesNotThrow=function(t,e,n){D(!1,t,e,n)},h.ifError=function(t){if(t)throw t};var C=Object.keys||function(t){var e=[];for(var n in t)s.call(t,n)&&e.push(n);return e}}).call(e,n(1))},function(t,e){t.exports=function(){return(new Date).getTime()}},function(t,e,n){(function(e){var n;n=function(){"use strict";function t(t,e){return t(e={exports:{}},e.exports),e.exports}var n=t(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),r=t(function(t){var e=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=e)}),i=(r.version,function(t){return"object"==typeof t?null!==t:"function"==typeof t}),o=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t},s=function(t){try{return!!t()}catch(t){return!0}},a=!s(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),u=n.document,c=i(u)&&i(u.createElement),l=!a&&!s(function(){return 7!=Object.defineProperty((t="div",c?u.createElement(t):{}),"a",{get:function(){return 7}}).a;var t}),h=Object.defineProperty,p={f:a?Object.defineProperty:function(t,e,n){if(o(t),e=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}(e,!0),o(n),l)try{return h(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},f=a?function(t,e,n){return p.f(t,e,function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}(1,n))}:function(t,e,n){return t[e]=n,t},d={}.hasOwnProperty,g=function(t,e){return d.call(t,e)},m=0,v=Math.random(),y=t(function(t){var e,i="Symbol(".concat(void 0===(e="src")?"":e,")_",(++m+v).toString(36)),o=Function.toString,s=(""+o).split("toString");r.inspectSource=function(t){return o.call(t)},(t.exports=function(t,e,r,o){var a="function"==typeof r;a&&(g(r,"name")||f(r,"name",e)),t[e]!==r&&(a&&(g(r,i)||f(r,i,t[e]?""+t[e]:s.join(String(e)))),t===n?t[e]=r:o?t[e]?t[e]=r:f(t,e,r):(delete t[e],f(t,e,r)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[i]||o.call(this)})}),b=function(t,e,n){if(function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!")}(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}},w=function(t,e,i){var o,s,a,u,c=t&w.F,l=t&w.G,h=t&w.S,p=t&w.P,d=t&w.B,g=l?n:h?n[e]||(n[e]={}):(n[e]||{}).prototype,m=l?r:r[e]||(r[e]={}),v=m.prototype||(m.prototype={});for(o in l&&(i=e),i)a=((s=!c&&g&&void 0!==g[o])?g:i)[o],u=d&&s?b(a,n):p&&"function"==typeof a?b(Function.call,a):a,g&&y(g,o,a,t&w.U),m[o]!=a&&f(m,o,u),p&&v[o]!=a&&(v[o]=a)};n.core=r,w.F=1,w.G=2,w.S=4,w.P=8,w.B=16,w.W=32,w.U=64,w.R=128;var D,C=w,x=Math.ceil,E=Math.floor,A=function(t){return isNaN(t=+t)?0:(t>0?E:x)(t)},F=(D=!1,function(t,e){var n,r,i=String(function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}(t)),o=A(e),s=i.length;return o<0||o>=s?D?"":void 0:(n=i.charCodeAt(o))<55296||n>56319||o+1===s||(r=i.charCodeAt(o+1))<56320||r>57343?D?i.charAt(o):n:D?i.slice(o,o+2):r-56320+(n-55296<<10)+65536});C(C.P,"String",{codePointAt:function(t){return F(this,t)}}),r.String.codePointAt;var _=Math.max,k=Math.min,S=String.fromCharCode,T=String.fromCodePoint;C(C.S+C.F*(!!T&&1!=T.length),"String",{fromCodePoint:function(t){for(var e,n,r,i=arguments,o=[],s=arguments.length,a=0;s>a;){if(e=+i[a++],r=1114111,((n=A(n=e))<0?_(n+r,0):k(n,r))!==e)throw RangeError(e+" is not a valid code point");o.push(e<65536?S(e):S(55296+((e-=65536)>>10),e%1024+56320))}return o.join("")}}),r.String.fromCodePoint;var O,B,N,I,R,j,P,M,L,z,$,q,U,V,H={Space_Separator:/[\u1680\u2000-\u200A\u202F\u205F\u3000]/,ID_Start:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,ID_Continue:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF9\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDE00-\uDE3E\uDE47\uDE50-\uDE83\uDE86-\uDE99\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/},W={isSpaceSeparator:function(t){return H.Space_Separator.test(t)},isIdStartChar:function(t){return t>="a"&&t<="z"||t>="A"&&t<="Z"||"$"===t||"_"===t||H.ID_Start.test(t)},isIdContinueChar:function(t){return t>="a"&&t<="z"||t>="A"&&t<="Z"||t>="0"&&t<="9"||"$"===t||"_"===t||""===t||""===t||H.ID_Continue.test(t)},isDigit:function(t){return/[0-9]/.test(t)},isHexDigit:function(t){return/[0-9A-Fa-f]/.test(t)}};function K(){for(z="default",$="",q=!1,U=1;;){V=G();var t=X[z]();if(t)return t}}function G(){if(O[I])return String.fromCodePoint(O.codePointAt(I))}function Y(){var t=G();return"\n"===t?(R++,j=0):t?j+=t.length:j++,t&&(I+=t.length),t}var X={default:function(){switch(V){case"\t":case"\v":case"\f":case" ":case"":case"\ufeff":case"\n":case"\r":case"\u2028":case"\u2029":return void Y();case"/":return Y(),void(z="comment");case void 0:return Y(),Q("eof")}if(!W.isSpaceSeparator(V))return X[B]();Y()},comment:function(){switch(V){case"*":return Y(),void(z="multiLineComment");case"/":return Y(),void(z="singleLineComment")}throw rt(Y())},multiLineComment:function(){switch(V){case"*":return Y(),void(z="multiLineCommentAsterisk");case void 0:throw rt(Y())}Y()},multiLineCommentAsterisk:function(){switch(V){case"*":return void Y();case"/":return Y(),void(z="default");case void 0:throw rt(Y())}Y(),z="multiLineComment"},singleLineComment:function(){switch(V){case"\n":case"\r":case"\u2028":case"\u2029":return Y(),void(z="default");case void 0:return Y(),Q("eof")}Y()},value:function(){switch(V){case"{":case"[":return Q("punctuator",Y());case"n":return Y(),J("ull"),Q("null",null);case"t":return Y(),J("rue"),Q("boolean",!0);case"f":return Y(),J("alse"),Q("boolean",!1);case"-":case"+":return"-"===Y()&&(U=-1),void(z="sign");case".":return $=Y(),void(z="decimalPointLeading");case"0":return $=Y(),void(z="zero");case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return $=Y(),void(z="decimalInteger");case"I":return Y(),J("nfinity"),Q("numeric",1/0);case"N":return Y(),J("aN"),Q("numeric",NaN);case'"':case"'":return q='"'===Y(),$="",void(z="string")}throw rt(Y())},identifierNameStartEscape:function(){if("u"!==V)throw rt(Y());Y();var t=Z();switch(t){case"$":case"_":break;default:if(!W.isIdStartChar(t))throw ot()}$+=t,z="identifierName"},identifierName:function(){switch(V){case"$":case"_":case"":case"":return void($+=Y());case"\\":return Y(),void(z="identifierNameEscape")}if(!W.isIdContinueChar(V))return Q("identifier",$);$+=Y()},identifierNameEscape:function(){if("u"!==V)throw rt(Y());Y();var t=Z();switch(t){case"$":case"_":case"":case"":break;default:if(!W.isIdContinueChar(t))throw ot()}$+=t,z="identifierName"},sign:function(){switch(V){case".":return $=Y(),void(z="decimalPointLeading");case"0":return $=Y(),void(z="zero");case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return $=Y(),void(z="decimalInteger");case"I":return Y(),J("nfinity"),Q("numeric",U*(1/0));case"N":return Y(),J("aN"),Q("numeric",NaN)}throw rt(Y())},zero:function(){switch(V){case".":return $+=Y(),void(z="decimalPoint");case"e":case"E":return $+=Y(),void(z="decimalExponent");case"x":case"X":return $+=Y(),void(z="hexadecimal")}return Q("numeric",0*U)},decimalInteger:function(){switch(V){case".":return $+=Y(),void(z="decimalPoint");case"e":case"E":return $+=Y(),void(z="decimalExponent")}if(!W.isDigit(V))return Q("numeric",U*Number($));$+=Y()},decimalPointLeading:function(){if(W.isDigit(V))return $+=Y(),void(z="decimalFraction");throw rt(Y())},decimalPoint:function(){switch(V){case"e":case"E":return $+=Y(),void(z="decimalExponent")}return W.isDigit(V)?($+=Y(),void(z="decimalFraction")):Q("numeric",U*Number($))},decimalFraction:function(){switch(V){case"e":case"E":return $+=Y(),void(z="decimalExponent")}if(!W.isDigit(V))return Q("numeric",U*Number($));$+=Y()},decimalExponent:function(){switch(V){case"+":case"-":return $+=Y(),void(z="decimalExponentSign")}if(W.isDigit(V))return $+=Y(),void(z="decimalExponentInteger");throw rt(Y())},decimalExponentSign:function(){if(W.isDigit(V))return $+=Y(),void(z="decimalExponentInteger");throw rt(Y())},decimalExponentInteger:function(){if(!W.isDigit(V))return Q("numeric",U*Number($));$+=Y()},hexadecimal:function(){if(W.isHexDigit(V))return $+=Y(),void(z="hexadecimalInteger");throw rt(Y())},hexadecimalInteger:function(){if(!W.isHexDigit(V))return Q("numeric",U*Number($));$+=Y()},string:function(){switch(V){case"\\":return Y(),void($+=function(){switch(G()){case"b":return Y(),"\b";case"f":return Y(),"\f";case"n":return Y(),"\n";case"r":return Y(),"\r";case"t":return Y(),"\t";case"v":return Y(),"\v";case"0":if(Y(),W.isDigit(G()))throw rt(Y());return"\0";case"x":return Y(),function(){var t="",e=G();if(!W.isHexDigit(e))throw rt(Y());if(t+=Y(),e=G(),!W.isHexDigit(e))throw rt(Y());return t+=Y(),String.fromCodePoint(parseInt(t,16))}();case"u":return Y(),Z();case"\n":case"\u2028":case"\u2029":return Y(),"";case"\r":return Y(),"\n"===G()&&Y(),"";case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case void 0:throw rt(Y())}return Y()}());case'"':return q?(Y(),Q("string",$)):void($+=Y());case"'":return q?void($+=Y()):(Y(),Q("string",$));case"\n":case"\r":throw rt(Y());case"\u2028":case"\u2029":!function(t){e.warn("JSON5: '"+st(t)+"' in strings is not valid ECMAScript; consider escaping")}(V);break;case void 0:throw rt(Y())}$+=Y()},start:function(){switch(V){case"{":case"[":return Q("punctuator",Y())}z="value"},beforePropertyName:function(){switch(V){case"$":case"_":return $=Y(),void(z="identifierName");case"\\":return Y(),void(z="identifierNameStartEscape");case"}":return Q("punctuator",Y());case'"':case"'":return q='"'===Y(),void(z="string")}if(W.isIdStartChar(V))return $+=Y(),void(z="identifierName");throw rt(Y())},afterPropertyName:function(){if(":"===V)return Q("punctuator",Y());throw rt(Y())},beforePropertyValue:function(){z="value"},afterPropertyValue:function(){switch(V){case",":case"}":return Q("punctuator",Y())}throw rt(Y())},beforeArrayValue:function(){if("]"===V)return Q("punctuator",Y());z="value"},afterArrayValue:function(){switch(V){case",":case"]":return Q("punctuator",Y())}throw rt(Y())},end:function(){throw rt(Y())}};function Q(t,e){return{type:t,value:e,line:R,column:j}}function J(t){for(var e=0,n=t;e<n.length;e+=1){var r=n[e];if(G()!==r)throw rt(Y());Y()}}function Z(){for(var t="",e=4;e-- >0;){var n=G();if(!W.isHexDigit(n))throw rt(Y());t+=Y()}return String.fromCodePoint(parseInt(t,16))}var tt={start:function(){if("eof"===P.type)throw it();et()},beforePropertyName:function(){switch(P.type){case"identifier":case"string":return M=P.value,void(B="afterPropertyName");case"punctuator":return void nt();case"eof":throw it()}},afterPropertyName:function(){if("eof"===P.type)throw it();B="beforePropertyValue"},beforePropertyValue:function(){if("eof"===P.type)throw it();et()},beforeArrayValue:function(){if("eof"===P.type)throw it();"punctuator"!==P.type||"]"!==P.value?et():nt()},afterPropertyValue:function(){if("eof"===P.type)throw it();switch(P.value){case",":return void(B="beforePropertyName");case"}":nt()}},afterArrayValue:function(){if("eof"===P.type)throw it();switch(P.value){case",":return void(B="beforeArrayValue");case"]":nt()}},end:function(){}};function et(){var t;switch(P.type){case"punctuator":switch(P.value){case"{":t={};break;case"[":t=[]}break;case"null":case"boolean":case"numeric":case"string":t=P.value}if(void 0===L)L=t;else{var e=N[N.length-1];Array.isArray(e)?e.push(t):e[M]=t}if(null!==t&&"object"==typeof t)N.push(t),B=Array.isArray(t)?"beforeArrayValue":"beforePropertyName";else{var n=N[N.length-1];B=null==n?"end":Array.isArray(n)?"afterArrayValue":"afterPropertyValue"}}function nt(){N.pop();var t=N[N.length-1];B=null==t?"end":Array.isArray(t)?"afterArrayValue":"afterPropertyValue"}function rt(t){return at(void 0===t?"JSON5: invalid end of input at "+R+":"+j:"JSON5: invalid character '"+st(t)+"' at "+R+":"+j)}function it(){return at("JSON5: invalid end of input at "+R+":"+j)}function ot(){return at("JSON5: invalid identifier character at "+R+":"+(j-=5))}function st(t){var e={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};if(e[t])return e[t];if(t<" "){var n=t.charCodeAt(0).toString(16);return"\\x"+("00"+n).substring(n.length)}return t}function at(t){var e=new SyntaxError(t);return e.lineNumber=R,e.columnNumber=j,e}return{parse:function(t,e){O=String(t),B="start",N=[],I=0,R=1,j=0,P=void 0,M=void 0,L=void 0;do{P=K(),tt[B]()}while("eof"!==P.type);return"function"==typeof e?function t(e,n,r){var i=e[n];if(null!=i&&"object"==typeof i)for(var o in i){var s=t(i,o,r);void 0===s?delete i[o]:i[o]=s}return r.call(e,n,i)}({"":L},"",e):L},stringify:function(t,e,n){var r,i,o,s=[],a="",u="";if(null==e||"object"!=typeof e||Array.isArray(e)||(n=e.space,o=e.quote,e=e.replacer),"function"==typeof e)i=e;else if(Array.isArray(e)){r=[];for(var c=0,l=e;c<l.length;c+=1){var h=l[c],p=void 0;"string"==typeof h?p=h:("number"==typeof h||h instanceof String||h instanceof Number)&&(p=String(h)),void 0!==p&&r.indexOf(p)<0&&r.push(p)}}return n instanceof Number?n=Number(n):n instanceof String&&(n=String(n)),"number"==typeof n?n>0&&(n=Math.min(10,Math.floor(n)),u="          ".substr(0,n)):"string"==typeof n&&(u=n.substr(0,10)),f("",{"":t});function f(t,e){var n=e[t];switch(null!=n&&("function"==typeof n.toJSON5?n=n.toJSON5(t):"function"==typeof n.toJSON&&(n=n.toJSON(t))),i&&(n=i.call(e,t,n)),n instanceof Number?n=Number(n):n instanceof String?n=String(n):n instanceof Boolean&&(n=n.valueOf()),n){case null:return"null";case!0:return"true";case!1:return"false"}return"string"==typeof n?d(n):"number"==typeof n?String(n):"object"==typeof n?Array.isArray(n)?function(t){if(s.indexOf(t)>=0)throw TypeError("Converting circular structure to JSON5");s.push(t);var e=a;a+=u;for(var n,r=[],i=0;i<t.length;i++){var o=f(String(i),t);r.push(void 0!==o?o:"null")}if(0===r.length)n="[]";else if(""===u){var c=r.join(",");n="["+c+"]"}else{var l=",\n"+a,h=r.join(l);n="[\n"+a+h+",\n"+e+"]"}return s.pop(),a=e,n}(n):function(t){if(s.indexOf(t)>=0)throw TypeError("Converting circular structure to JSON5");s.push(t);var e=a;a+=u;for(var n,i,o=r||Object.keys(t),c=[],l=0,h=o;l<h.length;l+=1){var p=h[l],d=f(p,t);if(void 0!==d){var m=g(p)+":";""!==u&&(m+=" "),m+=d,c.push(m)}}if(0===c.length)n="{}";else if(""===u)i=c.join(","),n="{"+i+"}";else{var v=",\n"+a;i=c.join(v),n="{\n"+a+i+",\n"+e+"}"}return s.pop(),a=e,n}(n):void 0}function d(t){for(var e={"'":.1,'"':.2},n={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"},r="",i=0,s=t;i<s.length;i+=1){var a=s[i];switch(a){case"'":case'"':e[a]++,r+=a;continue}if(n[a])r+=n[a];else if(a<" "){var u=a.charCodeAt(0).toString(16);r+="\\x"+("00"+u).substring(u.length)}else r+=a}var c=o||Object.keys(e).reduce(function(t,n){return e[t]<e[n]?t:n});return c+(r=r.replace(new RegExp(c,"g"),n[c]))+c}function g(t){if(0===t.length)return d(t);var e=String.fromCodePoint(t.codePointAt(0));if(!W.isIdStartChar(e))return d(t);for(var n=e.length;n<t.length;n++)if(!W.isIdContinueChar(String.fromCodePoint(t.codePointAt(n))))return d(t);return t}}}},t.exports=n()}).call(e,n(0))},function(t,e,n){var r,i,o,s,a,u,c,l,h;o={id:"sifter",exports:{},loaded:!1},r="function"==typeof(i=function(){var t=function(t,e){this.items=t,this.settings=e||{diacritics:!0}};t.prototype.tokenize=function(t){if(!(t=r(String(t||"").toLowerCase()))||!t.length)return[];var e,n,o,a,u=[],c=t.split(/ +/);for(e=0,n=c.length;e<n;e++){if(o=i(c[e]),this.settings.diacritics)for(a in s)s.hasOwnProperty(a)&&(o=o.replace(new RegExp(a,"g"),s[a]));u.push({string:c[e],regex:new RegExp(o,"i")})}return u},t.prototype.iterator=function(t,e){(o(t)?Array.prototype.forEach||function(t){for(var e=0,n=this.length;e<n;e++)t(this[e],e,this)}:function(t){for(var e in this)this.hasOwnProperty(e)&&t(this[e],e,this)}).apply(t,[e])},t.prototype.getScoreFunction=function(t,e){var n,r,i;t=this.prepareSearch(t,e),r=t.tokens,n=t.options.fields,i=r.length;var o,s=function(t,e){var n,r;return t?-1===(r=(t=String(t||"")).search(e.regex))?0:(n=e.string.length/t.length,0===r&&(n+=.5),n):0},a=(o=n.length)?1===o?function(t,e){return s(e[n[0]],t)}:function(t,e){for(var r=0,i=0;r<o;r++)i+=s(e[n[r]],t);return i/o}:function(){return 0};return i?1===i?function(t){return a(r[0],t)}:"and"===t.options.conjunction?function(t){for(var e,n=0,o=0;n<i;n++){if((e=a(r[n],t))<=0)return 0;o+=e}return o/i}:function(t){for(var e=0,n=0;e<i;e++)n+=a(r[e],t);return n/i}:function(){return 0}},t.prototype.getSortFunction=function(t,n){var r,i,o,s,a,u,c,l,h,p,f;if(f=!(t=(o=this).prepareSearch(t,n)).query&&n.sort_empty||n.sort,h=function(t,e){return"$score"===t?e.score:o.items[e.id][t]},a=[],f)for(r=0,i=f.length;r<i;r++)(t.query||"$score"!==f[r].field)&&a.push(f[r]);if(t.query){for(p=!0,r=0,i=a.length;r<i;r++)if("$score"===a[r].field){p=!1;break}p&&a.unshift({field:"$score",direction:"desc"})}else for(r=0,i=a.length;r<i;r++)if("$score"===a[r].field){a.splice(r,1);break}for(l=[],r=0,i=a.length;r<i;r++)l.push("desc"===a[r].direction?-1:1);return(u=a.length)?1===u?(s=a[0].field,c=l[0],function(t,n){return c*e(h(s,t),h(s,n))}):function(t,n){var r,i,o;for(r=0;r<u;r++)if(o=a[r].field,i=l[r]*e(h(o,t),h(o,n)))return i;return 0}:null},t.prototype.prepareSearch=function(t,e){if("object"==typeof t)return t;var r=(e=n({},e)).fields,i=e.sort,s=e.sort_empty;return r&&!o(r)&&(e.fields=[r]),i&&!o(i)&&(e.sort=[i]),s&&!o(s)&&(e.sort_empty=[s]),{options:e,query:String(t||"").toLowerCase(),tokens:this.tokenize(t),total:0,items:[]}},t.prototype.search=function(t,e){var n,r,i,o;return r=this.prepareSearch(t,e),e=r.options,t=r.query,o=e.score||this.getScoreFunction(r),t.length?this.iterator(this.items,function(t,i){n=o(t),(!1===e.filter||n>0)&&r.items.push({score:n,id:i})}):this.iterator(this.items,function(t,e){r.items.push({score:1,id:e})}),(i=this.getSortFunction(r,e))&&r.items.sort(i),r.total=r.items.length,"number"==typeof e.limit&&(r.items=r.items.slice(0,e.limit)),r};var e=function(t,e){return"number"==typeof t&&"number"==typeof e?t>e?1:t<e?-1:0:(t=a(String(t||"")))>(e=a(String(e||"")))?1:e>t?-1:0},n=function(t,e){var n,r,i,o;for(n=1,r=arguments.length;n<r;n++)if(o=arguments[n])for(i in o)o.hasOwnProperty(i)&&(t[i]=o[i]);return t},r=function(t){return(t+"").replace(/^\s+|\s+$|/g,"")},i=function(t){return(t+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},o=Array.isArray||$&&$.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},s={a:"[aAaaA]",c:"[ccCcC]",d:"[dddD]",e:"[eeEEeeE]",i:"[iIi]",l:"[llL]",n:"[nnNnN]",o:"[oOo]",r:"[rrR]",s:"[ssS]",t:"[ttT]",u:"[uuUUu]",y:"[y]",z:"[zzZzZ]"},a=function(){var t,e,n,r,i="",o={};for(n in s)if(s.hasOwnProperty(n))for(i+=r=s[n].substring(2,s[n].length-1),t=0,e=r.length;t<e;t++)o[r.charAt(t)]=n;var a=new RegExp("["+i+"]","g");return function(t){return t.replace(a,function(t){return o[t]}).toLowerCase()}}();return t})?i.call(o.exports,n,o.exports,o):i,o.loaded=!0,void 0!==r||(r=o.exports),function(t,e){u={id:"microplugin",exports:{},loaded:!1},s="function"==typeof(a=e)?a.call(u.exports,n,u.exports,u):a,u.loaded=!0,void 0!==s||(s=u.exports)}(0,function(){var t={mixin:function(t){t.plugins={},t.prototype.initializePlugins=function(t){var n,r,i,o=[];if(this.plugins={names:[],settings:{},requested:{},loaded:{}},e.isArray(t))for(n=0,r=t.length;n<r;n++)"string"==typeof t[n]?o.push(t[n]):(this.plugins.settings[t[n].name]=t[n].options,o.push(t[n].name));else if(t)for(i in t)t.hasOwnProperty(i)&&(this.plugins.settings[i]=t[i],o.push(i));for(;o.length;)this.require(o.shift())},t.prototype.loadPlugin=function(e){var n=this.plugins,r=t.plugins[e];if(!t.plugins.hasOwnProperty(e))throw new Error('Unable to find "'+e+'" plugin');n.requested[e]=!0,n.loaded[e]=r.fn.apply(this,[this.plugins.settings[e]||{}]),n.names.push(e)},t.prototype.require=function(t){var e=this.plugins;if(!this.plugins.loaded.hasOwnProperty(t)){if(e.requested[t])throw new Error('Plugin has circular dependency ("'+t+'")');this.loadPlugin(t)}return e.loaded[t]},t.define=function(e,n){t.plugins[e]={name:e,fn:n}}}},e={isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}};return t}),function(i,o){l=[n(16),r,s],void 0===(h="function"==typeof(c=o)?c.apply(e,l):c)||(t.exports=h)}(0,function(t,e,n){"use strict";var r=function(t,e){if("string"!=typeof e||e.length){var n="string"==typeof e?new RegExp(e,"i"):e,r=function(t){var e=0;if(3===t.nodeType){var i=t.data.search(n);if(i>=0&&t.data.length>0){var o=t.data.match(n),s=document.createElement("span");s.className="highlight";var a=t.splitText(i),u=(a.splitText(o[0].length),a.cloneNode(!0));s.appendChild(u),a.parentNode.replaceChild(s,a),e=1}}else if(1===t.nodeType&&t.childNodes&&!/(script|style)/i.test(t.tagName))for(var c=0;c<t.childNodes.length;++c)c+=r(t.childNodes[c]);return e};return t.each(function(){r(this)})}},i=function(){};i.prototype={on:function(t,e){this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(e)},off:function(t,e){var n=arguments.length;return 0===n?delete this._events:1===n?delete this._events[t]:(this._events=this._events||{},void(t in this._events!=!1&&this._events[t].splice(this._events[t].indexOf(e),1)))},trigger:function(t){if(this._events=this._events||{},t in this._events!=!1)for(var e=0;e<this._events[t].length;e++)this._events[t][e].apply(this,Array.prototype.slice.call(arguments,1))}},i.mixin=function(t){for(var e=["on","off","trigger"],n=0;n<e.length;n++)t.prototype[e[n]]=i.prototype[e[n]]};var o=/Mac/.test(navigator.userAgent),s=o?91:17,a=o?18:17,u=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("form").validity,c=function(t){return void 0!==t},l=function(t){return null==t?null:"boolean"==typeof t?t?"1":"0":t+""},h=function(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},p=function(t){return(t+"").replace(/\$/g,"$$$$")},f={before:function(t,e,n){var r=t[e];t[e]=function(){return n.apply(t,arguments),r.apply(t,arguments)}},after:function(t,e,n){var r=t[e];t[e]=function(){var e=r.apply(t,arguments);return n.apply(t,arguments),e}}},d=function(t,e,n){var r,i=t.trigger,o={};for(r in t.trigger=function(){var n=arguments[0];if(-1===e.indexOf(n))return i.apply(t,arguments);o[n]=arguments},n.apply(t,[]),t.trigger=i,o)o.hasOwnProperty(r)&&i.apply(t,o[r])},g=function(t){var e={};if("selectionStart"in t)e.start=t.selectionStart,e.length=t.selectionEnd-e.start;else if(document.selection){t.focus();var n=document.selection.createRange(),r=document.selection.createRange().text.length;n.moveStart("character",-t.value.length),e.start=n.text.length-r,e.length=r}return e},m=function(e){var n=null,r=function(r,i){var o,s,a,u,c,l,h,p;i=i||{},(r=r||window.event||{}).metaKey||r.altKey||(i.force||!1!==e.data("grow"))&&(o=e.val(),r.type&&"keydown"===r.type.toLowerCase()&&(a=(s=r.keyCode)>=97&&s<=122||s>=65&&s<=90||s>=48&&s<=57||32===s,46===s||8===s?(p=g(e[0])).length?o=o.substring(0,p.start)+o.substring(p.start+p.length):8===s&&p.start?o=o.substring(0,p.start-1)+o.substring(p.start+1):46===s&&void 0!==p.start&&(o=o.substring(0,p.start)+o.substring(p.start+1)):a&&(l=r.shiftKey,h=String.fromCharCode(r.keyCode),o+=h=l?h.toUpperCase():h.toLowerCase())),u=e.attr("placeholder"),!o&&u&&(o=u),(c=function(e,n){if(!e)return 0;var r=t("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(e).appendTo("body");!function(t,e,n){var r,i,o={};if(n)for(r=0,i=n.length;r<i;r++)o[n[r]]=t.css(n[r]);else o=t.css();e.css(o)}(n,r,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]);var i=r.width();return r.remove(),i}(o,e)+4)!==n&&(n=c,e.width(c),e.triggerHandler("resize")))};e.on("keydown keyup update blur",r),r()},v=function(n,r){var i,o,s,a;(a=n[0]).selectize=this;var u,c,l,h=window.getComputedStyle&&window.getComputedStyle(a,null);if(s=(s=h?h.getPropertyValue("direction"):a.currentStyle&&a.currentStyle.direction)||n.parents("[dir]:first").attr("dir")||"",t.extend(this,{order:0,settings:r,$input:n,tabIndex:n.attr("tabindex")||"",tagType:"select"===a.tagName.toLowerCase()?1:2,rtl:/rtl/i.test(s),eventNS:".selectize"+ ++v.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:n.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===r.loadThrottle?this.onSearchChange:(u=this.onSearchChange,c=r.loadThrottle,function(){var t=this,e=arguments;window.clearTimeout(l),l=window.setTimeout(function(){u.apply(t,e)},c)})}),this.sifter=new e(this.options,{diacritics:r.diacritics}),this.settings.options){for(i=0,o=this.settings.options.length;i<o;i++)this.registerOption(this.settings.options[i]);delete this.settings.options}if(this.settings.optgroups){for(i=0,o=this.settings.optgroups.length;i<o;i++)this.registerOptionGroup(this.settings.optgroups[i]);delete this.settings.optgroups}this.settings.mode=this.settings.mode||(1===this.settings.maxItems?"single":"multi"),"boolean"!=typeof this.settings.hideSelected&&(this.settings.hideSelected="multi"===this.settings.mode),this.initializePlugins(this.settings.plugins),this.setupCallbacks(),this.setupTemplates(),this.setup()};return i.mixin(v),n.mixin(v),t.extend(v.prototype,{setup:function(){var e,n,r,i,c,l,h,p,f,d,g,v,y,b=this,w=b.settings,D=b.eventNS,C=t(window),x=t(document),E=b.$input;if(h=b.settings.mode,p=E.attr("class")||"",e=t("<div>").addClass(w.wrapperClass).addClass(p).addClass(h),n=t("<div>").addClass(w.inputClass).addClass("items").appendTo(e),r=t('<input type="text" autocomplete="off" />').appendTo(n).attr("tabindex",E.is(":disabled")?"-1":b.tabIndex),l=t(w.dropdownParent||e),i=t("<div>").addClass(w.dropdownClass).addClass(h).hide().appendTo(l),c=t("<div>").addClass(w.dropdownContentClass).appendTo(i),b.settings.copyClassesToDropdown&&i.addClass(p),e.css({width:E[0].style.width}),b.plugins.names.length&&(f="plugin-"+b.plugins.names.join(" plugin-"),e.addClass(f),i.addClass(f)),(null===w.maxItems||w.maxItems>1)&&1===b.tagType&&E.attr("multiple","multiple"),b.settings.placeholder&&r.attr("placeholder",w.placeholder),!b.settings.splitOn&&b.settings.delimiter){var A=b.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");b.settings.splitOn=new RegExp("\\s*"+A+"+\\s*")}E.attr("autocorrect")&&r.attr("autocorrect",E.attr("autocorrect")),E.attr("autocapitalize")&&r.attr("autocapitalize",E.attr("autocapitalize")),b.$wrapper=e,b.$control=n,b.$control_input=r,b.$dropdown=i,b.$dropdown_content=c,i.on("mouseenter","[data-selectable]",function(){return b.onOptionHover.apply(b,arguments)}),i.on("mousedown click","[data-selectable]",function(){return b.onOptionSelect.apply(b,arguments)}),g="mousedown",v="*:not(input)",y=function(){return b.onItemSelect.apply(b,arguments)},(d=n).on(g,v,function(t){for(var e=t.target;e&&e.parentNode!==d[0];)e=e.parentNode;return t.currentTarget=e,y.apply(this,[t])}),m(r),n.on({mousedown:function(){return b.onMouseDown.apply(b,arguments)},click:function(){return b.onClick.apply(b,arguments)}}),r.on({mousedown:function(t){t.stopPropagation()},keydown:function(){return b.onKeyDown.apply(b,arguments)},keyup:function(){return b.onKeyUp.apply(b,arguments)},keypress:function(){return b.onKeyPress.apply(b,arguments)},resize:function(){b.positionDropdown.apply(b,[])},blur:function(){return b.onBlur.apply(b,arguments)},focus:function(){return b.ignoreBlur=!1,b.onFocus.apply(b,arguments)},paste:function(){return b.onPaste.apply(b,arguments)}}),x.on("keydown"+D,function(t){b.isCmdDown=t[o?"metaKey":"ctrlKey"],b.isCtrlDown=t[o?"altKey":"ctrlKey"],b.isShiftDown=t.shiftKey}),x.on("keyup"+D,function(t){t.keyCode===a&&(b.isCtrlDown=!1),16===t.keyCode&&(b.isShiftDown=!1),t.keyCode===s&&(b.isCmdDown=!1)}),x.on("mousedown"+D,function(t){if(b.isFocused){if(t.target===b.$dropdown[0]||t.target.parentNode===b.$dropdown[0])return!1;b.$control.has(t.target).length||t.target===b.$control[0]||b.blur(t.target)}}),C.on(["scroll"+D,"resize"+D].join(" "),function(){b.isOpen&&b.positionDropdown.apply(b,arguments)}),C.on("mousemove"+D,function(){b.ignoreHover=!1}),this.revertSettings={$children:E.children().detach(),tabindex:E.attr("tabindex")},E.attr("tabindex",-1).hide().after(b.$wrapper),t.isArray(w.items)&&(b.setValue(w.items),delete w.items),u&&E.on("invalid"+D,function(t){t.preventDefault(),b.isInvalid=!0,b.refreshState()}),b.updateOriginalInput(),b.refreshItems(),b.refreshState(),b.updatePlaceholder(),b.isSetup=!0,E.is(":disabled")&&b.disable(),b.on("change",this.onChange),E.data("selectize",b),E.addClass("selectized"),b.trigger("initialize"),!0===w.preload&&b.onSearchChange("")},setupTemplates:function(){var e=this.settings.labelField,n=this.settings.optgroupLabelField,r={optgroup:function(t){return'<div class="optgroup">'+t.html+"</div>"},optgroup_header:function(t,e){return'<div class="optgroup-header">'+e(t[n])+"</div>"},option:function(t,n){return'<div class="option">'+n(t[e])+"</div>"},item:function(t,n){return'<div class="item">'+n(t[e])+"</div>"},option_create:function(t,e){return'<div class="create">Add <strong>'+e(t.input)+"</strong>&hellip;</div>"}};this.settings.render=t.extend({},r,this.settings.render)},setupCallbacks:function(){var t,e,n={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(t in n)n.hasOwnProperty(t)&&(e=this.settings[n[t]])&&this.on(t,e)},onClick:function(t){this.isFocused||(this.focus(),t.preventDefault())},onMouseDown:function(e){var n=this,r=e.isDefaultPrevented();t(e.target);if(n.isFocused){if(e.target!==n.$control_input[0])return"single"===n.settings.mode?n.isOpen?n.close():n.open():r||n.setActiveItem(null),!1}else r||window.setTimeout(function(){n.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(e){var n=this;n.isFull()||n.isInputHidden||n.isLocked?e.preventDefault():n.settings.splitOn&&setTimeout(function(){for(var e=t.trim(n.$control_input.val()||"").split(n.settings.splitOn),r=0,i=e.length;r<i;r++)n.createItem(e[r])},0)},onKeyPress:function(t){if(this.isLocked)return t&&t.preventDefault();var e=String.fromCharCode(t.keyCode||t.which);return this.settings.create&&"multi"===this.settings.mode&&e===this.settings.delimiter?(this.createItem(),t.preventDefault(),!1):void 0},onKeyDown:function(t){t.target,this.$control_input[0];if(this.isLocked)9!==t.keyCode&&t.preventDefault();else{switch(t.keyCode){case 65:if(this.isCmdDown)return void this.selectAll();break;case 27:return void(this.isOpen&&(t.preventDefault(),t.stopPropagation(),this.close()));case 78:if(!t.ctrlKey||t.altKey)break;case 40:if(!this.isOpen&&this.hasOptions)this.open();else if(this.$activeOption){this.ignoreHover=!0;var e=this.getAdjacentOption(this.$activeOption,1);e.length&&this.setActiveOption(e,!0,!0)}return void t.preventDefault();case 80:if(!t.ctrlKey||t.altKey)break;case 38:if(this.$activeOption){this.ignoreHover=!0;var n=this.getAdjacentOption(this.$activeOption,-1);n.length&&this.setActiveOption(n,!0,!0)}return void t.preventDefault();case 13:return void(this.isOpen&&this.$activeOption&&(this.onOptionSelect({currentTarget:this.$activeOption}),t.preventDefault()));case 37:return void this.advanceSelection(-1,t);case 39:return void this.advanceSelection(1,t);case 9:return this.settings.selectOnTab&&this.isOpen&&this.$activeOption&&(this.onOptionSelect({currentTarget:this.$activeOption}),this.isFull()||t.preventDefault()),void(this.settings.create&&this.createItem()&&t.preventDefault());case 8:case 46:return void this.deleteSelection(t)}!this.isFull()&&!this.isInputHidden||(o?t.metaKey:t.ctrlKey)||t.preventDefault()}},onKeyUp:function(t){if(this.isLocked)return t&&t.preventDefault();var e=this.$control_input.val()||"";this.lastValue!==e&&(this.lastValue=e,this.onSearchChange(e),this.refreshOptions(),this.trigger("type",e))},onSearchChange:function(t){var e=this,n=e.settings.load;n&&(e.loadedSearches.hasOwnProperty(t)||(e.loadedSearches[t]=!0,e.load(function(r){n.apply(e,[t,r])})))},onFocus:function(t){var e=this.isFocused;if(this.isDisabled)return this.blur(),t&&t.preventDefault(),!1;this.ignoreFocus||(this.isFocused=!0,"focus"===this.settings.preload&&this.onSearchChange(""),e||this.trigger("focus"),this.$activeItems.length||(this.showInput(),this.setActiveItem(null),this.refreshOptions(!!this.settings.openOnFocus)),this.refreshState())},onBlur:function(t,e){var n=this;if(n.isFocused&&(n.isFocused=!1,!n.ignoreFocus)){if(!n.ignoreBlur&&document.activeElement===n.$dropdown_content[0])return n.ignoreBlur=!0,void n.onFocus(t);var r=function(){n.close(),n.setTextboxValue(""),n.setActiveItem(null),n.setActiveOption(null),n.setCaret(n.items.length),n.refreshState(),(e||document.body).focus(),n.ignoreFocus=!1,n.trigger("blur")};n.ignoreFocus=!0,n.settings.create&&n.settings.createOnBlur?n.createItem(null,!1,r):r()}},onOptionHover:function(t){this.ignoreHover||this.setActiveOption(t.currentTarget,!1)},onOptionSelect:function(e){var n,r,i=this;e.preventDefault&&(e.preventDefault(),e.stopPropagation()),(r=t(e.currentTarget)).hasClass("create")?i.createItem(null,function(){i.settings.closeAfterSelect&&i.close()}):void 0!==(n=r.attr("data-value"))&&(i.lastQuery=null,i.setTextboxValue(""),i.addItem(n),i.settings.closeAfterSelect?i.close():!i.settings.hideSelected&&e.type&&/mouse/.test(e.type)&&i.setActiveOption(i.getOption(n)))},onItemSelect:function(t){this.isLocked||"multi"===this.settings.mode&&(t.preventDefault(),this.setActiveItem(t.currentTarget,t))},load:function(t){var e=this,n=e.$wrapper.addClass(e.settings.loadingClass);e.loading++,t.apply(e,[function(t){e.loading=Math.max(e.loading-1,0),t&&t.length&&(e.addOption(t),e.refreshOptions(e.isFocused&&!e.isInputHidden)),e.loading||n.removeClass(e.settings.loadingClass),e.trigger("load",t)}])},setTextboxValue:function(t){var e=this.$control_input;e.val()!==t&&(e.val(t).triggerHandler("update"),this.lastValue=t)},getValue:function(){return 1===this.tagType&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(t,e){d(this,e?[]:["change"],function(){this.clear(e),this.addItems(t,e)})},setActiveItem:function(e,n){var r,i,o,s,a,u,c,l;if("single"!==this.settings.mode){if(!(e=t(e)).length)return t(this.$activeItems).removeClass("active"),this.$activeItems=[],void(this.isFocused&&this.showInput());if("mousedown"===(r=n&&n.type.toLowerCase())&&this.isShiftDown&&this.$activeItems.length){for(l=this.$control.children(".active:last"),(s=Array.prototype.indexOf.apply(this.$control[0].childNodes,[l[0]]))>(a=Array.prototype.indexOf.apply(this.$control[0].childNodes,[e[0]]))&&(c=s,s=a,a=c),i=s;i<=a;i++)u=this.$control[0].childNodes[i],-1===this.$activeItems.indexOf(u)&&(t(u).addClass("active"),this.$activeItems.push(u));n.preventDefault()}else"mousedown"===r&&this.isCtrlDown||"keydown"===r&&this.isShiftDown?e.hasClass("active")?(o=this.$activeItems.indexOf(e[0]),this.$activeItems.splice(o,1),e.removeClass("active")):this.$activeItems.push(e.addClass("active")[0]):(t(this.$activeItems).removeClass("active"),this.$activeItems=[e.addClass("active")[0]]);this.hideInput(),this.isFocused||this.focus()}},setActiveOption:function(e,n,r){var i,o,s,a,u;this.$activeOption&&this.$activeOption.removeClass("active"),this.$activeOption=null,(e=t(e)).length&&(this.$activeOption=e.addClass("active"),!n&&c(n)||(i=this.$dropdown_content.height(),o=this.$activeOption.outerHeight(!0),n=this.$dropdown_content.scrollTop()||0,a=s=this.$activeOption.offset().top-this.$dropdown_content.offset().top+n,u=s-i+o,s+o>i+n?this.$dropdown_content.stop().animate({scrollTop:u},r?this.settings.scrollDuration:0):s<n&&this.$dropdown_content.stop().animate({scrollTop:a},r?this.settings.scrollDuration:0)))},selectAll:function(){"single"!==this.settings.mode&&(this.$activeItems=Array.prototype.slice.apply(this.$control.children(":not(input)").addClass("active")),this.$activeItems.length&&(this.hideInput(),this.close()),this.focus())},hideInput:function(){this.setTextboxValue(""),this.$control_input.css({opacity:0,position:"absolute",left:this.rtl?1e4:-1e4}),this.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var t=this;t.isDisabled||(t.ignoreFocus=!0,t.$control_input[0].focus(),window.setTimeout(function(){t.ignoreFocus=!1,t.onFocus()},0))},blur:function(t){this.$control_input[0].blur(),this.onBlur(null,t)},getScoreFunction:function(t){return this.sifter.getScoreFunction(t,this.getSearchOptions())},getSearchOptions:function(){var t=this.settings,e=t.sortField;return"string"==typeof e&&(e=[{field:e}]),{fields:t.searchField,conjunction:t.searchConjunction,sort:e}},search:function(e){var n,r,i,o=this.settings,s=this.getSearchOptions();if(o.score&&"function"!=typeof(i=this.settings.score.apply(this,[e])))throw new Error('Selectize "score" setting must be a function that returns a function');if(e!==this.lastQuery?(this.lastQuery=e,r=this.sifter.search(e,t.extend(s,{score:i})),this.currentResults=r):r=t.extend(!0,{},this.currentResults),o.hideSelected)for(n=r.items.length-1;n>=0;n--)-1!==this.items.indexOf(l(r.items[n].id))&&r.items.splice(n,1);return r},refreshOptions:function(e){var n,i,o,s,a,u,c,h,p,f,d,g,m,v,y,b;void 0===e&&(e=!0);var w=this,D=t.trim(w.$control_input.val()),C=w.search(D),x=w.$dropdown_content,E=w.$activeOption&&l(w.$activeOption.attr("data-value"));for(s=C.items.length,"number"==typeof w.settings.maxOptions&&(s=Math.min(s,w.settings.maxOptions)),a={},u=[],n=0;n<s;n++)for(c=w.options[C.items[n].id],h=w.render("option",c),p=c[w.settings.optgroupField]||"",i=0,o=(f=t.isArray(p)?p:[p])&&f.length;i<o;i++)p=f[i],w.optgroups.hasOwnProperty(p)||(p=""),a.hasOwnProperty(p)||(a[p]=[],u.push(p)),a[p].push(h);for(this.settings.lockOptgroupOrder&&u.sort(function(t,e){return(w.optgroups[t].$order||0)-(w.optgroups[e].$order||0)}),d=[],n=0,s=u.length;n<s;n++)p=u[n],w.optgroups.hasOwnProperty(p)&&a[p].length?(g=w.render("optgroup_header",w.optgroups[p])||"",g+=a[p].join(""),d.push(w.render("optgroup",t.extend({},w.optgroups[p],{html:g})))):d.push(a[p].join(""));if(x.html(d.join("")),w.settings.highlight&&C.query.length&&C.tokens.length)for(n=0,s=C.tokens.length;n<s;n++)r(x,C.tokens[n].regex);if(!w.settings.hideSelected)for(n=0,s=w.items.length;n<s;n++)w.getOption(w.items[n]).addClass("selected");(m=w.canCreate(D))&&(x.prepend(w.render("option_create",{input:D})),b=t(x[0].childNodes[0])),w.hasOptions=C.items.length>0||m,w.hasOptions?(C.items.length>0?((y=E&&w.getOption(E))&&y.length?v=y:"single"===w.settings.mode&&w.items.length&&(v=w.getOption(w.items[0])),v&&v.length||(v=b&&!w.settings.addPrecedence?w.getAdjacentOption(b,1):x.find("[data-selectable]:first"))):v=b,w.setActiveOption(v),e&&!w.isOpen&&w.open()):(w.setActiveOption(null),e&&w.isOpen&&w.close())},addOption:function(e){var n,r,i;if(t.isArray(e))for(n=0,r=e.length;n<r;n++)this.addOption(e[n]);else(i=this.registerOption(e))&&(this.userOptions[i]=!0,this.lastQuery=null,this.trigger("option_add",i,e))},registerOption:function(t){var e=l(t[this.settings.valueField]);return!(!e||this.options.hasOwnProperty(e))&&(t.$order=t.$order||++this.order,this.options[e]=t,e)},registerOptionGroup:function(t){var e=l(t[this.settings.optgroupValueField]);return!!e&&(t.$order=t.$order||++this.order,this.optgroups[e]=t,e)},addOptionGroup:function(t,e){e[this.settings.optgroupValueField]=t,(t=this.registerOptionGroup(e))&&this.trigger("optgroup_add",t,e)},removeOptionGroup:function(t){this.optgroups.hasOwnProperty(t)&&(delete this.optgroups[t],this.renderCache={},this.trigger("optgroup_remove",t))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(e,n){var r,i,o,s,a,u,c;if(e=l(e),o=l(n[this.settings.valueField]),null!==e&&this.options.hasOwnProperty(e)){if("string"!=typeof o)throw new Error("Value must be set in option data");c=this.options[e].$order,o!==e&&(delete this.options[e],-1!==(s=this.items.indexOf(e))&&this.items.splice(s,1,o)),n.$order=n.$order||c,this.options[o]=n,a=this.renderCache.item,u=this.renderCache.option,a&&(delete a[e],delete a[o]),u&&(delete u[e],delete u[o]),-1!==this.items.indexOf(o)&&(r=this.getItem(e),i=t(this.render("item",n)),r.hasClass("active")&&i.addClass("active"),r.replaceWith(i)),this.lastQuery=null,this.isOpen&&this.refreshOptions(!1)}},removeOption:function(t,e){t=l(t);var n=this.renderCache.item,r=this.renderCache.option;n&&delete n[t],r&&delete r[t],delete this.userOptions[t],delete this.options[t],this.lastQuery=null,this.trigger("option_remove",t),this.removeItem(t,e)},clearOptions:function(){this.loadedSearches={},this.userOptions={},this.renderCache={},this.options=this.sifter.items={},this.lastQuery=null,this.trigger("option_clear"),this.clear()},getOption:function(t){return this.getElementWithValue(t,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(e,n){var r=this.$dropdown.find("[data-selectable]"),i=r.index(e)+n;return i>=0&&i<r.length?r.eq(i):t()},getElementWithValue:function(e,n){if(null!=(e=l(e)))for(var r=0,i=n.length;r<i;r++)if(n[r].getAttribute("data-value")===e)return t(n[r]);return t()},getItem:function(t){return this.getElementWithValue(t,this.$control.children())},addItems:function(e,n){for(var r=t.isArray(e)?e:[e],i=0,o=r.length;i<o;i++)this.isPending=i<o-1,this.addItem(r[i],n)},addItem:function(e,n){d(this,n?[]:["change"],function(){var r,i,o,s,a,u=this.settings.mode;e=l(e),-1===this.items.indexOf(e)?this.options.hasOwnProperty(e)&&("single"===u&&this.clear(n),"multi"===u&&this.isFull()||(r=t(this.render("item",this.options[e])),a=this.isFull(),this.items.splice(this.caretPos,0,e),this.insertAtCaret(r),(!this.isPending||!a&&this.isFull())&&this.refreshState(),this.isSetup&&(o=this.$dropdown_content.find("[data-selectable]"),this.isPending||(i=this.getOption(e),s=this.getAdjacentOption(i,1).attr("data-value"),this.refreshOptions(this.isFocused&&"single"!==u),s&&this.setActiveOption(this.getOption(s))),!o.length||this.isFull()?this.close():this.positionDropdown(),this.updatePlaceholder(),this.trigger("item_add",e,r),this.updateOriginalInput({silent:n})))):"single"===u&&this.close()})},removeItem:function(t,e){var n,r,i;n="object"==typeof t?t:this.getItem(t),t=l(n.attr("data-value")),-1!==(r=this.items.indexOf(t))&&(n.remove(),n.hasClass("active")&&(i=this.$activeItems.indexOf(n[0]),this.$activeItems.splice(i,1)),this.items.splice(r,1),this.lastQuery=null,!this.settings.persist&&this.userOptions.hasOwnProperty(t)&&this.removeOption(t,e),r<this.caretPos&&this.setCaret(this.caretPos-1),this.refreshState(),this.updatePlaceholder(),this.updateOriginalInput({silent:e}),this.positionDropdown(),this.trigger("item_remove",t,n))},createItem:function(e,n){var r=this,i=r.caretPos;e=e||t.trim(r.$control_input.val()||"");var o=arguments[arguments.length-1];if("function"!=typeof o&&(o=function(){}),"boolean"!=typeof n&&(n=!0),!r.canCreate(e))return o(),!1;r.lock();var s,a,u="function"==typeof r.settings.create?this.settings.create:function(t){var e={};return e[r.settings.labelField]=t,e[r.settings.valueField]=t,e},c=(s=function(t){if(r.unlock(),!t||"object"!=typeof t)return o();var e=l(t[r.settings.valueField]);if("string"!=typeof e)return o();r.setTextboxValue(""),r.addOption(t),r.setCaret(i),r.addItem(e),r.refreshOptions(n&&"single"!==r.settings.mode),o(t)},a=!1,function(){a||(a=!0,s.apply(this,arguments))}),h=u.apply(this,[e,c]);return void 0!==h&&c(h),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){this.isRequired&&(this.items.length&&(this.isInvalid=!1),this.$control_input.prop("required",void 0)),this.refreshClasses()},refreshClasses:function(){var e=this.isFull(),n=this.isLocked;this.$wrapper.toggleClass("rtl",this.rtl),this.$control.toggleClass("focus",this.isFocused).toggleClass("disabled",this.isDisabled).toggleClass("required",this.isRequired).toggleClass("invalid",this.isInvalid).toggleClass("locked",n).toggleClass("full",e).toggleClass("not-full",!e).toggleClass("input-active",this.isFocused&&!this.isInputHidden).toggleClass("dropdown-active",this.isOpen).toggleClass("has-options",!t.isEmptyObject(this.options)).toggleClass("has-items",this.items.length>0),this.$control_input.data("grow",!e&&!n)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(t){var e,n,r,i;if(t=t||{},1===this.tagType){for(r=[],e=0,n=this.items.length;e<n;e++)i=this.options[this.items[e]][this.settings.labelField]||"",r.push('<option value="'+h(this.items[e])+'" selected="selected">'+h(i)+"</option>");r.length||this.$input.attr("multiple")||r.push('<option value="" selected="selected"></option>'),this.$input.html(r.join(""))}else this.$input.val(this.getValue()),this.$input.attr("value",this.$input.val());this.isSetup&&(t.silent||this.trigger("change",this.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var t=this.$control_input;this.items.length?t.removeAttr("placeholder"):t.attr("placeholder",this.settings.placeholder),t.triggerHandler("update",{force:!0})}},open:function(){this.isLocked||this.isOpen||"multi"===this.settings.mode&&this.isFull()||(this.focus(),this.isOpen=!0,this.refreshState(),this.$dropdown.css({visibility:"hidden",display:"block"}),this.positionDropdown(),this.$dropdown.css({visibility:"visible"}),this.trigger("dropdown_open",this.$dropdown))},close:function(){var t=this.isOpen;"single"===this.settings.mode&&this.items.length&&this.hideInput(),this.isOpen=!1,this.$dropdown.hide(),this.setActiveOption(null),this.refreshState(),t&&this.trigger("dropdown_close",this.$dropdown)},positionDropdown:function(){var t=this.$control,e="body"===this.settings.dropdownParent?t.offset():t.position();e.top+=t.outerHeight(!0),this.$dropdown.css({width:t.outerWidth(),top:e.top,left:e.left})},clear:function(t){this.items.length&&(this.$control.children(":not(input)").remove(),this.items=[],this.lastQuery=null,this.setCaret(0),this.setActiveItem(null),this.updatePlaceholder(),this.updateOriginalInput({silent:t}),this.refreshState(),this.showInput(),this.trigger("clear"))},insertAtCaret:function(e){var n=Math.min(this.caretPos,this.items.length);0===n?this.$control.prepend(e):t(this.$control[0].childNodes[n]).before(e),this.setCaret(n+1)},deleteSelection:function(e){var n,r,i,o,s,a,u,c,l;if(i=e&&8===e.keyCode?-1:1,o=g(this.$control_input[0]),this.$activeOption&&!this.settings.hideSelected&&(u=this.getAdjacentOption(this.$activeOption,-1).attr("data-value")),s=[],this.$activeItems.length){for(l=this.$control.children(".active:"+(i>0?"last":"first")),a=this.$control.children(":not(input)").index(l),i>0&&a++,n=0,r=this.$activeItems.length;n<r;n++)s.push(t(this.$activeItems[n]).attr("data-value"));e&&(e.preventDefault(),e.stopPropagation())}else(this.isFocused||"single"===this.settings.mode)&&this.items.length&&(i<0&&0===o.start&&0===o.length?s.push(this.items[this.caretPos-1]):i>0&&o.start===this.$control_input.val().length&&s.push(this.items[this.caretPos]));if(!s.length||"function"==typeof this.settings.onDelete&&!1===this.settings.onDelete.apply(this,[s]))return!1;for(void 0!==a&&this.setCaret(a);s.length;)this.removeItem(s.pop());return this.showInput(),this.positionDropdown(),this.refreshOptions(!0),u&&(c=this.getOption(u)).length&&this.setActiveOption(c),!0},advanceSelection:function(t,e){var n,r,i,o,s;0!==t&&(this.rtl&&(t*=-1),n=t>0?"last":"first",r=g(this.$control_input[0]),this.isFocused&&!this.isInputHidden?(o=this.$control_input.val().length,(t<0?0===r.start&&0===r.length:r.start===o)&&!o&&this.advanceCaret(t,e)):(s=this.$control.children(".active:"+n)).length&&(i=this.$control.children(":not(input)").index(s),this.setActiveItem(null),this.setCaret(t>0?i+1:i)))},advanceCaret:function(t,e){var n,r;0!==t&&(n=t>0?"next":"prev",this.isShiftDown?(r=this.$control_input[n]()).length&&(this.hideInput(),this.setActiveItem(r),e&&e.preventDefault()):this.setCaret(this.caretPos+t))},setCaret:function(e){var n,r,i,o;if(e="single"===this.settings.mode?this.items.length:Math.max(0,Math.min(this.items.length,e)),!this.isPending)for(n=0,r=(i=this.$control.children(":not(input)")).length;n<r;n++)o=t(i[n]).detach(),n<e?this.$control_input.before(o):this.$control.append(o);this.caretPos=e},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){this.$input.prop("disabled",!0),this.$control_input.prop("disabled",!0).prop("tabindex",-1),this.isDisabled=!0,this.lock()},enable:function(){this.$input.prop("disabled",!1),this.$control_input.prop("disabled",!1).prop("tabindex",this.tabIndex),this.isDisabled=!1,this.unlock()},destroy:function(){var e=this.eventNS,n=this.revertSettings;this.trigger("destroy"),this.off(),this.$wrapper.remove(),this.$dropdown.remove(),this.$input.html("").append(n.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:n.tabindex}).show(),this.$control_input.removeData("grow"),this.$input.removeData("selectize"),t(window).off(e),t(document).off(e),t(document.body).off(e),delete this.$input[0].selectize},render:function(t,e){var n,r,i="",o=!1,s=/^[\t \r\n]*<([a-z][a-z0-9\-_]*(?:\:[a-z][a-z0-9\-_]*)?)/i;return"option"!==t&&"item"!==t||(o=!!(n=l(e[this.settings.valueField]))),o&&(c(this.renderCache[t])||(this.renderCache[t]={}),this.renderCache[t].hasOwnProperty(n))?this.renderCache[t][n]:(i=this.settings.render[t].apply(this,[e,h]),"option"!==t&&"option_create"!==t||(i=i.replace(s,"<$1 data-selectable")),"optgroup"===t&&(r=e[this.settings.optgroupValueField]||"",i=i.replace(s,'<$1 data-group="'+p(h(r))+'"')),"option"!==t&&"item"!==t||(i=i.replace(s,'<$1 data-value="'+p(h(n||""))+'"')),o&&(this.renderCache[t][n]=i),i)},clearCache:function(t){void 0===t?this.renderCache={}:delete this.renderCache[t]},canCreate:function(t){if(!this.settings.create)return!1;var e=this.settings.createFilter;return t.length&&("function"!=typeof e||e.apply(this,[t]))&&("string"!=typeof e||new RegExp(e).test(t))&&(!(e instanceof RegExp)||e.test(t))}}),v.count=0,v.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},t.fn.selectize=function(e){var n=t.fn.selectize.defaults,r=t.extend({},n,e),i=r.dataAttr,o=r.labelField,s=r.valueField,a=r.optgroupField,u=r.optgroupLabelField,c=r.optgroupValueField;return this.each(function(){if(!this.selectize){var h=t(this),p=this.tagName.toLowerCase(),f=h.attr("placeholder")||h.attr("data-placeholder");f||r.allowEmptyOption||(f=h.children('option[value=""]').text());var d={placeholder:f,options:[],optgroups:[],items:[]};"select"===p?function(e,n){var h,p,f,d,g=n.options,m={},v=function(t){var e=i&&t.attr(i);return"string"==typeof e&&e.length?JSON.parse(e):null},y=function(e,i){e=t(e);var u=l(e.attr("value"));if(u||r.allowEmptyOption)if(m.hasOwnProperty(u)){if(i){var c=m[u][a];c?t.isArray(c)?c.push(i):m[u][a]=[c,i]:m[u][a]=i}}else{var h=v(e)||{};h[o]=h[o]||e.text(),h[s]=h[s]||u,h[a]=h[a]||i,m[u]=h,g.push(h),e.is(":selected")&&n.items.push(u)}},b=function(e){var r,i,o,s,a;for((o=(e=t(e)).attr("label"))&&((s=v(e)||{})[u]=o,s[c]=o,n.optgroups.push(s)),r=0,i=(a=t("option",e)).length;r<i;r++)y(a[r],o)};for(n.maxItems=e.attr("multiple")?null:1,h=0,p=(d=e.children()).length;h<p;h++)"optgroup"===(f=d[h].tagName.toLowerCase())?b(d[h]):"option"===f&&y(d[h])}(h,d):function(e,n){var a,u,c,l,h=e.attr(i);if(h)for(n.options=JSON.parse(h),a=0,u=n.options.length;a<u;a++)n.items.push(n.options[a][s]);else{var p=t.trim(e.val()||"");if(!r.allowEmptyOption&&!p.length)return;for(a=0,u=(c=p.split(r.delimiter)).length;a<u;a++)(l={})[o]=c[a],l[s]=c[a],n.options.push(l);n.items=c}}(h,d),new v(h,t.extend(!0,{},n,d,e))}})},t.fn.selectize.defaults=v.defaults,t.fn.selectize.support={validity:u},v.define("drag_drop",function(e){if(!t.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var n,r=this;r.lock=(n=r.lock,function(){var t=r.$control.data("sortable");return t&&t.disable(),n.apply(r,arguments)}),r.unlock=function(){var t=r.unlock;return function(){var e=r.$control.data("sortable");return e&&e.enable(),t.apply(r,arguments)}}(),r.setup=function(){var e=r.setup;return function(){e.apply(this,arguments);var n=r.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:r.isLocked,start:function(t,e){e.placeholder.css("width",e.helper.css("width")),n.css({overflow:"visible"})},stop:function(){n.css({overflow:"hidden"});var e=r.$activeItems?r.$activeItems.slice():null,i=[];n.children("[data-value]").each(function(){i.push(t(this).attr("data-value"))}),r.setValue(i),r.setActiveItem(e)}})}}()}}),v.define("dropdown_header",function(e){var n,r=this;e=t.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(t){return'<div class="'+t.headerClass+'"><div class="'+t.titleRowClass+'"><span class="'+t.labelClass+'">'+t.title+'</span><a href="javascript:void(0)" class="'+t.closeClass+'">&times;</a></div></div>'}},e),r.setup=(n=r.setup,function(){n.apply(r,arguments),r.$dropdown_header=t(e.html(e)),r.$dropdown.prepend(r.$dropdown_header)})}),v.define("optgroup_columns",function(e){var n,r=this;e=t.extend({equalizeWidth:!0,equalizeHeight:!0},e),this.getAdjacentOption=function(e,n){var r=e.closest("[data-group]").find("[data-selectable]"),i=r.index(e)+n;return i>=0&&i<r.length?r.eq(i):t()},this.onKeyDown=(n=r.onKeyDown,function(t){var e,i,o,s;return!this.isOpen||37!==t.keyCode&&39!==t.keyCode?n.apply(this,arguments):(r.ignoreHover=!0,e=(s=this.$activeOption.closest("[data-group]")).find("[data-selectable]").index(this.$activeOption),void((i=(o=(s=37===t.keyCode?s.prev("[data-group]"):s.next("[data-group]")).find("[data-selectable]")).eq(Math.min(o.length-1,e))).length&&this.setActiveOption(i)))});var i=function(){var t,e=i.width,n=document;return void 0===e&&((t=n.createElement("div")).innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',t=t.firstChild,n.body.appendChild(t),e=i.width=t.offsetWidth-t.clientWidth,n.body.removeChild(t)),e},o=function(){var n,o,s,a,u,c,l;if((o=(l=t("[data-group]",r.$dropdown_content)).length)&&r.$dropdown_content.width()){if(e.equalizeHeight){for(s=0,n=0;n<o;n++)s=Math.max(s,l.eq(n).height());l.css({height:s})}e.equalizeWidth&&(c=r.$dropdown_content.innerWidth()-i(),a=Math.round(c/o),l.css({width:a}),o>1&&(u=c-a*(o-1),l.eq(o-1).css({width:u})))}};(e.equalizeHeight||e.equalizeWidth)&&(f.after(this,"positionDropdown",o),f.after(this,"refreshOptions",o))}),v.define("remove_button",function(e){if("single"!==this.settings.mode){e=t.extend({label:"&times;",title:"Remove",className:"remove",append:!0},e);var n,r=this,i='<a href="javascript:void(0)" class="'+e.className+'" tabindex="-1" title="'+h(e.title)+'">'+e.label+"</a>";this.setup=(n=r.setup,function(){if(e.append){var o=r.settings.render.item;r.settings.render.item=function(t){return e=o.apply(this,arguments),n=i,r=e.search(/(<\/[^>]+>\s*)$/),e.substring(0,r)+n+e.substring(r);var e,n,r}}n.apply(this,arguments),this.$control.on("click","."+e.className,function(e){if(e.preventDefault(),!r.isLocked){var n=t(e.currentTarget).parent();r.setActiveItem(n),r.deleteSelection()&&r.setCaret(r.items.length)}})})}}),v.define("restore_on_backspace",function(t){var e,n=this;t.text=t.text||function(t){return t[this.settings.labelField]},this.onKeyDown=(e=n.onKeyDown,function(n){var r,i;return 8===n.keyCode&&""===this.$control_input.val()&&!this.$activeItems.length&&(r=this.caretPos-1)>=0&&r<this.items.length?(i=this.options[this.items[r]],this.deleteSelection(n)&&(this.setTextboxValue(t.text.apply(this,[i])),this.refreshOptions(!0)),void n.preventDefault()):e.apply(this,arguments)})}),v})},function(t,e,n){var r,i,o;Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),i=[],void 0===(o="function"==typeof(r=function(){"use strict";var t,e,n="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n?n:{},r=!n.document&&!!n.postMessage,i=r&&/(\?|&)papaworker(=|&|$)/.test(n.location.search),o=!1,s={},a=0,u={parse:function(e,r){var i=(r=r||{}).dynamicTyping||!1;if(x(i)&&(r.dynamicTypingFunction=i,i={}),r.dynamicTyping=i,r.transform=!!x(r.transform)&&r.transform,r.worker&&u.WORKERS_SUPPORTED){var c=function(){if(!u.WORKERS_SUPPORTED)return!1;if(!o&&null===u.SCRIPT_PATH)throw new Error("Script path cannot be determined automatically when Papa Parse is loaded asynchronously. You need to set Papa.SCRIPT_PATH manually.");var e=u.SCRIPT_PATH||t;e+=(-1!==e.indexOf("?")?"&":"?")+"papaworker";var r=new n.Worker(e);return r.onmessage=y,r.id=a++,s[r.id]=r}();return c.userStep=r.step,c.userChunk=r.chunk,c.userComplete=r.complete,c.userError=r.error,r.step=x(r.step),r.chunk=x(r.chunk),r.complete=x(r.complete),r.error=x(r.error),delete r.worker,void c.postMessage({input:e,config:r,workerId:c.id})}var l=null;return u.NODE_STREAM_INPUT,"string"==typeof e?l=r.download?new h(r):new f(r):!0===e.readable&&x(e.read)&&x(e.on)?l=new d(r):(n.File&&e instanceof File||e instanceof Object)&&(l=new p(r)),l.stream(e)},unparse:function(t,e){var n=!1,r=!0,i=",",o="\r\n",s='"',a=!1;"object"==typeof e&&("string"!=typeof e.delimiter||u.BAD_DELIMITERS.filter(function(t){return-1!==e.delimiter.indexOf(t)}).length||(i=e.delimiter),("boolean"==typeof e.quotes||Array.isArray(e.quotes))&&(n=e.quotes),"boolean"!=typeof e.skipEmptyLines&&"string"!=typeof e.skipEmptyLines||(a=e.skipEmptyLines),"string"==typeof e.newline&&(o=e.newline),"string"==typeof e.quoteChar&&(s=e.quoteChar),"boolean"==typeof e.header&&(r=e.header));var c=new RegExp(s,"g");if("string"==typeof t&&(t=JSON.parse(t)),Array.isArray(t)){if(!t.length||Array.isArray(t[0]))return h(null,t,a);if("object"==typeof t[0])return h(l(t[0]),t,a)}else if("object"==typeof t)return"string"==typeof t.data&&(t.data=JSON.parse(t.data)),Array.isArray(t.data)&&(t.fields||(t.fields=t.meta&&t.meta.fields),t.fields||(t.fields=Array.isArray(t.data[0])?t.fields:l(t.data[0])),Array.isArray(t.data[0])||"object"==typeof t.data[0]||(t.data=[t.data])),h(t.fields||[],t.data||[],a);throw"exception: Unable to serialize unrecognized input";function l(t){if("object"!=typeof t)return[];var e=[];for(var n in t)e.push(n);return e}function h(t,e,n){var s="";"string"==typeof t&&(t=JSON.parse(t)),"string"==typeof e&&(e=JSON.parse(e));var a=Array.isArray(t)&&0<t.length,u=!Array.isArray(e[0]);if(a&&r){for(var c=0;c<t.length;c++)0<c&&(s+=i),s+=p(t[c],c);0<e.length&&(s+=o)}for(var l=0;l<e.length;l++){var h=a?t.length:e[l].length,f=!1,d=a?0===Object.keys(e[l]).length:0===e[l].length;if(n&&!a&&(f="greedy"===n?""===e[l].join("").trim():1===e[l].length&&0===e[l][0].length),"greedy"===n&&a){for(var g=[],m=0;m<h;m++){var v=u?t[m]:m;g.push(e[l][v])}f=""===g.join("").trim()}if(!f){for(var y=0;y<h;y++){0<y&&!d&&(s+=i);var b=a&&u?t[y]:y;s+=p(e[l][b],y)}l<e.length-1&&(!n||0<h&&!d)&&(s+=o)}}return s}function p(t,e){return null==t?"":t.constructor===Date?JSON.stringify(t).slice(1,25):(t=t.toString().replace(c,s+s),"boolean"==typeof n&&n||Array.isArray(n)&&n[e]||function(t,e){for(var n=0;n<e.length;n++)if(-1<t.indexOf(e[n]))return!0;return!1}(t,u.BAD_DELIMITERS)||-1<t.indexOf(i)||" "===t.charAt(0)||" "===t.charAt(t.length-1)?s+t+s:t)}}};if(u.RECORD_SEP=String.fromCharCode(30),u.UNIT_SEP=String.fromCharCode(31),u.BYTE_ORDER_MARK="\ufeff",u.BAD_DELIMITERS=["\r","\n",'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!r&&!!n.Worker,u.SCRIPT_PATH=null,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=v,u.ParserHandle=g,u.NetworkStreamer=h,u.FileStreamer=p,u.StringStreamer=f,u.ReadableStreamStreamer=d,n.jQuery){var c=n.jQuery;c.fn.parse=function(t){var e=t.config||{},r=[];return this.each(function(t){if("INPUT"!==c(this).prop("tagName").toUpperCase()||"file"!==c(this).attr("type").toLowerCase()||!n.FileReader||!this.files||0===this.files.length)return!0;for(var i=0;i<this.files.length;i++)r.push({file:this.files[i],inputElem:this,instanceConfig:c.extend({},e)})}),i(),this;function i(){if(0!==r.length){var e,n,i,s=r[0];if(x(t.before)){var a=t.before(s.file,s.inputElem);if("object"==typeof a){if("abort"===a.action)return"AbortError",e=s.file,n=s.inputElem,i=a.reason,void(x(t.error)&&t.error({name:"AbortError"},e,n,i));if("skip"===a.action)return void o();"object"==typeof a.config&&(s.instanceConfig=c.extend(s.instanceConfig,a.config))}else if("skip"===a)return void o()}var l=s.instanceConfig.complete;s.instanceConfig.complete=function(t){x(l)&&l(t,s.file,s.inputElem),o()},u.parse(s.file,s.instanceConfig)}else x(t.complete)&&t.complete()}function o(){r.splice(0,1),i()}}}function l(t){this._handle=null,this._finished=!1,this._completed=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(t){var e=D(t);e.chunkSize=parseInt(e.chunkSize),t.step||t.chunk||(e.chunkSize=null),this._handle=new g(e),(this._handle.streamer=this)._config=e}.call(this,t),this.parseChunk=function(t,e){if(this.isFirstChunk&&x(this._config.beforeFirstChunk)){var r=this._config.beforeFirstChunk(t);void 0!==r&&(t=r)}this.isFirstChunk=!1;var o=this._partialLine+t;this._partialLine="";var s=this._handle.parse(o,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var a=s.meta.cursor;this._finished||(this._partialLine=o.substring(a-this._baseIndex),this._baseIndex=a),s&&s.data&&(this._rowCount+=s.data.length);var c=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(i)n.postMessage({results:s,workerId:u.WORKER_ID,finished:c});else if(x(this._config.chunk)&&!e){if(this._config.chunk(s,this._handle),this._handle.paused()||this._handle.aborted())return;s=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(s.data),this._completeResults.errors=this._completeResults.errors.concat(s.errors),this._completeResults.meta=s.meta),this._completed||!c||!x(this._config.complete)||s&&s.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),c||s&&s.meta.paused||this._nextChunk(),s}},this._sendError=function(t){x(this._config.error)?this._config.error(t):i&&this._config.error&&n.postMessage({workerId:u.WORKER_ID,error:t,finished:!1})}}function h(t){var e;(t=t||{}).chunkSize||(t.chunkSize=u.RemoteChunkSize),l.call(this,t),this._nextChunk=r?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(t){this._input=t,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(e=new XMLHttpRequest,this._config.withCredentials&&(e.withCredentials=this._config.withCredentials),r||(e.onload=C(this._chunkLoaded,this),e.onerror=C(this._chunkError,this)),e.open("GET",this._input,!r),this._config.downloadRequestHeaders){var t=this._config.downloadRequestHeaders;for(var n in t)e.setRequestHeader(n,t[n])}if(this._config.chunkSize){var i=this._start+this._config.chunkSize-1;e.setRequestHeader("Range","bytes="+this._start+"-"+i),e.setRequestHeader("If-None-Match","webkit-no-cache")}try{e.send()}catch(t){this._chunkError(t.message)}r&&0===e.status?this._chunkError():this._start+=this._config.chunkSize}},this._chunkLoaded=function(){var t;4===e.readyState&&(e.status<200||400<=e.status?this._chunkError():(this._finished=!this._config.chunkSize||this._start>(null===(t=e.getResponseHeader("Content-Range"))?-1:parseInt(t.substr(t.lastIndexOf("/")+1))),this.parseChunk(e.responseText)))},this._chunkError=function(t){var n=e.statusText||t;this._sendError(new Error(n))}}function p(t){var e,n;(t=t||{}).chunkSize||(t.chunkSize=u.LocalChunkSize),l.call(this,t);var r="undefined"!=typeof FileReader;this.stream=function(t){this._input=t,n=t.slice||t.webkitSlice||t.mozSlice,r?((e=new FileReader).onload=C(this._chunkLoaded,this),e.onerror=C(this._chunkError,this)):e=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var t=this._input;if(this._config.chunkSize){var i=Math.min(this._start+this._config.chunkSize,this._input.size);t=n.call(t,this._start,i)}var o=e.readAsText(t,this._config.encoding);r||this._chunkLoaded({target:{result:o}})},this._chunkLoaded=function(t){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(t.target.result)},this._chunkError=function(){this._sendError(e.error)}}function f(t){var e;l.call(this,t=t||{}),this.stream=function(t){return e=t,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var t=this._config.chunkSize,n=t?e.substr(0,t):e;return e=t?e.substr(t):"",this._finished=!e,this.parseChunk(n)}}}function d(t){l.call(this,t=t||{});var e=[],n=!0,r=!1;this.pause=function(){l.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){l.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(t){this._input=t,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){r&&1===e.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),e.length?this.parseChunk(e.shift()):n=!0},this._streamData=C(function(t){try{e.push("string"==typeof t?t:t.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(e.shift()))}catch(t){this._streamError(t)}},this),this._streamError=C(function(t){this._streamCleanUp(),this._sendError(t)},this),this._streamEnd=C(function(){this._streamCleanUp(),r=!0,this._streamData("")},this),this._streamCleanUp=C(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function g(t){var e,n,r,i=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,o=/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/,s=this,a=0,c=0,l=!1,h=!1,p=[],f={data:[],errors:[],meta:{}};if(x(t.step)){var d=t.step;t.step=function(e){if(f=e,b())y();else{if(y(),0===f.data.length)return;a+=e.data.length,t.preview&&a>t.preview?n.abort():d(f,s)}}}function g(e){return"greedy"===t.skipEmptyLines?""===e.join("").trim():1===e.length&&0===e[0].length}function y(){if(f&&r&&(C("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),r=!1),t.skipEmptyLines)for(var e=0;e<f.data.length;e++)g(f.data[e])&&f.data.splice(e--,1);return b()&&function(){if(f){for(var e=0;b()&&e<f.data.length;e++)for(var n=0;n<f.data[e].length;n++){var r=f.data[e][n];t.trimHeaders&&(r=r.trim()),p.push(r)}f.data.splice(0,1)}}(),function(){if(!f||!t.header&&!t.dynamicTyping&&!t.transform)return f;for(var e=0;e<f.data.length;e++){var n,r=t.header?{}:[];for(n=0;n<f.data[e].length;n++){var i=n,o=f.data[e][n];t.header&&(i=n>=p.length?"__parsed_extra":p[n]),t.transform&&(o=t.transform(o,i)),o=w(i,o),"__parsed_extra"===i?(r[i]=r[i]||[],r[i].push(o)):r[i]=o}f.data[e]=r,t.header&&(n>p.length?C("FieldMismatch","TooManyFields","Too many fields: expected "+p.length+" fields but parsed "+n,c+e):n<p.length&&C("FieldMismatch","TooFewFields","Too few fields: expected "+p.length+" fields but parsed "+n,c+e))}return t.header&&f.meta&&(f.meta.fields=p),c+=f.data.length,f}()}function b(){return t.header&&0===p.length}function w(e,n){return r=e,t.dynamicTypingFunction&&void 0===t.dynamicTyping[r]&&(t.dynamicTyping[r]=t.dynamicTypingFunction(r)),!0===(t.dynamicTyping[r]||t.dynamicTyping)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&(i.test(n)?parseFloat(n):o.test(n)?new Date(n):""===n?null:n):n;var r}function C(t,e,n,r){f.errors.push({type:t,code:e,message:n,row:r})}this.parse=function(i,o,s){var a=t.quoteChar||'"';if(t.newline||(t.newline=function(t,e){t=t.substr(0,1048576);var n=new RegExp(m(e)+"([^]*?)"+m(e),"gm"),r=(t=t.replace(n,"")).split("\r"),i=t.split("\n"),o=1<i.length&&i[0].length<r[0].length;if(1===r.length||o)return"\n";for(var s=0,a=0;a<r.length;a++)"\n"===r[a][0]&&s++;return s>=r.length/2?"\r\n":"\r"}(i,a)),r=!1,t.delimiter)x(t.delimiter)&&(t.delimiter=t.delimiter(i),f.meta.delimiter=t.delimiter);else{var c=function(e,n,r,i){for(var o,s,a,c=[",","\t","|",";",u.RECORD_SEP,u.UNIT_SEP],l=0;l<c.length;l++){var h=c[l],p=0,f=0,d=0;a=void 0;for(var m=new v({comments:i,delimiter:h,newline:n,preview:10}).parse(e),y=0;y<m.data.length;y++)if(r&&g(m.data[y]))d++;else{var b=m.data[y].length;f+=b,void 0!==a?1<b&&(p+=Math.abs(b-a),a=b):a=b}0<m.data.length&&(f/=m.data.length-d),(void 0===s||p<s)&&1.99<f&&(s=p,o=h)}return{successful:!!(t.delimiter=o),bestDelimiter:o}}(i,t.newline,t.skipEmptyLines,t.comments);c.successful?t.delimiter=c.bestDelimiter:(r=!0,t.delimiter=u.DefaultDelimiter),f.meta.delimiter=t.delimiter}var h=D(t);return t.preview&&t.header&&h.preview++,e=i,n=new v(h),f=n.parse(e,o,s),y(),l?{meta:{paused:!0}}:f||{meta:{paused:!1}}},this.paused=function(){return l},this.pause=function(){l=!0,n.abort(),e=e.substr(n.getCharIndex())},this.resume=function(){l=!1,s.streamer.parseChunk(e,!0)},this.aborted=function(){return h},this.abort=function(){h=!0,n.abort(),f.meta.aborted=!0,x(t.complete)&&t.complete(f),e=""}}function m(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function v(t){var e,n=(t=t||{}).delimiter,r=t.newline,i=t.comments,o=t.step,s=t.preview,a=t.fastMode,c=e=void 0===t.quoteChar?'"':t.quoteChar;if(void 0!==t.escapeChar&&(c=t.escapeChar),("string"!=typeof n||-1<u.BAD_DELIMITERS.indexOf(n))&&(n=","),i===n)throw"Comment character same as delimiter";!0===i?i="#":("string"!=typeof i||-1<u.BAD_DELIMITERS.indexOf(i))&&(i=!1),"\n"!==r&&"\r"!==r&&"\r\n"!==r&&(r="\n");var l=0,h=!1;this.parse=function(t,u,p){if("string"!=typeof t)throw"Input must be a string";var f=t.length,d=n.length,g=r.length,m=i.length,v=x(o),y=[],b=[],w=[],D=l=0;if(!t)return R();if(a||!1!==a&&-1===t.indexOf(e)){for(var C=t.split(r),E=0;E<C.length;E++){if(w=C[E],l+=w.length,E!==C.length-1)l+=r.length;else if(p)return R();if(!i||w.substr(0,m)!==i){if(v){if(y=[],O(w.split(n)),j(),h)return R()}else O(w.split(n));if(s&&s<=E)return y=y.slice(0,s),R(!0)}}return R()}for(var A,F=t.indexOf(n,l),_=t.indexOf(r,l),k=new RegExp(c.replace(/[-[\]\/{}()*+?.\\^$|]/g,"\\$&")+e,"g");;)if(t[l]!==e)if(i&&0===w.length&&t.substr(l,m)===i){if(-1===_)return R();l=_+g,_=t.indexOf(r,l),F=t.indexOf(n,l)}else if(-1!==F&&(F<_||-1===_))w.push(t.substring(l,F)),l=F+d,F=t.indexOf(n,l);else{if(-1===_)break;if(w.push(t.substring(l,_)),I(_+g),v&&(j(),h))return R();if(s&&y.length>=s)return R(!0)}else for(A=l,l++;;){if(-1===(A=t.indexOf(e,A+1)))return p||b.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:y.length,index:l}),N();if(A===f-1)return N(t.substring(l,A).replace(k,e));if(e!==c||t[A+1]!==c){if(e===c||0===A||t[A-1]!==c){var S=B(-1===_?F:Math.min(F,_));if(t[A+1+S]===n){w.push(t.substring(l,A).replace(k,e)),l=A+1+S+d,F=t.indexOf(n,l),_=t.indexOf(r,l);break}var T=B(_);if(t.substr(A+1+T,g)===r){if(w.push(t.substring(l,A).replace(k,e)),I(A+1+T+g),F=t.indexOf(n,l),v&&(j(),h))return R();if(s&&y.length>=s)return R(!0);break}b.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:y.length,index:l}),A++}}else A++}return N();function O(t){y.push(t),D=l}function B(e){var n=0;if(-1!==e){var r=t.substring(A+1,e);r&&""===r.trim()&&(n=r.length)}return n}function N(e){return p||(void 0===e&&(e=t.substr(l)),w.push(e),l=f,O(w),v&&j()),R()}function I(e){l=e,O(w),w=[],_=t.indexOf(r,l)}function R(t){return{data:y,errors:b,meta:{delimiter:n,linebreak:r,aborted:h,truncated:!!t,cursor:D+(u||0)}}}function j(){o(R()),y=[],b=[]}},this.abort=function(){h=!0},this.getCharIndex=function(){return l}}function y(t){var e=t.data,n=s[e.workerId],r=!1;if(e.error)n.userError(e.error,e.file);else if(e.results&&e.results.data){var i={abort:function(){r=!0,b(e.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:w,resume:w};if(x(n.userStep)){for(var o=0;o<e.results.data.length&&(n.userStep({data:[e.results.data[o]],errors:e.results.errors,meta:e.results.meta},i),!r);o++);delete e.results}else x(n.userChunk)&&(n.userChunk(e.results,i,e.file),delete e.results)}e.finished&&!r&&b(e.workerId,e.results)}function b(t,e){var n=s[t];x(n.userComplete)&&n.userComplete(e),n.terminate(),delete s[t]}function w(){throw"Not implemented."}function D(t){if("object"!=typeof t||null===t)return t;var e=Array.isArray(t)?[]:{};for(var n in t)e[n]=D(t[n]);return e}function C(t,e){return function(){t.apply(e,arguments)}}function x(t){return"function"==typeof t}return i?n.onmessage=function(t){var e=t.data;if(void 0===u.WORKER_ID&&e&&(u.WORKER_ID=e.workerId),"string"==typeof e.input)n.postMessage({workerId:u.WORKER_ID,results:u.parse(e.input,e.config),finished:!0});else if(n.File&&e.input instanceof File||e.input instanceof Object){var r=u.parse(e.input,e.config);r&&n.postMessage({workerId:u.WORKER_ID,results:r,finished:!0})}}:u.WORKERS_SUPPORTED&&(e=document.getElementsByTagName("script"),t=e.length?e[e.length-1].src:"",document.body?document.addEventListener("DOMContentLoaded",function(){o=!0},!0):o=!0),(h.prototype=Object.create(l.prototype)).constructor=h,(p.prototype=Object.create(l.prototype)).constructor=p,(f.prototype=Object.create(f.prototype)).constructor=f,(d.prototype=Object.create(l.prototype)).constructor=d,u})?r.apply(e,i):r)||(t.exports=o)},function(t,e,n){(function(n,r){var i,o,s;o=[],void 0===(s="function"==typeof(i=function(){"use strict";function e(t,e,r){var i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){a(i.response,e,r)},i.onerror=function(){n.error("could not download file")},i.send()}function i(t){var e=new XMLHttpRequest;return e.open("HEAD",t,!1),e.send(),200<=e.status&&299>=e.status}function o(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(n){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var s="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof r&&r.global===r?r:void 0,a=s.saveAs||"object"!=typeof window||window!==s?function(){}:"download"in HTMLAnchorElement.prototype?function(t,n,r){var a=s.URL||s.webkitURL,u=document.createElement("a");n=n||t.name||"download",u.download=n,u.rel="noopener","string"==typeof t?(u.href=t,u.origin===location.origin?o(u):i(u.href)?e(t,n,r):o(u,u.target="_blank")):(u.href=a.createObjectURL(t),setTimeout(function(){a.revokeObjectURL(u.href)},4e4),setTimeout(function(){o(u)},0))}:"msSaveOrOpenBlob"in navigator?function(t,r,s){if(r=r||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(n.warn("Depricated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,s),r);else if(i(t))e(t,r,s);else{var a=document.createElement("a");a.href=t,a.target="_blank",setTimeout(function(){o(a)})}}:function(t,n,r,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof t)return e(t,n,r);var o="application/octet-stream"===t.type,a=/constructor/i.test(s.HTMLElement)||s.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||o&&a)&&"object"==typeof FileReader){var c=new FileReader;c.onloadend=function(){var t=c.result;t=u?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=t:location=t,i=null},c.readAsDataURL(t)}else{var l=s.URL||s.webkitURL,h=l.createObjectURL(t);i?i.location=h:location.href=h,i=null,setTimeout(function(){l.revokeObjectURL(h)},4e4)}};s.saveAs=a.saveAs=a,void 0!==t&&(t.exports=a)})?i.apply(e,o):i)||(t.exports=s)}).call(e,n(0),n(1))},function(t,e,n){var r,i,o,s;s=function(t,e){var n,r={tap:{recognizerClass:e.Tap,options:{time:500},events:["tap"]},doubletap:{recognizerClass:e.Tap,options:{taps:2,event:"doubletap"},recognizeWith:["tap"],events:["doubletap"]},swipe:{recognizerClass:e.Swipe,options:{},events:["swipe","swipeleft","swiperight","swipeup","swipedown"]},pan:{recognizerClass:e.Pan,options:{direction:e.DIRECTION_HORIZONTAL},recognizeWith:["swipe"],events:["pan","panstart","panmove","panend","pancancel","panleft","panright","panup","pandown"]},press:{recognizerClass:e.Press,options:{},events:["press"]},rotate:{recognizerClass:e.Rotate,options:{},events:["rotate","rotatestart","rotatemove","rotateend","rotatecancel"]},pinch:{recognizerClass:e.Pinch,options:{},recognizeWith:["rotate"],events:["pinch","pinchstart","pinchmove","pinchend","pinchcancel","pinchin","pinchout"]}};for(var i in r)if(r.hasOwnProperty(i))for(var o=r[i].events,s=0;s<o.length;s++)a(o[s],i,r[i]);function a(e,n,i){t.events[e]=function(t,e,n){return function(i,o){var s=c(i),a=null!==s.get(e);if(!a){var l=new n.recognizerClass(n.options),h=function(t,e){for(var n,r=t.attributes,i=new RegExp("^(?:data-)?"+e+"-(.*)$"),o=r.length-1;o>=0;o--){var s=r[o],a=s.name.match(i);a&&(n||(n={}),n[a[1]]=u(s.value,a[1]))}return n}(i,e);h&&l.set(h),s.add(l),function(t){for(var e=0;e<t.recognizers.length;e++){var n=t.recognizers[e],i=n.options.event;if(r[i].hasOwnProperty("recognizeWith"))for(var o=r[i].recognizeWith,s=0;s<o.length;s++)t.get(o[s])&&n.recognizeWith(o[s])}}(s)}return s.on(t,function(t){o({node:i,original:t})}),{teardown:function(){c(i).destroy(),delete i._hammer}}}}(e,n,i)}function u(t,e){return t.match&&t.match(/^-?\d+(?:\.\d+)?$/)?+t:n[e]&&n[e][t]||n.all[t]||t}function c(t){return t._hammer?t._hammer:(t._hammer=new e.Manager(t,{recognizers:[]}),t._hammer)}return n={all:{true:!0,false:!1,undefined:void 0,null:null},direction:{none:e.DIRECTION_NONE,all:e.DIRECTION_ALL,up:e.DIRECTION_UP,down:e.DIRECTION_DOWN,left:e.DIRECTION_LEFT,right:e.DIRECTION_RIGHT,horizontal:e.DIRECTION_HORIZONTAL,vertical:e.DIRECTION_VERTICAL}},{defaults:r}},i=[n(2),n(39)],void 0===(o="function"==typeof(r=s)?r.apply(e,i):r)||(t.exports=o)},function(t,e,n){var r;!function(i,o,s,a){"use strict";var u,c=["","webkit","Moz","MS","ms","o"],l=o.createElement("div"),h="function",p=Math.round,f=Math.abs,d=Date.now;function g(t,e,n){return setTimeout(C(t,n),e)}function m(t,e,n){return!!Array.isArray(t)&&(v(t,n[e],n),!0)}function v(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==a)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function y(t,e,n){var r="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=i.console&&(i.console.warn||i.console.log);return o&&o.call(i.console,r,n),t.apply(this,arguments)}}u="function"!=typeof Object.assign?function(t){if(t===a||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==a&&null!==r)for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}return e}:Object.assign;var b=y(function(t,e,n){for(var r=Object.keys(e),i=0;i<r.length;)(!n||n&&t[r[i]]===a)&&(t[r[i]]=e[r[i]]),i++;return t},"extend","Use `assign`."),w=y(function(t,e){return b(t,e,!0)},"merge","Use `assign`.");function D(t,e,n){var r,i=e.prototype;(r=t.prototype=Object.create(i)).constructor=t,r._super=i,n&&u(r,n)}function C(t,e){return function(){return t.apply(e,arguments)}}function x(t,e){return typeof t==h?t.apply(e&&e[0]||a,e):t}function E(t,e){return t===a?e:t}function A(t,e,n){v(S(e),function(e){t.addEventListener(e,n,!1)})}function F(t,e,n){v(S(e),function(e){t.removeEventListener(e,n,!1)})}function _(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function k(t,e){return t.indexOf(e)>-1}function S(t){return t.trim().split(/\s+/g)}function T(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}function O(t){return Array.prototype.slice.call(t,0)}function B(t,e,n){for(var r=[],i=[],o=0;o<t.length;){var s=e?t[o][e]:t[o];T(i,s)<0&&r.push(t[o]),i[o]=s,o++}return n&&(r=e?r.sort(function(t,n){return t[e]>n[e]}):r.sort()),r}function N(t,e){for(var n,r,i=e[0].toUpperCase()+e.slice(1),o=0;o<c.length;){if((r=(n=c[o])?n+i:e)in t)return r;o++}return a}var I=1;function R(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||i}var j="ontouchstart"in i,P=N(i,"PointerEvent")!==a,M=j&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),L=25,z=1,$=2,q=4,U=8,V=1,H=2,W=4,K=8,G=16,Y=H|W,X=K|G,Q=Y|X,J=["x","y"],Z=["clientX","clientY"];function tt(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){x(t.options.enable,[t])&&n.handler(e)},this.init()}function et(t,e,n){var r=n.pointers.length,i=n.changedPointers.length,o=e&z&&r-i==0,s=e&(q|U)&&r-i==0;n.isFirst=!!o,n.isFinal=!!s,o&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,r=e.pointers,i=r.length;n.firstInput||(n.firstInput=nt(e));i>1&&!n.firstMultiple?n.firstMultiple=nt(e):1===i&&(n.firstMultiple=!1);var o=n.firstInput,s=n.firstMultiple,u=s?s.center:o.center,c=e.center=rt(r);e.timeStamp=d(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=at(u,c),e.distance=st(u,c),function(t,e){var n=e.center,r=t.offsetDelta||{},i=t.prevDelta||{},o=t.prevInput||{};e.eventType!==z&&o.eventType!==q||(i=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y});e.deltaX=i.x+(n.x-r.x),e.deltaY=i.y+(n.y-r.y)}(n,e),e.offsetDirection=ot(e.deltaX,e.deltaY);var l=it(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=l.x,e.overallVelocityY=l.y,e.overallVelocity=f(l.x)>f(l.y)?l.x:l.y,e.scale=s?(h=s.pointers,p=r,st(p[0],p[1],Z)/st(h[0],h[1],Z)):1,e.rotation=s?function(t,e){return at(e[1],e[0],Z)+at(t[1],t[0],Z)}(s.pointers,r):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,r,i,o,s=t.lastInterval||e,u=e.timeStamp-s.timeStamp;if(e.eventType!=U&&(u>L||s.velocity===a)){var c=e.deltaX-s.deltaX,l=e.deltaY-s.deltaY,h=it(u,c,l);r=h.x,i=h.y,n=f(h.x)>f(h.y)?h.x:h.y,o=ot(c,l),t.lastInterval=e}else n=s.velocity,r=s.velocityX,i=s.velocityY,o=s.direction;e.velocity=n,e.velocityX=r,e.velocityY=i,e.direction=o}(n,e);var h,p;var g=t.element;_(e.srcEvent.target,g)&&(g=e.srcEvent.target);e.target=g}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function nt(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:p(t.pointers[n].clientX),clientY:p(t.pointers[n].clientY)},n++;return{timeStamp:d(),pointers:e,center:rt(e),deltaX:t.deltaX,deltaY:t.deltaY}}function rt(t){var e=t.length;if(1===e)return{x:p(t[0].clientX),y:p(t[0].clientY)};for(var n=0,r=0,i=0;i<e;)n+=t[i].clientX,r+=t[i].clientY,i++;return{x:p(n/e),y:p(r/e)}}function it(t,e,n){return{x:e/t||0,y:n/t||0}}function ot(t,e){return t===e?V:f(t)>=f(e)?t<0?H:W:e<0?K:G}function st(t,e,n){n||(n=J);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return Math.sqrt(r*r+i*i)}function at(t,e,n){n||(n=J);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return 180*Math.atan2(i,r)/Math.PI}tt.prototype={handler:function(){},init:function(){this.evEl&&A(this.element,this.evEl,this.domHandler),this.evTarget&&A(this.target,this.evTarget,this.domHandler),this.evWin&&A(R(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&F(this.element,this.evEl,this.domHandler),this.evTarget&&F(this.target,this.evTarget,this.domHandler),this.evWin&&F(R(this.element),this.evWin,this.domHandler)}};var ut={mousedown:z,mousemove:$,mouseup:q},ct="mousedown",lt="mousemove mouseup";function ht(){this.evEl=ct,this.evWin=lt,this.pressed=!1,tt.apply(this,arguments)}D(ht,tt,{handler:function(t){var e=ut[t.type];e&z&&0===t.button&&(this.pressed=!0),e&$&&1!==t.which&&(e=q),this.pressed&&(e&q&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var pt={pointerdown:z,pointermove:$,pointerup:q,pointercancel:U,pointerout:U},ft={2:"touch",3:"pen",4:"mouse",5:"kinect"},dt="pointerdown",gt="pointermove pointerup pointercancel";function mt(){this.evEl=dt,this.evWin=gt,tt.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}i.MSPointerEvent&&!i.PointerEvent&&(dt="MSPointerDown",gt="MSPointerMove MSPointerUp MSPointerCancel"),D(mt,tt,{handler:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),i=pt[r],o=ft[t.pointerType]||t.pointerType,s="touch"==o,a=T(e,t.pointerId,"pointerId");i&z&&(0===t.button||s)?a<0&&(e.push(t),a=e.length-1):i&(q|U)&&(n=!0),a<0||(e[a]=t,this.callback(this.manager,i,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(a,1))}});var vt={touchstart:z,touchmove:$,touchend:q,touchcancel:U},yt="touchstart",bt="touchstart touchmove touchend touchcancel";function wt(){this.evTarget=yt,this.evWin=bt,this.started=!1,tt.apply(this,arguments)}D(wt,tt,{handler:function(t){var e=vt[t.type];if(e===z&&(this.started=!0),this.started){var n=function(t,e){var n=O(t.touches),r=O(t.changedTouches);e&(q|U)&&(n=B(n.concat(r),"identifier",!0));return[n,r]}.call(this,t,e);e&(q|U)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}});var Dt={touchstart:z,touchmove:$,touchend:q,touchcancel:U},Ct="touchstart touchmove touchend touchcancel";function xt(){this.evTarget=Ct,this.targetIds={},tt.apply(this,arguments)}D(xt,tt,{handler:function(t){var e=Dt[t.type],n=function(t,e){var n=O(t.touches),r=this.targetIds;if(e&(z|$)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,s=O(t.changedTouches),a=[],u=this.target;if(o=n.filter(function(t){return _(t.target,u)}),e===z)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;i=0;for(;i<s.length;)r[s[i].identifier]&&a.push(s[i]),e&(q|U)&&delete r[s[i].identifier],i++;if(!a.length)return;return[B(o.concat(a),"identifier",!0),a]}.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}});var Et=2500,At=25;function Ft(){tt.apply(this,arguments);var t=C(this.handler,this);this.touch=new xt(this.manager,t),this.mouse=new ht(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function _t(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout(function(){var t=r.indexOf(n);t>-1&&r.splice(t,1)},Et)}}D(Ft,tt,{handler:function(t,e,n){var r="touch"==n.pointerType,i="mouse"==n.pointerType;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)(function(t,e){t&z?(this.primaryTouch=e.changedPointers[0].identifier,_t.call(this,e)):t&(q|U)&&_t.call(this,e)}).call(this,e,n);else if(i&&function(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(e-i.x),s=Math.abs(n-i.y);if(o<=At&&s<=At)return!0}return!1}.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var kt=N(l.style,"touchAction"),St=kt!==a,Tt="auto",Ot="manipulation",Bt="none",Nt="pan-x",It="pan-y",Rt=function(){if(!St)return!1;var t={},e=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){t[n]=!e||i.CSS.supports("touch-action",n)}),t}();function jt(t,e){this.manager=t,this.set(e)}jt.prototype={set:function(t){"compute"==t&&(t=this.compute()),St&&this.manager.element.style&&Rt[t]&&(this.manager.element.style[kt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return v(this.manager.recognizers,function(e){x(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),function(t){if(k(t,Bt))return Bt;var e=k(t,Nt),n=k(t,It);if(e&&n)return Bt;if(e||n)return e?Nt:It;if(k(t,Ot))return Ot;return Tt}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var r=this.actions,i=k(r,Bt)&&!Rt[Bt],o=k(r,It)&&!Rt[It],s=k(r,Nt)&&!Rt[Nt];if(i){var a=1===t.pointers.length,u=t.distance<2,c=t.deltaTime<250;if(a&&u&&c)return}if(!s||!o)return i||o&&n&Y||s&&n&X?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var Pt=1,Mt=2,Lt=4,zt=8,$t=zt,qt=16;function Ut(t){this.options=u({},this.defaults,t||{}),this.id=I++,this.manager=null,this.options.enable=E(this.options.enable,!0),this.state=Pt,this.simultaneous={},this.requireFail=[]}function Vt(t){return t&qt?"cancel":t&zt?"end":t&Lt?"move":t&Mt?"start":""}function Ht(t){return t==G?"down":t==K?"up":t==H?"left":t==W?"right":""}function Wt(t,e){var n=e.manager;return n?n.get(t):t}function Kt(){Ut.apply(this,arguments)}function Gt(){Kt.apply(this,arguments),this.pX=null,this.pY=null}function Yt(){Kt.apply(this,arguments)}function Xt(){Ut.apply(this,arguments),this._timer=null,this._input=null}function Qt(){Kt.apply(this,arguments)}function Jt(){Kt.apply(this,arguments)}function Zt(){Ut.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function te(t,e){return(e=e||{}).recognizers=E(e.recognizers,te.defaults.preset),new ee(t,e)}Ut.prototype={defaults:{},set:function(t){return u(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(m(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=Wt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return m(t,"dropRecognizeWith",this)?this:(t=Wt(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(m(t,"requireFailure",this))return this;var e=this.requireFail;return-1===T(e,t=Wt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(m(t,"dropRequireFailure",this))return this;t=Wt(t,this);var e=T(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function r(n){e.manager.emit(n,t)}n<zt&&r(e.options.event+Vt(n)),r(e.options.event),t.additionalEvent&&r(t.additionalEvent),n>=zt&&r(e.options.event+Vt(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|Pt)))return!1;t++}return!0},recognize:function(t){var e=u({},t);if(!x(this.options.enable,[this,e]))return this.reset(),void(this.state=32);this.state&($t|qt|32)&&(this.state=Pt),this.state=this.process(e),this.state&(Mt|Lt|zt|qt)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},D(Kt,Ut,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,r=e&(Mt|Lt),i=this.attrTest(t);return r&&(n&U||!i)?e|qt:r||i?n&q?e|zt:e&Mt?e|Lt:Mt:32}}),D(Gt,Kt,{defaults:{event:"pan",threshold:10,pointers:1,direction:Q},getTouchAction:function(){var t=this.options.direction,e=[];return t&Y&&e.push(It),t&X&&e.push(Nt),e},directionTest:function(t){var e=this.options,n=!0,r=t.distance,i=t.direction,o=t.deltaX,s=t.deltaY;return i&e.direction||(e.direction&Y?(i=0===o?V:o<0?H:W,n=o!=this.pX,r=Math.abs(t.deltaX)):(i=0===s?V:s<0?K:G,n=s!=this.pY,r=Math.abs(t.deltaY))),t.direction=i,n&&r>e.threshold&&i&e.direction},attrTest:function(t){return Kt.prototype.attrTest.call(this,t)&&(this.state&Mt||!(this.state&Mt)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Ht(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),D(Yt,Kt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Bt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&Mt)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),D(Xt,Ut,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Tt]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime>e.time;if(this._input=t,!r||!n||t.eventType&(q|U)&&!i)this.reset();else if(t.eventType&z)this.reset(),this._timer=g(function(){this.state=$t,this.tryEmit()},e.time,this);else if(t.eventType&q)return $t;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===$t&&(t&&t.eventType&q?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=d(),this.manager.emit(this.options.event,this._input)))}}),D(Qt,Kt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Bt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&Mt)}}),D(Jt,Kt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Y|X,pointers:1},getTouchAction:function(){return Gt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(Y|X)?e=t.overallVelocity:n&Y?e=t.overallVelocityX:n&X&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&f(e)>this.options.velocity&&t.eventType&q},emit:function(t){var e=Ht(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),D(Zt,Ut,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Ot]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime<e.time;if(this.reset(),t.eventType&z&&0===this.count)return this.failTimeout();if(r&&i&&n){if(t.eventType!=q)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,s=!this.pCenter||st(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,s&&o?this.count+=1:this.count=1,this._input=t,0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=g(function(){this.state=$t,this.tryEmit()},e.interval,this),Mt):$t}return 32},failTimeout:function(){return this._timer=g(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==$t&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),te.VERSION="2.0.7",te.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Qt,{enable:!1}],[Yt,{enable:!1},["rotate"]],[Jt,{direction:Y}],[Gt,{direction:Y},["swipe"]],[Zt],[Zt,{event:"doubletap",taps:2},["tap"]],[Xt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function ee(t,e){var n;this.options=u({},te.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(P?mt:M?xt:j?Ft:ht))(n,et),this.touchAction=new jt(this,this.options.touchAction),ne(this,!0),v(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function ne(t,e){var n,r=t.element;r.style&&(v(t.options.cssProps,function(i,o){n=N(r.style,o),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={}))}ee.prototype={set:function(t){return u(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var r=this.recognizers,i=e.curRecognizer;(!i||i&&i.state&$t)&&(i=e.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],2===e.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(t),!i&&n.state&(Mt|Lt|zt)&&(i=e.curRecognizer=n),o++}},get:function(t){if(t instanceof Ut)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(m(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(m(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=T(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==a&&e!==a){var n=this.handlers;return v(S(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this}},off:function(t,e){if(t!==a){var n=this.handlers;return v(S(t),function(t){e?n[t]&&n[t].splice(T(n[t],e),1):delete n[t]}),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var n=o.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](e),r++}},destroy:function(){this.element&&ne(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},u(te,{INPUT_START:z,INPUT_MOVE:$,INPUT_END:q,INPUT_CANCEL:U,STATE_POSSIBLE:Pt,STATE_BEGAN:Mt,STATE_CHANGED:Lt,STATE_ENDED:zt,STATE_RECOGNIZED:$t,STATE_CANCELLED:qt,STATE_FAILED:32,DIRECTION_NONE:V,DIRECTION_LEFT:H,DIRECTION_RIGHT:W,DIRECTION_UP:K,DIRECTION_DOWN:G,DIRECTION_HORIZONTAL:Y,DIRECTION_VERTICAL:X,DIRECTION_ALL:Q,Manager:ee,Input:tt,TouchAction:jt,TouchInput:xt,MouseInput:ht,PointerEventInput:mt,TouchMouseInput:Ft,SingleTouchInput:wt,Recognizer:Ut,AttrRecognizer:Kt,Tap:Zt,Pan:Gt,Swipe:Jt,Pinch:Yt,Rotate:Qt,Press:Xt,on:A,off:F,each:v,merge:w,extend:b,assign:u,inherit:D,bindFn:C,prefixed:N}),(void 0!==i?i:"undefined"!=typeof self?self:{}).Hammer=te,(r=function(){return te}.call(e,n,e,t))===a||(t.exports=r)}(window,document)},function(t,e,n){!function(n,r){var i={version:"0.4.1",settings:{currency:{symbol:"$",format:"%s%v",decimal:".",thousand:",",precision:2,grouping:3},number:{precision:0,grouping:3,thousand:",",decimal:"."}}},o=Array.prototype.map,s=Array.isArray,a=Object.prototype.toString;function u(t){return!!(""===t||t&&t.charCodeAt&&t.substr)}function c(t){return s?s(t):"[object Array]"===a.call(t)}function l(t){return t&&"[object Object]"===a.call(t)}function h(t,e){var n;for(n in t=t||{},e=e||{})e.hasOwnProperty(n)&&null==t[n]&&(t[n]=e[n]);return t}function p(t,e,n){var r,i,s=[];if(!t)return s;if(o&&t.map===o)return t.map(e,n);for(r=0,i=t.length;r<i;r++)s[r]=e.call(n,t[r],r,t);return s}function f(t,e){return t=Math.round(Math.abs(t)),isNaN(t)?e:t}function d(t){var e=i.settings.currency.format;return"function"==typeof t&&(t=t()),u(t)&&t.match("%v")?{pos:t,neg:t.replace("-","").replace("%v","-%v"),zero:t}:t&&t.pos&&t.pos.match("%v")?t:u(e)?i.settings.currency.format={pos:e,neg:e.replace("%v","-%v"),zero:e}:e}var g=i.unformat=i.parse=function(t,e){if(c(t))return p(t,function(t){return g(t,e)});if("number"==typeof(t=t||0))return t;e=e||i.settings.number.decimal;var n=new RegExp("[^0-9-"+e+"]",["g"]),r=parseFloat((""+t).replace(/\((.*)\)/,"-$1").replace(n,"").replace(e,"."));return isNaN(r)?0:r},m=i.toFixed=function(t,e){e=f(e,i.settings.number.precision);var n=Math.pow(10,e);return(Math.round(i.unformat(t)*n)/n).toFixed(e)},v=i.formatNumber=i.format=function(t,e,n,r){if(c(t))return p(t,function(t){return v(t,e,n,r)});t=g(t);var o=h(l(e)?e:{precision:e,thousand:n,decimal:r},i.settings.number),s=f(o.precision),a=t<0?"-":"",u=parseInt(m(Math.abs(t||0),s),10)+"",d=u.length>3?u.length%3:0;return a+(d?u.substr(0,d)+o.thousand:"")+u.substr(d).replace(/(\d{3})(?=\d)/g,"$1"+o.thousand)+(s?o.decimal+m(Math.abs(t),s).split(".")[1]:"")},y=i.formatMoney=function(t,e,n,r,o,s){if(c(t))return p(t,function(t){return y(t,e,n,r,o,s)});t=g(t);var a=h(l(e)?e:{symbol:e,precision:n,thousand:r,decimal:o,format:s},i.settings.currency),u=d(a.format);return(t>0?u.pos:t<0?u.neg:u.zero).replace("%s",a.symbol).replace("%v",v(Math.abs(t),f(a.precision),a.thousand,a.decimal))};i.formatColumn=function(t,e,n,r,o,s){if(!t)return[];var a=h(l(e)?e:{symbol:e,precision:n,thousand:r,decimal:o,format:s},i.settings.currency),m=d(a.format),y=m.pos.indexOf("%s")<m.pos.indexOf("%v"),b=0,w=p(t,function(t,e){if(c(t))return i.formatColumn(t,a);var n=((t=g(t))>0?m.pos:t<0?m.neg:m.zero).replace("%s",a.symbol).replace("%v",v(Math.abs(t),f(a.precision),a.thousand,a.decimal));return n.length>b&&(b=n.length),n});return p(w,function(t,e){return u(t)&&t.length<b?y?t.replace(a.symbol,a.symbol+new Array(b-t.length+1).join(" ")):new Array(b-t.length+1).join(" ")+t:t})},void 0!==t&&t.exports&&(e=t.exports=i),e.accounting=i}()},function(t,e){var n,r;n="undefined"!=typeof window?window:this,r=function(){function t(t){return t instanceof Date?t:isNaN(t)?/^\d+$/.test(t)?new Date(e(t)):(t=(t||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),new Date(t)):new Date(e(t))}function e(t){return parseInt(t)}function n(t,n,r){n=l[n]?n:l[r]?r:"en";for(var i=0,o=t<0?1:0,s=t=Math.abs(t);t>=h[i]&&i<p;i++)t/=h[i];return(t=e(t))>(0===(i*=2)?9:1)&&(i+=1),l[n](t,i,s)[o].replace("%s",t)}function r(e,n){return((n=n?t(n):new Date)-t(e))/1e3}function i(t){return o(t,"data-timeago")||o(t,"datetime")}function o(t,e){return t.getAttribute?t.getAttribute(e):t.attr?t.attr(e):void 0}function s(t,e){this.nowDate=t,this.defaultLocale=e||"en"}function a(t,e){return new s(t,e)}var u="second_minute_hour_day_week_month_year".split("_"),c="______".split("_"),l={en:function(t,e){if(0===e)return["just now","right now"];var n=u[parseInt(e/2)];return t>1&&(n+="s"),[t+" "+n+" ago","in "+t+" "+n]},zh_CN:function(t,e){if(0===e)return["",""];var n=c[parseInt(e/2)];return[t+n+"",t+n+""]}},h=[60,60,24,7,365/7/12,12],p=6,f="data-tid",d={};return s.prototype.doRender=function(t,e,i){var o,s=r(e,this.nowDate),a=this;t.innerHTML=n(s,i,this.defaultLocale),d[o=setTimeout(function(){a.doRender(t,e,i),delete d[o]},Math.min(1e3*function(t){for(var e=1,n=0,r=Math.abs(t);t>=h[n]&&n<p;n++)t/=h[n],e*=h[n];return r=(r%=e)?e-r:e,Math.ceil(r)}(s),2147483647))]=0,function(t,e){t.setAttribute?t.setAttribute(f,e):t.attr&&t.attr(f,e)}(t,o)},s.prototype.format=function(t,e){return n(r(t,this.nowDate),e,this.defaultLocale)},s.prototype.render=function(t,e){void 0===t.length&&(t=[t]);for(var n=0,r=t.length;n<r;n++)this.doRender(t[n],i(t[n]),e)},s.prototype.setLocale=function(t){this.defaultLocale=t},a.register=function(t,e){l[t]=e},a.cancel=function(t){var e;if(t)(e=o(t,f))&&(clearTimeout(e),delete d[e]);else{for(e in d)clearTimeout(e);d={}}},a},"object"==typeof t&&t.exports?(t.exports=r(),t.exports.default=t.exports):n.timeago=r()},function(t,e,n){(function(n,r){var i,o,s;void 0!==n||(window||this.window||this.global),o=[],i=function(t){"use strict";var e={},n=(document.querySelector("body"),!!/Mobi/.test(navigator.userAgent)),i=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),o="undefined"!=typeof InstallTrigger,s="ontouchstart"in document.documentElement,a=["bottomRight","bottomLeft","bottomCenter","topRight","topLeft","topCenter","center"],u={};e.children={};var c={id:null,class:"",title:"",titleColor:"",titleSize:"",titleLineHeight:"",message:"",messageColor:"",messageSize:"",messageLineHeight:"",backgroundColor:"",theme:"light",color:"",icon:"",iconText:"",iconColor:"",iconUrl:null,image:"",imageWidth:50,maxWidth:null,zindex:null,layout:1,balloon:!1,close:!0,closeOnEscape:!1,closeOnClick:!1,displayMode:0,position:"bottomRight",target:"",targetFirst:!0,timeout:5e3,rtl:!1,animateInside:!0,drag:!0,pauseOnHover:!0,resetOnHover:!1,progressBar:!0,progressBarColor:"",progressBarEasing:"linear",overlay:!1,overlayClose:!1,overlayColor:"rgba(0, 0, 0, 0.6)",transitionIn:"fadeInUp",transitionOut:"fadeOut",transitionInMobile:"fadeInUp",transitionOutMobile:"fadeOutDown",buttons:{},inputs:{},onOpening:function(){},onOpened:function(){},onClosing:function(){},onClosed:function(){}};if("remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),"function"!=typeof window.CustomEvent){var l=function(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n};l.prototype=window.Event.prototype,window.CustomEvent=l}var h=function(t,e,n){if("[object Object]"===Object.prototype.toString.call(t))for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.call(n,t[r],r,t);else if(t)for(var i=0,o=t.length;i<o;i++)e.call(n,t[i],i,t)},p=function(t,e){var n={};return h(t,function(e,r){n[r]=t[r]}),h(e,function(t,r){n[r]=e[r]}),n},f=function(t){var e=document.createDocumentFragment(),n=document.createElement("div");for(n.innerHTML=t;n.firstChild;)e.appendChild(n.firstChild);return e},d={move:function(t,e,n,r){var s;0!==r&&(t.classList.add("iziToast-dragged"),t.style.transform="translateX("+r+"px)",r>0?(s=(180-r)/180)<.3&&e.hide(p(n,{transitionOut:"fadeOutRight",transitionOutMobile:"fadeOutRight"}),t,"drag"):(s=(180+r)/180)<.3&&e.hide(p(n,{transitionOut:"fadeOutLeft",transitionOutMobile:"fadeOutLeft"}),t,"drag"),t.style.opacity=s,s<.3&&((i||o)&&(t.style.left=r+"px"),t.parentNode.style.opacity=.3,this.stopMoving(t,null)))},startMoving:function(t,e,n,r){r=r||window.event;var i=s?r.touches[0].clientX:r.clientX,o=t.style.transform.replace("px)",""),a=i-(o=o.replace("translateX(",""));n.transitionIn&&t.classList.remove(n.transitionIn),n.transitionInMobile&&t.classList.remove(n.transitionInMobile),t.style.transition="",s?document.ontouchmove=function(r){r.preventDefault();var i=(r=r||window.event).touches[0].clientX-a;d.move(t,e,n,i)}:document.onmousemove=function(r){r.preventDefault();var i=(r=r||window.event).clientX-a;d.move(t,e,n,i)}},stopMoving:function(t,e){s?document.ontouchmove=function(){}:document.onmousemove=function(){},t.style.opacity="",t.style.transform="",t.classList.contains("iziToast-dragged")&&(t.classList.remove("iziToast-dragged"),t.style.transition="transform 0.4s ease, opacity 0.4s ease",setTimeout(function(){t.style.transition=""},400))}};return e.setSetting=function(t,n,r){e.children[t][n]=r},e.getSetting=function(t,n){return e.children[t][n]},e.destroy=function(){h(document.querySelectorAll(".iziToast-overlay"),function(t,e){t.remove()}),h(document.querySelectorAll(".iziToast-wrapper"),function(t,e){t.remove()}),h(document.querySelectorAll(".iziToast"),function(t,e){t.remove()}),this.children={},document.removeEventListener("iziToast-opened",{},!1),document.removeEventListener("iziToast-opening",{},!1),document.removeEventListener("iziToast-closing",{},!1),document.removeEventListener("iziToast-closed",{},!1),document.removeEventListener("keyup",{},!1),u={}},e.settings=function(t){e.destroy(),u=t,c=p(c,t||{})},h({info:{color:"blue",icon:"ico-info"},success:{color:"green",icon:"ico-success"},warning:{color:"orange",icon:"ico-warning"},error:{color:"red",icon:"ico-error"},question:{color:"yellow",icon:"ico-question"}},function(t,n){e[n]=function(e){var n=p(u,e||{});n=p(t,n||{}),this.show(n)}}),e.progress=function(t,e,n){var r=this,i=e.getAttribute("data-iziToast-ref"),o=p(this.children[i],t||{}),s=e.querySelector(".iziToast-progressbar div");return{start:function(){void 0===o.time.REMAINING&&(e.classList.remove("iziToast-reseted"),null!==s&&(s.style.transition="width "+o.timeout+"ms "+o.progressBarEasing,s.style.width="0%"),o.time.START=(new Date).getTime(),o.time.END=o.time.START+o.timeout,o.time.TIMER=setTimeout(function(){clearTimeout(o.time.TIMER),e.classList.contains("iziToast-closing")||(r.hide(o,e,"timeout"),"function"==typeof n&&n.apply(r))},o.timeout),r.setSetting(i,"time",o.time))},pause:function(){if(void 0!==o.time.START&&!e.classList.contains("iziToast-paused")&&!e.classList.contains("iziToast-reseted")){if(e.classList.add("iziToast-paused"),o.time.REMAINING=o.time.END-(new Date).getTime(),clearTimeout(o.time.TIMER),r.setSetting(i,"time",o.time),null!==s){var t=window.getComputedStyle(s).getPropertyValue("width");s.style.transition="none",s.style.width=t}"function"==typeof n&&setTimeout(function(){n.apply(r)},10)}},resume:function(){void 0!==o.time.REMAINING?(e.classList.remove("iziToast-paused"),null!==s&&(s.style.transition="width "+o.time.REMAINING+"ms "+o.progressBarEasing,s.style.width="0%"),o.time.END=(new Date).getTime()+o.time.REMAINING,o.time.TIMER=setTimeout(function(){clearTimeout(o.time.TIMER),e.classList.contains("iziToast-closing")||(r.hide(o,e,"timeout"),"function"==typeof n&&n.apply(r))},o.time.REMAINING),r.setSetting(i,"time",o.time)):this.start()},reset:function(){clearTimeout(o.time.TIMER),delete o.time.REMAINING,r.setSetting(i,"time",o.time),e.classList.add("iziToast-reseted"),e.classList.remove("iziToast-paused"),null!==s&&(s.style.transition="none",s.style.width="100%"),"function"==typeof n&&setTimeout(function(){n.apply(r)},10)}}},e.hide=function(t,e,i){"object"!=typeof e&&(e=document.querySelector(e));var o=this,s=p(this.children[e.getAttribute("data-iziToast-ref")],t||{});s.closedBy=i||null,delete s.time.REMAINING,e.classList.add("iziToast-closing"),function(){var t=document.querySelector(".iziToast-overlay");if(null!==t){var e=t.getAttribute("data-iziToast-ref"),n=(e=e.split(",")).indexOf(String(s.ref));-1!==n&&e.splice(n,1),t.setAttribute("data-iziToast-ref",e.join()),0===e.length&&(t.classList.remove("fadeIn"),t.classList.add("fadeOut"),setTimeout(function(){t.remove()},700))}}(),s.transitionIn&&e.classList.remove(s.transitionIn),s.transitionInMobile&&e.classList.remove(s.transitionInMobile),n||window.innerWidth<=568?s.transitionOutMobile&&e.classList.add(s.transitionOutMobile):s.transitionOut&&e.classList.add(s.transitionOut);var a=e.parentNode.offsetHeight;e.parentNode.style.height=a+"px",e.style.pointerEvents="none",(!n||window.innerWidth>568)&&(e.parentNode.style.transitionDelay="0.2s");try{var u=new CustomEvent("iziToast-closing",{detail:s,bubbles:!0,cancelable:!0});document.dispatchEvent(u)}catch(t){r.warn(t)}setTimeout(function(){e.parentNode.style.height="0px",e.parentNode.style.overflow="",setTimeout(function(){delete o.children[s.ref],e.parentNode.remove();try{var t=new CustomEvent("iziToast-closed",{detail:s,bubbles:!0,cancelable:!0});document.dispatchEvent(t)}catch(t){r.warn(t)}void 0!==s.onClosed&&s.onClosed.apply(null,[s,e,i])},1e3)},200),void 0!==s.onClosing&&s.onClosing.apply(null,[s,e,i])},e.show=function(t){var i,o=this,l=p(u,t||{});if((l=p(c,l)).time={},null===l.id&&(l.id=(i=l.title+l.message+l.color,btoa(encodeURIComponent(i)).replace(/=/g,""))),1===l.displayMode||"once"==l.displayMode)try{if(document.querySelectorAll(".iziToast#"+l.id).length>0)return!1}catch(t){r.warn("[iziToast] Could not find an element with this selector: #"+l.id+". Try to set an valid id.")}if(2===l.displayMode||"replace"==l.displayMode)try{h(document.querySelectorAll(".iziToast#"+l.id),function(t,e){o.hide(l,t,"replaced")})}catch(t){r.warn("[iziToast] Could not find an element with this selector: #"+l.id+". Try to set an valid id.")}l.ref=(new Date).getTime()+Math.floor(1e7*Math.random()+1),e.children[l.ref]=l;var g,m={body:document.querySelector("body"),overlay:document.createElement("div"),toast:document.createElement("div"),toastBody:document.createElement("div"),toastTexts:document.createElement("div"),toastCapsule:document.createElement("div"),cover:document.createElement("div"),buttons:document.createElement("div"),inputs:document.createElement("div"),icon:l.iconUrl?document.createElement("img"):document.createElement("i"),wrapper:null};m.toast.setAttribute("data-iziToast-ref",l.ref),m.toast.appendChild(m.toastBody),m.toastCapsule.appendChild(m.toast),function(){if(m.toast.classList.add("iziToast"),m.toast.classList.add("iziToast-opening"),m.toastCapsule.classList.add("iziToast-capsule"),m.toastBody.classList.add("iziToast-body"),m.toastTexts.classList.add("iziToast-texts"),n||window.innerWidth<=568?l.transitionInMobile&&m.toast.classList.add(l.transitionInMobile):l.transitionIn&&m.toast.classList.add(l.transitionIn),l.class){var t=l.class.split(" ");h(t,function(t,e){m.toast.classList.add(t)})}var e;l.id&&(m.toast.id=l.id),l.rtl&&(m.toast.classList.add("iziToast-rtl"),m.toast.setAttribute("dir","rtl")),l.layout>1&&m.toast.classList.add("iziToast-layout"+l.layout),l.balloon&&m.toast.classList.add("iziToast-balloon"),l.maxWidth&&(isNaN(l.maxWidth)?m.toast.style.maxWidth=l.maxWidth:m.toast.style.maxWidth=l.maxWidth+"px"),""===l.theme&&"light"===l.theme||m.toast.classList.add("iziToast-theme-"+l.theme),l.color&&("#"==(e=l.color).substring(0,1)||"rgb"==e.substring(0,3)||"hsl"==e.substring(0,3)?m.toast.style.background=l.color:m.toast.classList.add("iziToast-color-"+l.color)),l.backgroundColor&&(m.toast.style.background=l.backgroundColor,l.balloon&&(m.toast.style.borderColor=l.backgroundColor))}(),l.image&&(m.cover.classList.add("iziToast-cover"),m.cover.style.width=l.imageWidth+"px",function(t){try{return btoa(atob(t))==t}catch(t){return!1}}(l.image.replace(/ /g,""))?m.cover.style.backgroundImage="url(data:image/png;base64,"+l.image.replace(/ /g,"")+")":m.cover.style.backgroundImage="url("+l.image+")",l.rtl?m.toastBody.style.marginRight=l.imageWidth+10+"px":m.toastBody.style.marginLeft=l.imageWidth+10+"px",m.toast.appendChild(m.cover)),l.close?(m.buttonClose=document.createElement("button"),m.buttonClose.type="button",m.buttonClose.classList.add("iziToast-close"),m.buttonClose.addEventListener("click",function(t){t.target,o.hide(l,m.toast,"button")}),m.toast.appendChild(m.buttonClose)):l.rtl?m.toast.style.paddingLeft="18px":m.toast.style.paddingRight="18px",l.progressBar&&(m.progressBar=document.createElement("div"),m.progressBarDiv=document.createElement("div"),m.progressBar.classList.add("iziToast-progressbar"),m.progressBarDiv.style.background=l.progressBarColor,m.progressBar.appendChild(m.progressBarDiv),m.toast.appendChild(m.progressBar)),l.timeout&&(l.pauseOnHover&&!l.resetOnHover&&(m.toast.addEventListener("mouseenter",function(t){o.progress(l,m.toast).pause()}),m.toast.addEventListener("mouseleave",function(t){o.progress(l,m.toast).resume()})),l.resetOnHover&&(m.toast.addEventListener("mouseenter",function(t){o.progress(l,m.toast).reset()}),m.toast.addEventListener("mouseleave",function(t){o.progress(l,m.toast).start()}))),l.iconUrl?(m.icon.setAttribute("class","iziToast-icon"),m.icon.setAttribute("src",l.iconUrl)):l.icon&&(m.icon.setAttribute("class","iziToast-icon "+l.icon),l.iconText&&m.icon.appendChild(document.createTextNode(l.iconText)),l.iconColor&&(m.icon.style.color=l.iconColor)),(l.icon||l.iconUrl)&&(l.rtl?m.toastBody.style.paddingRight="33px":m.toastBody.style.paddingLeft="33px",m.toastBody.appendChild(m.icon)),l.title.length>0&&(m.strong=document.createElement("strong"),m.strong.classList.add("iziToast-title"),m.strong.appendChild(f(l.title)),m.toastTexts.appendChild(m.strong),l.titleColor&&(m.strong.style.color=l.titleColor),l.titleSize&&(isNaN(l.titleSize)?m.strong.style.fontSize=l.titleSize:m.strong.style.fontSize=l.titleSize+"px"),l.titleLineHeight&&(isNaN(l.titleSize)?m.strong.style.lineHeight=l.titleLineHeight:m.strong.style.lineHeight=l.titleLineHeight+"px")),l.message.length>0&&(m.p=document.createElement("p"),m.p.classList.add("iziToast-message"),m.p.appendChild(f(l.message)),m.toastTexts.appendChild(m.p),l.messageColor&&(m.p.style.color=l.messageColor),l.messageSize&&(isNaN(l.titleSize)?m.p.style.fontSize=l.messageSize:m.p.style.fontSize=l.messageSize+"px"),l.messageLineHeight&&(isNaN(l.titleSize)?m.p.style.lineHeight=l.messageLineHeight:m.p.style.lineHeight=l.messageLineHeight+"px")),l.title.length>0&&l.message.length>0&&(l.rtl?m.strong.style.marginLeft="10px":2===l.layout||l.rtl||(m.strong.style.marginRight="10px")),m.toastBody.appendChild(m.toastTexts),l.inputs.length>0&&(m.inputs.classList.add("iziToast-inputs"),h(l.inputs,function(t,e){m.inputs.appendChild(f(t[0])),(g=m.inputs.childNodes)[e].classList.add("iziToast-inputs-child"),t[3]&&setTimeout(function(){g[e].focus()},300),g[e].addEventListener(t[1],function(e){return(0,t[2])(o,m.toast,this,e)})}),m.toastBody.appendChild(m.inputs)),l.buttons.length>0&&(m.buttons.classList.add("iziToast-buttons"),h(l.buttons,function(t,e){m.buttons.appendChild(f(t[0]));var n=m.buttons.childNodes;n[e].classList.add("iziToast-buttons-child"),t[2]&&setTimeout(function(){n[e].focus()},300),n[e].addEventListener("click",function(e){return e.preventDefault(),(0,t[1])(o,m.toast,this,e,g)})})),m.toastBody.appendChild(m.buttons),l.message.length>0&&(l.inputs.length>0||l.buttons.length>0)&&(m.p.style.marginBottom="0"),(l.inputs.length>0||l.buttons.length>0)&&(l.rtl?m.toastTexts.style.marginLeft="10px":m.toastTexts.style.marginRight="10px",l.inputs.length>0&&l.buttons.length>0&&(l.rtl?m.inputs.style.marginLeft="8px":m.inputs.style.marginRight="8px")),m.toastCapsule.style.visibility="hidden",setTimeout(function(){var t=m.toast.offsetHeight,e=m.toast.currentStyle||window.getComputedStyle(m.toast),n=e.marginTop;n=n.split("px"),n=parseInt(n[0]);var r=e.marginBottom;r=r.split("px"),r=parseInt(r[0]),m.toastCapsule.style.visibility="",m.toastCapsule.style.height=t+r+n+"px",setTimeout(function(){m.toastCapsule.style.height="auto",l.target&&(m.toastCapsule.style.overflow="visible")},500),l.timeout&&o.progress(l,m.toast).start()},100),function(){var t=l.position;if(l.target)m.wrapper=document.querySelector(l.target),m.wrapper.classList.add("iziToast-target"),l.targetFirst?m.wrapper.insertBefore(m.toastCapsule,m.wrapper.firstChild):m.wrapper.appendChild(m.toastCapsule);else{if(-1==a.indexOf(l.position))return void r.warn("[iziToast] Incorrect position.\nIt can be  "+a);t=n||window.innerWidth<=568?"bottomLeft"==l.position||"bottomRight"==l.position||"bottomCenter"==l.position?"iziToast-wrapper-bottomCenter":"topLeft"==l.position||"topRight"==l.position||"topCenter"==l.position?"iziToast-wrapper-topCenter":"iziToast-wrapper-center":"iziToast-wrapper-"+t,m.wrapper=document.querySelector(".iziToast-wrapper."+t),m.wrapper||(m.wrapper=document.createElement("div"),m.wrapper.classList.add("iziToast-wrapper"),m.wrapper.classList.add(t),document.body.appendChild(m.wrapper)),"topLeft"==l.position||"topCenter"==l.position||"topRight"==l.position?m.wrapper.insertBefore(m.toastCapsule,m.wrapper.firstChild):m.wrapper.appendChild(m.toastCapsule)}isNaN(l.zindex)?r.warn("[iziToast] Invalid zIndex."):m.wrapper.style.zIndex=l.zindex}(),l.overlay&&(null!==document.querySelector(".iziToast-overlay.fadeIn")?(m.overlay=document.querySelector(".iziToast-overlay"),m.overlay.setAttribute("data-iziToast-ref",m.overlay.getAttribute("data-iziToast-ref")+","+l.ref),isNaN(l.zindex)||null===l.zindex||(m.overlay.style.zIndex=l.zindex-1)):(m.overlay.classList.add("iziToast-overlay"),m.overlay.classList.add("fadeIn"),m.overlay.style.background=l.overlayColor,m.overlay.setAttribute("data-iziToast-ref",l.ref),isNaN(l.zindex)||null===l.zindex||(m.overlay.style.zIndex=l.zindex-1),document.querySelector("body").appendChild(m.overlay)),l.overlayClose?(m.overlay.removeEventListener("click",{}),m.overlay.addEventListener("click",function(t){o.hide(l,m.toast,"overlay")})):m.overlay.removeEventListener("click",{})),function(){if(l.animateInside){m.toast.classList.add("iziToast-animateInside");var t=[200,100,300];"bounceInLeft"!=l.transitionIn&&"bounceInRight"!=l.transitionIn||(t=[400,200,400]),l.title.length>0&&setTimeout(function(){m.strong.classList.add("slideIn")},t[0]),l.message.length>0&&setTimeout(function(){m.p.classList.add("slideIn")},t[1]),(l.icon||l.iconUrl)&&setTimeout(function(){m.icon.classList.add("revealIn")},t[2]);var e=150;l.buttons.length>0&&m.buttons&&setTimeout(function(){h(m.buttons.childNodes,function(t,n){setTimeout(function(){t.classList.add("revealIn")},e),e+=150})},l.inputs.length>0?150:0),l.inputs.length>0&&m.inputs&&(e=150,h(m.inputs.childNodes,function(t,n){setTimeout(function(){t.classList.add("revealIn")},e),e+=150}))}}(),l.onOpening.apply(null,[l,m.toast]);try{var v=new CustomEvent("iziToast-opening",{detail:l,bubbles:!0,cancelable:!0});document.dispatchEvent(v)}catch(t){r.warn(t)}setTimeout(function(){m.toast.classList.remove("iziToast-opening"),m.toast.classList.add("iziToast-opened");try{var t=new CustomEvent("iziToast-opened",{detail:l,bubbles:!0,cancelable:!0});document.dispatchEvent(t)}catch(t){r.warn(t)}l.onOpened.apply(null,[l,m.toast])},1e3),l.drag&&(s?(m.toast.addEventListener("touchstart",function(t){d.startMoving(this,o,l,t)},!1),m.toast.addEventListener("touchend",function(t){d.stopMoving(this,t)},!1)):(m.toast.addEventListener("mousedown",function(t){t.preventDefault(),d.startMoving(this,o,l,t)},!1),m.toast.addEventListener("mouseup",function(t){t.preventDefault(),d.stopMoving(this,t)},!1))),l.closeOnEscape&&document.addEventListener("keyup",function(t){27==(t=t||window.event).keyCode&&o.hide(l,m.toast,"esc")}),l.closeOnClick&&m.toast.addEventListener("click",function(t){o.hide(l,m.toast,"toast")}),o.toast=m.toast},e}(),void 0===(s="function"==typeof i?i.apply(e,o):i)||(t.exports=s)}).call(e,n(1),n(0))},function(t,e,n){(function(t,e){var r=n(2),i=t;i.exports={onrender:async function(){var t=this,n=await db.getItem("company_id"),i=await db.getItem("username"),o=await db.getItem("userpass");n&&i&&o||t.set("selectedModule","settings"),this.on("onModuleSelect",function(n,r,i=null){return e.log("onModuleSelect",n,r,i),n&&n.original&&n.original.preventDefault(),n&&n.original&&n.original.stopPropagation(),t.set("selectedModule",r),i&&t.set("nextSelectedModuleParams",i),i?socket.emit("get_rows",r,i):socket.emit("get_rows",r),!1}),this.on("export2CSV",function(){if(table4Export.length){var t=table4Export[table4Export.length-1];if(t){var e=t.get("fr")||[],n=t.get("selectedModule")||"noname",r=Papa.unparse(e,{quotes:!0,delimiter:";"}),i=new Blob([r]);FileSaver.saveAs(i,n+".csv")}}}),this.on("export2PDF",function(){if(table4Export.length){var n=table4Export[table4Export.length-1];if(n){var i=n.get("fr")||[],o=n.get("selectedModule")||"noname",s=[].concat(t.get("setings."+o+".columns")||[]),a=t.get("setings."+o+".is_landscape")?"landscape":"portrait",u=t.get("setings."+o+".label")||o,c=t.get("setings."+o+".headerPdf"),l=null;if(c){var h=function(t,e){return new(r.extend({template:t,preserveWhitespace:!0}))({data:e.get()}).toHTML()}(c,n);try{l=JSON5.parse(h)}catch(t){e.log("bad JSON",h)}}e.log("headerPdfReplaced",l);var p=[];s.splice(0,0,{compType:"number",visible_pdf:!0,label:"#",compId:"RB",w:"5rem"});for(var f=[],d=[],g=0;g<s.length;g++)if(s[g].visible_pdf){s[g].alignment="left",s[g].format=function(t){return t},"number"==s[g].compType&&(s[g].format=function(t){return accounting.formatNumber(t,2,"")},s[g].alignment="right"),p.push(s[g]),f.push({text:s[g].label,alignment:s[g].alignment,style:"tableHeader",fillColor:"#eee"});var m="*";s[g].w&&(m="auto"),d.push(m)}var v=[];for(g=0;g<p.length;g++)v.push(p[g].aggregate?0:null);var y=[];y.push(f);for(var b=0;b<i.length;b++){var w=[];for(g=0;g<p.length;g++)if(0!=g){var D=i[b][p[g].compId];w.push({text:p[g].format(D),alignment:p[g].alignment,style:"tableHeader"}),p[g].aggregate&&(v[g]+=D)}else w.push({text:b+1+".",alignment:"right",style:"tableHeader"});y.push(w)}w=[];var C=[],x=p.length;for(g=0;g<p.length;g++)if(null!==v[g]){x=g;break}for(g=0;g<p.length;g++)C.push(0==g?{text:"",colSpan:p.length}:{text:""}),w.push({text:null===v[g]?0==g?"Total  ":"":accounting.formatNumber(v[g],2,""),alignment:0==g?"right":p[g].alignment,colSpan:0==g?x:1,style:"tableHeader"});y.push(C),y.push(w),y.push(C);var E={};l&&!Array.isArray(l)?(E=l).footer=function(t,e){return{text:t.toString()+" / "+e,alignment:"center"}}:E={pageOrientation:a,info:{title:u,author:"igor",subject:"subject of document",keywords:"keywords for document"},footer:function(t,e){return{text:t.toString()+" / "+e,alignment:"center"}},content:(l||[{text:u+"\n\n",bold:!0,alignment:"center",fontSize:14}]).concat([{layout:"lightHorizontalLines",table:{headerRows:1,widths:d,body:y}}]),styles:{header:{fontSize:18,bold:!0,margin:[0,0,0,10]},tableHeader:{bold:!0,fontSize:10,color:"black"}},defaultStyle:{bold:!0,fontSize:8},pageSize:"A4",pageMargins:[20,30,20,30]},e.log(JSON.stringify(E,null,2)),pdfMake.createPdf(E).open()}}}),this.observe("QRScannerActive",function(t,e,n,r){document.body.style.backgroundColor=t?"rgba(255,255,255,0)":"rgba(255,255,255,1)"},{init:!1}),this.observe("company_id",function(e,n,r,i){e||t.set("selectedModule","settings")},{init:!1})},data:function(){return{selectedModule:null,QRScannerActive:!1,company_id:"",is_logedin:!0}}},i.exports.template={v:4,t:[{p:[2,1,1],t:7,e:"nav",m:[{n:"style",f:"z-index: 1050;",t:13}],f:[" ",{p:[4,5,126],t:7,e:"label",f:[" ",{p:[6,9,198],t:7,e:"input",m:[{n:"type",f:"checkbox",t:13}]}," ",{p:[9,9,314],t:7,e:"header",f:[" ",{p:[11,13,407],t:7,e:"a",f:[{p:[11,16,410],t:7,e:"img",m:[{n:"src",f:"favicon-32x32.png",t:13}]},{t:2,x:{r:["selectedModule","setings"],s:'_0&&_1?_1[_0].label:"PanLite"'},p:[11,45,439]}]}]}," ",{p:[15,9,633],t:7,e:"ul",f:[{p:[16,13,650],t:7,e:"li",m:[{n:"click",f:{x:{r:["@this"],s:'[_0.set("selectedModule",null)]'}},t:70}],f:[{p:[16,61,698],t:7,e:"a",f:[{p:[16,64,701],t:7,e:"i",m:[{n:"class",f:"glyphicon glyphicon-home",t:13}]}," Home"]}]}," ",{p:[17,13,768],t:7,e:"li",m:[{n:"click",f:{x:{r:["@this"],s:'[_0.set("selectedModule","settings")]'}},t:70}],f:[{p:[17,67,822],t:7,e:"a",f:[{p:[17,70,825],t:7,e:"i",m:[{n:"class",f:"glyphicon glyphicon-user",t:13}]}," User"]}]}," ",{p:[18,13,892],t:7,e:"li",m:[{n:"click",f:"export2CSV",t:70}],f:[{p:[18,39,918],t:7,e:"a",m:[{n:"title",f:"Export to CSV",t:13}],f:[{p:[18,64,943],t:7,e:"i",m:[{n:"class",f:"glyphicon glyphicon-list",t:13}]}," CSV"]}]}," ",{p:[19,13,1009],t:7,e:"li",m:[{n:"click",f:"export2PDF",t:70}],f:[{p:[19,39,1035],t:7,e:"a",m:[{n:"title",f:"Export to PDF",t:13}],f:[{p:[19,64,1060],t:7,e:"i",m:[{n:"class",f:"glyphicon glyphicon-print",t:13}]}," PDF"]}]}," "]}]}]}," ",{t:4,f:[{p:[36,1,1710],t:7,e:"Grid",m:[{n:"G",f:[{t:2,r:".",p:[36,9,1718]}],t:13},{n:"selectedModule",f:[{t:2,r:"selectedModule",p:[36,30,1739]}],t:13},{n:"rows",f:[{t:2,rx:{r:"rows",m:[{t:30,n:"selectedModule"}]},p:[36,54,1763]}],t:13},{n:"ts",f:[{t:2,rx:{r:"ts",m:[{t:30,n:"selectedModule"}]},p:[36,82,1791]}],t:13},{n:"columns",f:[{t:2,rx:{r:"setings",m:[{t:30,n:"selectedModule"},"columns"]},p:[36,113,1822]}],t:13},{n:"params",f:[{t:2,r:"nextSelectedModuleParams",p:[36,156,1865]}],t:13}]}],n:50,x:{r:["selectedModule"],s:'_0&&_0!="settings"&&_0!="dospece"&&_0!="NarucivanjeSAVE"'},p:[35,1,1585]},{t:4,f:[{p:[40,1,1965],t:7,e:"dospece",m:[{n:"G",f:[{t:2,r:".",p:[40,12,1976]}],t:13},{n:"selectedModule",f:[{t:2,r:"selectedModule",p:[40,33,1997]}],t:13},{n:"ts",f:[{t:2,rx:{r:"ts",m:[{t:30,n:"selectedModule"}]},p:[40,55,2019]}],t:13}],f:[]}],n:50,x:{r:["selectedModule"],s:'_0&&_0=="dospece"'},p:[39,1,1911]},{t:4,f:[{p:[45,1,2140],t:7,e:"Login",m:[{n:"G",f:[{t:2,r:".",p:[45,10,2149]}],t:13}]}],n:50,x:{r:["selectedModule"],s:'_0=="settings"'},p:[43,1,2064]},{t:4,f:[{p:[49,1,2218],t:7,e:"NarucivanjeSAVE",m:[{n:"G",f:[{t:2,r:".",p:[49,20,2237]}],t:13},{n:"selectedModule",f:[{t:2,r:"selectedModule",p:[49,41,2258]}],t:13}]}],n:50,x:{r:["selectedModule"],s:'_0=="NarucivanjeSAVE"'},p:[48,1,2174]},{p:[52,1,2305],t:7,e:"div",m:[{n:"style",f:["flex: 1;display: flex;flex-flow: column;overflow: auto; display: ",{t:2,x:{r:["selectedModule"],s:'_0?"none":"flex"'},p:[52,78,2382]},";"],t:13}],f:[{t:4,f:[{t:4,f:[{p:[55,5,2472],t:7,e:"button",m:[{n:"primary",f:0,t:13},{n:"m-full",f:0,t:13},{n:"click",f:{x:{r:["@this","key"],s:'[_0.fire("onModuleSelect",_0.event,_1)]'}},t:70},{n:"style",f:"height:100%;font-size: 2.2rem;line-height: 3rem;margin-top:1rem; min-height: 10rem; max-height: 5em;",t:13}],f:[{t:2,x:{r:[".label","key"],s:"_0||_1"},p:[56,116,2667]}]}],n:50,r:".show_in_menu",p:[54,5,2446]}],n:52,i:"key",r:"setings",p:[53,3,2420]}]}],e:{'_0&&_1?_1[_0].label:"PanLite"':function(t,e){return t&&e?e[t].label:"PanLite"},'[_0.set("selectedModule",null)]':function(t){return[t.set("selectedModule",null)]},'[_0.set("selectedModule","settings")]':function(t){return[t.set("selectedModule","settings")]},'_0&&_0!="settings"&&_0!="dospece"&&_0!="NarucivanjeSAVE"':function(t){return t&&"settings"!=t&&"dospece"!=t&&"NarucivanjeSAVE"!=t},'_0&&_0=="dospece"':function(t){return t&&"dospece"==t},'_0=="settings"':function(t){return"settings"==t},'_0=="NarucivanjeSAVE"':function(t){return"NarucivanjeSAVE"==t},'_0?"none":"flex"':function(t){return t?"none":"flex"},'[_0.fire("onModuleSelect",_0.event,_1)]':function(t,e){return[t.fire("onModuleSelect",t.event,e)]},"_0||_1":function(t,e){return t||e}}},t.exports=r.extend(i.exports)}).call(e,n(3)(t),n(0))},function(t,e,n){(function(t,e){var r=n(2),i=t;i.exports={isolated:!0,onrender:function(t){var n=this,r=n.nodes.flexGridBody;n.set("ScrollbarWidth",function(){var t=document.createElement("div");t.style.visibility="hidden",t.style.width="100px",t.style.msOverflowStyle="scrollbar",document.body.appendChild(t);var e=t.offsetWidth;t.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%",t.appendChild(n);var r=n.offsetWidth;return t.parentNode.removeChild(t),e-r}());var i=function(){var t=n.nodes.flexGridBody;t?n.set("hasScrollbar",t.scrollHeight>t.clientHeight):e.log("el undefined")};i(),this.observe("viewport",function(t,e,n){i(),setTimeout(i,1e3)},{defer:!0}),this.observe("rows refresh",function(t,r,i){if((!n.get("columns")||0==n.get("columns").length)&&n.get("rows")&&n.get("rows").length>0){e.log("GET columns definition from first row if no definition");var o=[];for(var s in n.get("rows.0"))o.push({visible:!0,filter:!0,compId:s,label:s});n.set("columns",o)}},{init:!1}),window.addEventListener("resize",i),r.addEventListener("scroll",onscroll),n.on("teardown",function(){window.removeEventListener("resize",i)});var o=null;this.on("tableclickhandler",function(t,e){"A"!=t.original.target.nodeName&&($(n.nodes["fgr"+e]).addClass(n.get("highlightClass")),null!==o&&o!==e&&$(n.nodes["fgr"+o]).removeClass(n.get("highlightClass")),o=e,setTimeout(function(){var r=e+n.get("ipp")*n.get("cp");n.set("currFilterIndex",r),n.set("row",$.extend({},n.get(t.keypath))),n.set("selectid",n.get(t.keypath+".id")),n.set("clickedRowIndex",r),n.fire("clickhandlerfromtable",r,n)},0))}),this.observe("columns",function(t,e,r){var i=n.get("columns")||[],o=i.length;n.set("partialsList",{});for(var s=0;s<o;s++)i[s].template&&""!=i[s].template?(n.partials["part_"+i[s].compId]=i[s].template,n.set("partialsList."+i[s].compId,!0)):i[s].compType}),n.observe("cp_computed",function(){n.nodes.flexGridBody.scrollTop=0},{defer:!0}),n.on("setPage",function(t,e){n.set("cp_computed",e)}),n.on("nextPage",function(t,e){var r=n.get("cp_computed"),i=n.get("filteredRows").length,o=n.get("ipp");r<Math.ceil(i/o)-1&&n.add("cp_computed")}),n.on("prevPage",function(t,e){n.get("cp_computed")>0&&n.subtract("cp_computed")}),n.on("sortArr",function(t,e,r){var i=n.get("currentSortField");n.get("currentSortAsc");i===e?n.toggle("currentSortAsc"):n.set({currentSortField:e,currentSortAsc:!0,currentSortFieldType:r})})},data:function(){return{row:{},G:null,env:{objectname:"urlzaajax"},selectid:null,clickedRow:-1,visible:!0,headerFixedHeight:!0,variableRowHeight:!1,showSearch:!0,showPaginator:!0,showHeaders:!0,alternateColor:!0,loading:!1,nodata:!1,serviceName:null,columns:[],hasScrollbar:!1,ScrollbarWidth:16,rows:[],refresh:0,partialsList:{},ipp:30,cp:0,currentSortField:"",currentSortAsc:!0,ippSelect:[5,10,30,50,100],filterfield:"",currFilterIndex:null,highlightClass:"highlight",fr:[],getSum:function(t){for(var e=this.get("fr"),n=e.length,r=0,i=0;i<n;i++)r+=e[i][t];return r}}},computed:{cp_computed:{get:function(){var t=this.get("ipp"),e=this.get("cp"),n=this.get("filteredRows")?Math.floor(this.get("filteredRows").length/t):0;return e>n?n:e},set:function(t){this.set("cp",t)}},filteredRows:function(){var t,e=this.get("filterfield").toLowerCase(),n=(this.get("serviceName"),this.get("columns")||[]),r=n.length;if(!r)return[];if(""!==e)t=this.get("rows").filter(function(t){for(var i=0;i<r;i++)if(n[i].filter&&t[n[i].compId]&&0==String(t[n[i].compId]).toLowerCase().indexOf(e))return!0;return!1});else{if(""==i)return this.get("rows");t=this.get("rows")?this.get("rows").slice():[]}var i=this.get("currentSortField"),o=this.get("currentSortAsc");return o=2*o-1,""!==i&&("number"!=this.get("currentSortFieldType")&&"range"!=this.get("currentSortFieldType")?t.sort(function(t,e){return t[i]<e[i]?-1*o:o}):t.sort(function(t,e){return Number(t[i])<Number(e[i])?-1*o:o})),this.set("fr",t),t},paginationbuttons:function(){return new Array(Math.ceil(this.get("filteredRows").length/this.get("ipp")))},viewport:function(){var t=this.get("filteredRows");if(!this.get("showPaginator"))return t;var e=this.get("ipp"),n=this.get("cp_computed");return t?t.slice(n*e,n*e+e):[]},computedW:function(){for(var t,e=this.get("columns")||[],n=0,r=0,i=0,o=e.length,s=0;s<o;s++)!0!==e[s].visible&&"true"!==e[s].visible||i++,!0!==e[s].visible&&"true"!==e[s].visible||!e[s].w||(t=(t=e[s].w.replace(/\s/g,"")).split("%")[0],(t=isNaN(t)?0:parseInt(t,10))&&(n+=t),r++);return 100==n?"0%":(n=(100-n)/(i-r))+"%"}}},i.exports.template={v:4,t:[{p:[1,1,0],t:7,e:"div",m:[{n:"style",f:["display:",{t:2,x:{r:["visible"],s:'_0?"box":"none"'},p:[1,21,20]},"; display:",{t:2,x:{r:["visible"],s:'_0?"flex":"none"'},p:[1,55,54]},"; box-orient: vertical; flex-flow:column; ",{t:2,r:"style",p:[1,122,121]},"; position: relative;overflow-x: hidden;"],t:13},{n:"class",f:[{t:2,r:"class",p:[1,181,180]}],t:13}],f:[{t:4,f:[{p:[3,5,216],t:7,e:"div",m:[{n:"style",f:"display:flex",t:13}],f:[{p:[4,7,249],t:7,e:"input",m:[{n:"value",f:[{t:2,r:"filterfield",p:[4,21,263]}],t:13},{n:"style",f:"min-width: 5rem; border: 0;flex:1; margin-bottom: 0; padding-bottom: 0.5rem;",t:13},{n:"placeholder",f:"Search",t:13}]}," ",{t:4,f:[{t:4,f:[{p:[8,11,478],t:7,e:"tag",m:[{n:"style",f:"font-weight: bold; margin: 0.2rem;",t:13}],f:[{t:2,r:".label",p:[9,15,541]},": ",{t:2,x:{r:["formatNumber","getSum",".compId"],s:"_0(_1(_2))"},p:[9,27,553]}]}],n:50,x:{r:[".aggregate"],s:"_0===true"},p:[7,9,442]}],n:52,r:"columns",p:[6,7,416]}," ",{p:[14,7,664],t:7,e:"tag",m:[{n:"style",f:"font-weight: bold; margin: 0.2rem;",t:13}],f:[{t:2,x:{r:["formatNumber","filteredRows.length"],s:"_0(_1,0)"},p:[15,11,723]}," item",{t:2,x:{r:["filteredRows.length"],s:'_0>1?"s":""'},p:[15,55,767]}]}]}],r:"showSearch",p:[2,5,196]}," ",{p:[20,5,849],t:7,e:"div",m:[{n:"class",f:"flexGrid",t:13},{n:"style",f:"box-sizing: border-box; display:box; display: flex; background-color: #679; color: #fff; flex-shrink:0",t:13}],f:[{t:4,f:[" ",{t:4,f:[{t:4,f:[{p:[25,17,1250],t:7,e:"div",m:[{n:"class",f:["flexGridHead ",{t:2,x:{r:["headerFixedHeight"],s:'_0?"truncate":""'},p:[25,42,1275]}," textAlign-",{t:2,r:".compType",p:[25,88,1321]}],t:13},{n:"style",f:["width:",{t:2,x:{r:[".w","computedW"],s:"_0||_1"},p:[25,116,1349]}],t:13},{n:"tap",f:{n:"sortArr",d:[{t:2,r:".compId",p:[26,33,1402]},",",{t:2,r:".compType",p:[26,45,1414]}]},t:70}],f:[{t:4,f:[{p:[27,51,1480],t:7,e:"i",m:[{n:"class",f:["glyphicon glyphicon-arrow-",{t:2,x:{r:["currentSortAsc"],s:'_0?"down":"up"'},p:[27,87,1516]}],t:13}]}],x:{r:["currentSortField",".compId"],s:"_0==_1"},p:[27,21,1450]}," ",{t:2,r:".label",p:[27,130,1559]}]}],n:50,x:{r:[".visible"],s:'_0&&(_0===true||_0==="true")'},p:[24,13,1173]}],r:"columns",p:[23,9,1148]}],n:50,r:"showHeaders",p:[21,7,989]}," ",{t:4,f:[{p:[34,13,1690],t:7,e:"div",m:[{n:"style",f:["width:",{t:2,r:"ScrollbarWidth",p:[34,31,1708]},"px"],t:13}]}],n:50,r:".hasScrollbar",p:[33,9,1656]}]}," ",{p:[38,5,1769],t:7,e:"div",m:[{n:"style",f:"box-flex:1; flex:1; overflow-y:auto; overflow-x:hidden",t:13},{n:"id",f:"flexGridBody",t:13}],f:[{t:4,f:[" ",{p:[42,13,1962],t:7,e:"div",m:[{n:"id",f:["fgr",{t:2,r:"i",p:[42,25,1974]}],t:13},{n:"style",f:[{t:4,f:["color:",{t:2,r:"._rowColor",p:[42,94,2043]},";"],n:50,x:{r:["._rowColor",".id","~/selectid"],s:"_0&&!(_1&&_1==_2)"},p:[42,39,1988]}],t:13},{n:"class",f:["flexGridRow ",{t:2,x:{r:["alternateColor","i"],s:'_0&&(_1)%2==0?"oddRow":""'},p:[43,32,2099]}," ",{t:2,x:{r:[".id","~/selectid","~/highlightClass"],s:'(_0&&_0==_1)?_2:""'},p:[43,76,2143]}],t:13},{n:"click",f:{n:"tableclickhandler",d:[{t:2,r:"i",p:[44,41,2235]}]},t:70}],f:[" ",{t:4,f:[" ",{t:4,f:[{p:[53,25,2804],t:7,e:"div",m:[{n:"style",f:["width:",{t:2,x:{r:[".w","computedW"],s:"_0||_1"},p:[53,43,2822]}],t:13},{n:"class",f:["rowcel ",{t:2,x:{r:["variableRowHeight"],s:'_0?"":"truncate"'},p:[53,79,2858]}," textAlign-",{t:2,r:".compType",p:[53,125,2904]}],t:13},{n:"data-th",f:[{t:2,r:".label",p:[54,34,2952]}],t:13},{t:4,f:[{n:"title",f:[{t:2,x:{r:[".dataTipField",".compId","i","viewport"],s:"_0?_3[_2][_0]:_3[_2][_1]"},p:[56,32,3041]}],t:13}],n:50,r:".showDataTips",p:[55,25,2988]}],f:[" ",{t:4,f:[{t:8,x:{r:[".compId"],s:'"part_"+_0'},p:[61,37,3349]}],n:50,rx:{r:"partialsList",m:[{t:30,n:".compId"}]},p:[60,33,3283]},{t:4,n:51,f:[{t:4,f:[],n:50,x:{r:[".compType"],s:'_0=="checkbox"'},p:[63,37,3449]},{t:4,n:50,f:[{t:2,x:{r:["formatNumber",".compId","i","viewport"],s:"_0(_3[_2][_1])"},p:[67,41,3965]}],x:{r:[".compType"],s:'_0=="number"'},l:1},{t:4,n:50,f:[" ",{p:[69,41,4112],t:7,e:"div",m:[{n:"style",f:["background-color:",{t:2,rx:{r:"viewport",m:[{t:30,n:"i"},{t:30,n:".compId"}]},p:[69,70,4141]},"; width:7em; max-width:100%"],t:13}],f:[{t:2,rx:{r:"viewport",m:[{t:30,n:"i"},{t:30,n:".compId"}]},p:[69,123,4194]},""]}],x:{r:[".compType"],s:'_0=="color"'},l:1},{t:4,n:50,f:[" ",{t:3,rx:{r:"viewport",m:[{t:30,n:"i"},{t:30,n:".compId"}]},p:[71,41,4338]}],x:{r:[".compType"],s:'_0=="html"'},l:1},{t:4,n:50,f:[" ",{p:[73,42,4480],t:7,e:"img",m:[{n:"class",f:"img-responsive img-rounded",t:13},{n:"src",f:[{t:2,rx:{r:"viewport",m:[{t:30,n:"i"},{t:30,n:".compId"}]},p:[73,87,4525]}],t:13},{n:"alt",f:"",t:13},{n:"style",f:"max-height:4em; height:4em",t:13}]}],x:{r:[".compType"],s:'_0=="imagebase64"'},l:1},{t:4,n:50,f:[" ",{p:[75,42,4704],t:7,e:"img",m:[{n:"class",f:"img-responsive img-rounded",t:13},{n:"src",f:["objengine/images/",{t:2,x:{r:[".compId","i","viewport"],s:'_2[_1][_0]||"noimage.svg"'},p:[75,104,4766]}],t:13},{n:"alt",f:"",t:13},{n:"style",f:"max-height:4em; height:4em; margin: auto",t:13}]}],x:{r:[".compType"],s:'_0=="image"'},l:1},{t:4,n:51,f:[" ",{t:2,rx:{r:"viewport",m:[{t:30,n:"i"},{t:30,n:".compId"}]},p:[77,41,4952]}],l:1}],l:1}]}],n:50,x:{r:[".visible"],s:'_0&&(_0===true||_0==="true")'},p:[52,21,2717]}],r:"columns",p:[48,17,2512]}]}," "],i:"i",r:"viewport",p:[39,9,1864]}," ",{t:4,f:[{p:[89,9,5241],t:7,e:"div",m:[{n:"class",f:"spinner-loader",t:13},{n:"style",f:"position: absolute;top: 0; bottom: 0; margin: auto; left: 0; right: 0",t:13}]}],n:50,r:"loading",p:[88,9,5217]}," ",{t:4,f:[{p:[92,9,5401],t:7,e:"div",m:[{n:"class",f:"animated infinite flash",t:13},{n:"style",f:"position: absolute;top: 50%; bottom: 50%; margin: auto; left: 0; right: 0;font-weight: bold; color:grey; text-align:center",t:13}],f:["No data"]}],n:50,r:"nodata",p:[91,9,5378]}]}," ",{t:4,f:[{p:[99,9,5683],t:7,e:"div",m:[{n:"style",f:"display:flex; flex-shrink:0; align-items: center;",t:13}],f:[{p:[100,13,5760],t:7,e:"div",f:[{p:[101,17,5783],t:7,e:"span",f:[{p:[101,23,5789],t:7,e:"strong",f:[{t:2,r:"filteredRows.length",p:[101,31,5797]}]}," item",{t:2,x:{r:["filteredRows.length"],s:'_0>1?"s":""'},p:[101,68,5834]},"."]}," "]}," ",{p:[111,13,6140],t:7,e:"div",m:[{n:"style",f:"flex:1; display: flex; justify-content: flex-end; align-items: center;",t:13}],f:[" ",{p:[116,17,6643],t:7,e:"button",m:[{n:"type",f:"button",t:13},{n:"style",f:"margin: 0;padding:0 ;width: 4rem;height: 4rem;",t:13},{n:"tap",f:"prevPage",t:70},{n:"disabled",f:[{t:2,x:{r:["cp_computed"],s:"_0==0"},p:[117,45,6765]}],t:13}],f:[{p:[117,66,6786],t:7,e:"i",m:[{n:"class",f:"glyphicon glyphicon-triangle-left",t:13}],f:[]}]}," ",{p:[119,17,6859],t:7,e:"div",m:[{n:"style",f:"width:4px",t:13}]}," ",{p:[121,17,6940],t:7,e:"select",m:[{n:"value",f:[{t:2,r:"cp_computed",p:[121,32,6955]}],t:13},{n:"style",f:"width:5em; margin: 0.2em; height: 4rem;",t:13}],f:[{t:4,f:[{p:[123,25,7091],t:7,e:"option",m:[{n:"value",f:[{t:2,r:"p",p:[123,39,7105]}],t:13}],f:[{t:2,x:{r:["p"],s:"_0+1"},p:[123,45,7111]}]}],i:"p",r:"paginationbuttons",p:[122,21,7042]}]},"/ ",{t:2,r:"paginationbuttons.length",p:[125,34,7187]}," ",{p:[126,17,7235],t:7,e:"div",m:[{n:"style",f:"width:4px",t:13}]}," ",{p:[128,17,7282],t:7,e:"button",m:[{n:"type",f:"button",t:13},{n:"style",f:"margin: 0;padding:0 ;width: 4rem;height: 4rem;",t:13},{n:"tap",f:"nextPage",t:70},{n:"disabled",f:[{t:2,x:{r:["paginationbuttons.length","cp_computed"],s:"(_0-1)==_1"},p:[128,122,7387]}],t:13}],f:[{p:[128,170,7435],t:7,e:"i",m:[{n:"class",f:"glyphicon glyphicon-triangle-right",t:13}]}]}," "]}]}],x:{r:["showPaginator","filteredRows.length","ipp"],s:"_0&&_1>=_2"},p:[98,5,5625]}]}],e:{'_0?"box":"none"':function(t){return t?"box":"none"},'_0?"flex":"none"':function(t){return t?"flex":"none"},"_0(_1(_2))":function(t,e,n){return t(e(n))},"_0===true":function(t){return!0===t},"_0(_1,0)":function(t,e){return t(e,0)},'_0>1?"s":""':function(t){return t>1?"s":""},'_0?"truncate":""':function(t){return t?"truncate":""},"_0||_1":function(t,e){return t||e},'_0?"down":"up"':function(t){return t?"down":"up"},"_0==_1":function(t,e){return t==e},'_0&&(_0===true||_0==="true")':function(t){return t&&(!0===t||"true"===t)},"_0&&!(_1&&_1==_2)":function(t,e,n){return t&&!(e&&e==n)},'_0&&(_1)%2==0?"oddRow":""':function(t,e){return t&&e%2==0?"oddRow":""},'(_0&&_0==_1)?_2:""':function(t,e,n){return t&&t==e?n:""},'_0?"":"truncate"':function(t){return t?"":"truncate"},"_0?_3[_2][_0]:_3[_2][_1]":function(t,e,n,r){return t?r[n][t]:r[n][e]},'"part_"+_0':function(t){return"part_"+t},'_0=="checkbox"':function(t){return"checkbox"==t},"_0(_3[_2][_1])":function(t,e,n,r){return t(r[n][e])},'_0=="number"':function(t){return"number"==t},'_0=="color"':function(t){return"color"==t},'_0=="html"':function(t){return"html"==t},'_0=="imagebase64"':function(t){return"imagebase64"==t},'_2[_1][_0]||"noimage.svg"':function(t,e,n){return n[e][t]||"noimage.svg"},'_0=="image"':function(t){return"image"==t},"_0==0":function(t){return 0==t},"_0+1":function(t){return t+1},"(_0-1)==_1":function(t,e){return t-1==e},"_0&&_1>=_2":function(t,e,n){return t&&e>=n}}},i.exports.css="select:active,select:focus,select:hover{background-color:#fff!important}.highlight{background-color:#e0e0e0!important}.flexGridRow,.flexGridRowDUMMY:nth-child(odd){background-color:#fff}.flexGridHead,.rowcel{width:20%;margin:0;padding:4px;word-break:break-all;word-wrap:break-word;white-space:pre-line;cursor:pointer}.flexGridHead{font-weight:700;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.flexGridRow{box-sizing:border-box;display:box;display:flex;align-items:center}.oddRow{background-color:#eee}.flexGridRow:hover{background-color:#e8e8e8}.truncate{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.green{color:green}.red{color:red}.textAlign-number,.textAlign-range{text-align:right}",t.exports=r.extend(i.exports)}).call(e,n(3)(t),n(0))},function(t,e,n){(function(t,e){var r=n(2),i=t;i.exports={onrender:function(){var t=this;this.observe("G.rows.dospece",function(n){e.log("G.rows.dospece obs");for(var r=t.get("G.rows.dospece")||[],i={},o=0;o<r.length;o++)i[r[o].adDeliveryDeadline+","+r[o].From+","+r[o].adDateWN]=r[o];var s=[];Object.keys(i).sort().forEach(function(t){s.push({d:i[t].datum,c:t.split(",")[1],w:t.split(",")[2]})});var a={};function u(t){a[t.acName]={},Object.keys(i).sort().forEach(function(e){a[t.acName][e]=null})}for(o=0;o<r.length;o++)a[r[o].acName]||u(r[o]),a[r[o].acName][r[o].adDeliveryDeadline+","+r[o].From+","+r[o].adDateWN]=r[o].anQty;var c=[];Object.keys(a).sort().forEach(function(t){var e={name:t,nums:[]};Object.keys(a[t]).sort().forEach(function(n){e.nums.push(a[t][n])}),c.push(e)}),t.set("displayRows",30),t.set("rows",{head:s,rows:c}).then(function(){t.set("displayRows",999999)})},{init:!0}),this.on("setxy",function(n,r){e.log(n,r),t.set("x",n),t.set("y",r)})},data:function(){return{text:"",ur:null,rows:{head:[],rows:[]},row:null,dospeceIsLoading:!1,x:null,y:null,selectedModule:null,displayRows:30}}},i.exports.template={v:4,t:[{p:[1,1,0],t:7,e:"section",m:[{n:"style",f:["max-width:none !important; flex:1; padding-bottom:0.5rem; padding-top:0.5rem; overflow:auto; display:",{t:2,x:{r:["selectedModule"],s:'_0=="dospece"?"":"none"'},p:[1,118,117]}],t:13}],f:[{p:[2,5,165],t:7,e:"div",m:[{n:"style",f:["width:",{t:2,x:{r:["rows.head.length"],s:"_0*8+22"},p:[2,23,183]},"rem"],t:13}],f:[{p:[3,9,227],t:7,e:"div",m:[{n:"class",f:"h",t:13},{n:"style",f:"width:19rem",t:13}],f:["Day"]}," ",{t:4,f:[{p:[5,9,310],t:7,e:"div",m:[{n:"class",f:"h",t:13},{n:"style",f:[{t:2,x:{r:["~/x","x"],s:'_0==_1?"background-color:rgba(110, 210,250,0.1)":""'},p:[5,31,332]}],t:13}],f:[{t:2,r:".d",p:[5,90,391]}]}],n:52,i:"x",r:"rows.head",p:[4,9,280]}," ",{p:[7,9,430],t:7,e:"br"}," ",{p:[8,9,443],t:7,e:"div",m:[{n:"class",f:"h",t:13},{n:"style",f:"width:19rem",t:13}],f:["Week"]}," ",{t:4,f:[{p:[10,9,527],t:7,e:"div",m:[{n:"class",f:"h",t:13},{n:"style",f:[{t:2,x:{r:["~/x","x"],s:'_0==_1?"background-color:rgba(110, 210,250,0.1)":""'},p:[10,31,549]}],t:13}],f:["WEEK ",{t:2,r:".w",p:[10,95,613]}]}],n:52,i:"x",r:"rows.head",p:[9,9,497]}," ",{p:[12,9,652],t:7,e:"br"}," ",{p:[13,9,665],t:7,e:"div",m:[{n:"class",f:"h",t:13},{n:"style",f:"width:19rem",t:13}],f:["Delivery from"]}," ",{t:4,f:[{p:[15,9,758],t:7,e:"div",m:[{n:"class",f:"h",t:13},{n:"style",f:[{t:2,x:{r:["~/x","x"],s:'_0==_1?"background-color:rgba(110, 210,250,0.1)":""'},p:[15,31,780]}],t:13}],f:[{p:[16,11,850],t:7,e:"span",m:[{n:"style",f:"font-size: 1.1rem;font-weight: bold;",t:13}],f:[{t:2,r:".c",p:[16,62,901]}]}]}],n:52,i:"x",r:"rows.head",p:[14,9,728]}]}," ",{p:[21,5,964],t:7,e:"div",m:[{n:"style",f:["width:",{t:2,x:{r:["rows.head.length"],s:"_0*8+20"},p:[21,23,982]},"rem"],t:13}],f:[{t:4,f:[{t:4,f:[{p:[24,13,1092],t:7,e:"div",m:[{n:"class",f:"h",t:13},{n:"style",f:["width:19rem; ",{t:2,x:{r:["~/y","y"],s:'_0==_1?"background-color:rgba(110, 210,250,0.1)":""'},p:[24,48,1127]}],t:13}],f:[{t:2,r:".name",p:[24,105,1184]},""]}," ",{t:4,f:[{p:[26,13,1248],t:7,e:"div",m:[{n:"class",f:"b",t:13},{n:"tap",f:{x:{r:["@this","x","y"],s:'[_0.fire("setxy",_1,_2)]'}},t:70},{n:"style",f:[{t:2,x:{r:["~/y","y","~/x","x"],s:'_0==_1||_2==_3?"background-color:rgba(110, 210,250,0.1)":""'},p:[26,68,1303]}],t:13}],f:[{t:4,f:[{t:2,x:{r:["formatNumber","."],s:"_0(_1)"},p:[27,25,1396]}],n:50,r:".",p:[27,16,1387]}," "]}],n:52,i:"x",r:".nums",p:[25,13,1218]}," ",{p:[31,13,1518],t:7,e:"br"}],n:50,x:{r:["y","displayRows"],s:"_0<_1"},p:[23,11,1058]}],n:52,i:"y",r:"rows.rows",p:[22,9,1026]}]}]}," ",{p:[37,1,1586],t:7,e:"section",m:[{n:"style",f:["max-width:none !important; padding-bottom:0.5rem; padding-top:0.5rem; display:",{t:2,x:{r:["selectedModule"],s:'_0=="dospece"?"":"none"'},p:[37,95,1680]}],t:13}],f:[{p:[38,5,1728],t:7,e:"button",m:[{n:"primary",f:0,t:13},{n:"m-full",f:0,t:13},{n:"click",f:{x:{r:["@this"],s:"[_0.getdospece()]"}},t:70},{n:"style",f:"width: 100%;",t:13}],f:["Last sync: ",{t:2,x:{r:["timeago","ts"],s:"_0(_1)"},p:[38,90,1813]}," ",{p:[39,9,1837],t:7,e:"i",m:[{n:"style",f:"float:right",t:13},{n:"class",f:["glyphicon ",{t:2,x:{r:["dospeceIsLoading"],s:'_0?"glyphicon-repeat fast-right-spinner":"glyphicon-refresh"'},p:[39,49,1877]}],t:13}]}]}]}],e:{'_0=="dospece"?"":"none"':function(t){return"dospece"==t?"":"none"},"_0*8+22":function(t){return 8*t+22},'_0==_1?"background-color:rgba(110, 210,250,0.1)":""':function(t,e){return t==e?"background-color:rgba(110, 210,250,0.1)":""},"_0*8+20":function(t){return 8*t+20},'[_0.fire("setxy",_1,_2)]':function(t,e,n){return[t.fire("setxy",e,n)]},'_0==_1||_2==_3?"background-color:rgba(110, 210,250,0.1)":""':function(t,e,n,r){return t==e||n==r?"background-color:rgba(110, 210,250,0.1)":""},"_0(_1)":function(t,e){return t(e)},"_0<_1":function(t,e){return t<e},"[_0.getdospece()]":function(t){return[t.getdospece()]},'_0?"glyphicon-repeat fast-right-spinner":"glyphicon-refresh"':function(t){return t?"glyphicon-repeat fast-right-spinner":"glyphicon-refresh"}}},i.exports.css=".b,.h{width:8rem;display:inline-block;border:1px solid gray}.h{background-color:#add8e6;text-align:center}.b{font-weight:700;text-align:right}",t.exports=r.extend(i.exports)}).call(e,n(3)(t),n(0))},function(t,e,n){(function(t,e){var r=n(2),i=t;i.exports={onrender:function(t){var n=this;n.set("ISMOBILE",ISMOBILE);var r=n.get("zoomFrom");if(ISMOBILE||n.set("zoomFromClone",r),e.log("zoomFrom",r),this.on("close",function(t){return n.set("show",!1),!1}),!ISMOBILE&&r){e.log("in zoom");var i=$("#"+r)?$("#"+r)[0].getBoundingClientRect():null;n.set("opacity",0),n.set("zoomFromLeft",i.left),n.set("zoomFromTop",i.top);var o=n.nodes.rmodalm.getBoundingClientRect();toCR={top:o.top,bottom:o.bottom,right:o.right,left:o.left},e.log(toCR),toCR.top<45&&(toCR.top=45),setTimeout(function(){e.log(n.nodes.grower.getBoundingClientRect());anime({targets:n.nodes.grower,left:[i.left,toCR.left],top:[i.top,toCR.top],width:[i.right-i.left,toCR.right-toCR.left],height:[i.bottom-i.top,toCR.bottom-toCR.top],duration:n.get("zoomDuration"),loop:!1,easing:"easeInExpo",complete:function(){n.set("opacity",1),n.set("zoomFromClone",null)}});if(n.nodes.growerHead)anime({targets:n.nodes.growerHead,height:["0px","65px"],duration:n.get("zoomDuration"),loop:!1,easing:"easeInExpo"})},1)}var s=n.nodes.rmodalm.offsetWidth,a=1;n.set("offsetWidth",s),s>1024&&(a=3),s<=1024&&(a=2),s<=560&&(a=1),n.set("cw",a);var u={},c=0;c=0,ISMOBILE&&($(document).height()<45+Number($(n.nodes.rmodalm).css("top").split("px")[0])+Number($(n.nodes.rmodalm).css("height").split("px")[0])&&($(n.nodes.rmodalm).css("top","45px"),$(n.nodes.rmodalm).css("height","calc(100% - 45px)")),$(n.nodes.rmodalm).css("left","0"),$(n.nodes.rmodalm).css("width","100%")),n.on("toggleFullScreen",function(t){e.log("toggleFullScreen"),ISMOBILE?$(n.nodes.rmodalm).css("transition","none"):$(n.nodes.rmodalm).css("transition","left 0.3s ease 0s, top 0.3s ease 0s, width 0.3s ease 0s, height 0.3s ease 0s"),n.get("isFullScreen")?($(n.nodes.rmodalm).css("left",u.left),$(n.nodes.rmodalm).css("top",u.top),$(n.nodes.rmodalm).css("width",u.width),$(n.nodes.rmodalm).css("height",u.height)):(u.left=$(n.nodes.rmodalm).css("left"),u.top=$(n.nodes.rmodalm).css("top"),u.width=$(n.nodes.rmodalm).css("width"),u.height=$(n.nodes.rmodalm).css("height"),$(n.nodes.rmodalm).css("left","0"),$(n.nodes.rmodalm).css("top","45px"),$(n.nodes.rmodalm).css("width","100%"),$(n.nodes.rmodalm).css("height","calc(100% - 45px)")),n.toggle("isFullScreen"),window.MAP&&window.MAP.invalidateSize(),setTimeout(function(){$(n.nodes.rmodalm).css("transition","none");var t=n.nodes.rmodalm.offsetWidth,e=1;n.set("offsetWidth",t),t>1024&&(e=3),t<=1024&&(e=2),t<=560&&(e=1),n.set("cw",e)},300)}),n.on("onpanstart",function(t){n.get("isFullScreen")||(originX=parseFloat($(n.nodes.rmodalm).css("left").split("px")[0]),c=parseFloat($(n.nodes.rmodalm).css("top").split("px")[0]))}),n.on("onpan",function(t){if(!n.get("isFullScreen")){t.original.preventDefault();var e=t.original.deltaX,r=t.original.deltaY;e+originX>1?n.set("left",e+originX):n.set("left",0),r+c>45?n.set("top",r+c):n.set("top",45);var i=$(window).width();e+originX>i-150&&n.set("left",i-150);var o=$(window).height();r+c>o-46&&n.set("top",o-46)}i=n.nodes.rmodalm.offsetWidth;var s=1;n.set("offsetWidth",i),i>1024&&(s=3),i<=1024&&(s=2),i<=560&&(s=1),n.set("cw",s)});var l=null,h=null;n.on("onresizepanstart",function(t){if(n.get("isFullScreen"))return!1;l=parseFloat($(n.nodes.rmodalm).css("width").split("px")[0]),h=parseFloat($(n.nodes.rmodalm).css("height").split("px")[0])}),n.on("onresizepan",function(t){if(n.get("isFullScreen"))return!1;t.original.preventDefault();var e=t.original.deltaX,r=t.original.deltaY,i=$(window).width(),o=parseFloat($(n.nodes.rmodalm).css("left").split("px")[0]),s=e+l;s<100&&(s=100),o+s>i&&(s=i-o),n.set("width",s),u.width=s,$(n.nodes.rmodalm).css("width",s+"px");var a=$(window).height(),c=parseFloat($(n.nodes.rmodalm).css("top").split("px")[0]),p=r+h;p<100&&(p=100),c+p>a&&(p=a-c),n.set("height",p),u.height=p,$(n.nodes.rmodalm).css("height",p+"px")}),n.keydownhandler=function(t){if(27==t.keyCode)return t.stopImmediatePropagation(),n.get("closeOnBackgroundTap")&&n.set("show",!1),!1},$("body").on("keydown",n.keydownhandler),$("body").each(function(){var t=$._data(this,"events").keydown,e=t.pop();t.splice(0,0,e)}),n.on("cmdCloseOnBackgroundTap",function(t,e){n.get("closeOnBackgroundTap")&&n.set("show",!1),t&&t.original&&t.original.stopImmediatePropagation&&t.original.stopImmediatePropagation()})},onunrender:function(t){$("body").off("keydown",this.keydownhandler)},data:function(){return{show:!1,closeOnBackgroundTap:!0,title:null,opacity:1,left:null,top:null,showOverlay:!0,isFullScreen:!1,offsetWidth:1e3,cw:5,zoomFrom:null,zoomFromLeft:-100,zoomFromTop:-100,showHeader:!0,zoomDuration:170,ISMOBILE:!1}}},i.exports.template={v:4,t:[{t:4,f:[{p:[2,1,20],t:7,e:"div",m:[{n:"class",f:"roverlay",t:13},{n:"tap",f:"cmdCloseOnBackgroundTap",t:70},{n:"id",f:"roverlay",t:13},{n:"style",f:["opacity:",{t:2,r:"opacity",p:[2,85,104]}],t:13}]}],n:50,r:"showOverlay",p:[1,1,0]},{p:[5,1,133],t:7,e:"div",m:[{n:"class",f:["modal rmodal ",{t:2,x:{r:["showOverlay"],s:'!_0?"rmodalShowOverlay":""'},p:[5,26,158]}," ",{t:2,r:"class",p:[5,66,198]}],t:13},{n:"style",f:[{t:2,r:"style",p:[6,8,217]},"; ",{t:4,f:["left:",{t:2,r:"left",p:[6,43,252]},"px; top:",{t:2,r:"top",p:[6,59,268]},"px;"],n:50,x:{r:["left"],s:"_0!==null"},p:[6,19,228]}," ",{t:4,f:["width:",{t:2,r:"width",p:[6,97,306]},"px;"],n:50,r:"width",p:[6,77,286]}," ",{t:4,f:["height:",{t:2,r:"height",p:[6,140,349]},"px;"],n:50,r:"height",p:[6,118,327]}," opacity:",{t:2,r:"opacity",p:[6,171,380]}],t:13},{n:"id",f:"rmodalm",t:13}],f:[{t:4,f:[{p:[10,5,435],t:7,e:"div",m:[{n:"class",f:"modal-header rmodal-head noselect",t:13},{n:"pan",f:"onpan",t:70},{n:"panstart",f:"onpanstart",t:70},{n:"style",f:[{t:2,x:{r:["isFullScreen"],s:'_0?"":"cursor: move"'},p:[10,99,529]}],t:13}],f:[{p:[12,7,573],t:7,e:"h4",m:[{n:"class",f:"modal-title",t:13},{n:"xx",f:0,t:13}],f:[{p:[13,11,611],t:7,e:"span",m:[{n:"class",f:"modal-title-span",t:13}],f:[{t:2,r:"title",p:[13,43,643]}]}," ",{p:[15,11,671],t:7,e:"button",m:[{n:"aria-label",f:"Close",t:13},{n:"type",f:"button",t:13},{n:"click",f:{x:{r:["@this"],s:'[_0.fire("close",_0.event)]'}},t:70},{n:"style",f:"float:right; margin-bottom: 0;border-radius: 50%;margin-right: 0; padding: 0.9rem 0.9rem;",t:13}],f:[{p:[16,15,869],t:7,e:"i",m:[{n:"class",f:"glyphicon glyphicon-remove",t:13}],f:[]}]}," ",{t:4,f:[{p:[20,11,985],t:7,e:"button",m:[{n:"aria-label",f:"Close",t:13},{n:"type",f:"button",t:13},{n:"tap",f:"toggleFullScreen",t:70},{n:"style",f:"float:right;margin-right: 1em; margin-bottom: 0;border-radius: 50%; padding: 0.9rem 0.9rem;",t:13}],f:[{p:[21,15,1168],t:7,e:"i",m:[{n:"class",f:"glyphicon glyphicon-fullscreen",t:13}],f:[]}]}],n:50,x:{r:["ISMOBILE"],s:"!_0"},p:[19,11,957]}]}]}],n:50,r:"showHeader",p:[9,3,412]}," ",{p:[29,3,1308],t:7,e:"div",m:[{n:"class",f:"modal-body rmodal-body",t:13},{n:"style",f:[{t:2,r:"bodystyle",p:[29,46,1351]}],t:13}],f:[{t:16,p:[30,5,1371]}," ",{t:4,f:[{p:[33,9,1418],t:7,e:"button",m:[{n:"aria-label",f:"Close",t:13},{n:"type",f:"button",t:13},{n:"tap",f:{x:{r:["@this"],s:'[_0.set("show",false)]'}},t:70},{n:"style",f:"position:fixed; top:0; right:0;border-radius: 50%;padding: 4px;font-size: 1.6em;",t:13}],f:[{p:[34,98,1591],t:7,e:"i",m:[{n:"class",f:"fa fa-fw fa-close",t:13}]}]}],n:50,x:{r:["showHeader"],s:"!_0"},p:[32,5,1390]}]}," ",{p:[38,3,1662],t:7,e:"div",m:[{n:"style",f:"position: absolute; bottom: -0.5rem; right: -0.5rem; width: 1rem; height: 1rem;",t:13},{n:"pan",f:"onresizepan",t:70},{n:"panstart",f:"onresizepanstart",t:70},{n:"style",f:[{t:2,x:{r:["isFullScreen"],s:'_0?"":"cursor: nwse-resize"'},p:[38,155,1814]}],t:13}]}]}," ",{t:4,f:[{p:[42,3,1896],t:7,e:"div",m:[{n:"style",f:["transform: translateZ(0);z-index: 1041; position:fixed; border:solid 1px gray; left:",{t:2,r:"zoomFromLeft",p:[42,99,1992]},"px; top:",{t:2,r:"zoomFromTop",p:[42,123,2016]},"px ;width:100px;height:30px; background-color:white"],t:13},{n:"id",f:"grower",t:13}],f:[{t:4,f:[{p:[44,5,2122],t:7,e:"div",m:[{n:"class",f:"modal-header rmodal-head noselect",t:13},{n:"id",f:"growerHead",t:13},{n:"style",f:"padding:0",t:13}],f:[]}],n:50,r:"showHeader",p:[43,3,2099]}]}],n:50,r:"zoomFromClone",p:[41,1,1872]}],e:{'!_0?"rmodalShowOverlay":""':function(t){return t?"":"rmodalShowOverlay"},"_0!==null":function(t){return null!==t},'_0?"":"cursor: move"':function(t){return t?"":"cursor: move"},'[_0.fire("close",_0.event)]':function(t){return[t.fire("close",t.event)]},"!_0":function(t){return!t},'[_0.set("show",false)]':function(t){return[t.set("show",!1)]},'_0?"":"cursor: nwse-resize"':function(t){return t?"":"cursor: nwse-resize"}}},i.exports.css=".modal-title{margin:6px;color:#fff;line-height:1.7;height:3.5rem}.modal-title-span{width:calc(100% - 10rem);display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.roverlay{position:fixed;top:0;left:0;height:100%;width:100%;background-color:rgba(0,0,0,.3);z-index:1040}.rmodal{width:80%;height:80%;position:fixed;top:10%;left:10%;background-color:#fff;border-radius:5px;z-index:1041;overflow:visible;border:1px solid gray;box-shadow:6px 6px 6px #444;display:flex;flex-flow:column}.rmodalShowOverlay{box-shadow:0 0 5px 2px #222;z-index:1040}.rmodal-head{background-color:#679}.rmodal-body{flex:1;overflow:auto;max-height:none;position:relative;display:flex;flex-flow:column}.noselect{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}",t.exports=r.extend(i.exports)}).call(e,n(3)(t),n(0))},function(t,e,n){(function(t,e){var r=n(2),i=t;i.exports={partials:{header:function(){var t=this.get("selectedModule");return this.get("G.setings."+t+".headerHtml")}},onrender:function(){e.log("Grid onrender");var t=this;this.on("action *.action",function(n,r){if(n&&n.original&&(n.original.preventDefault&&n.original.preventDefault(),n.original.stopPropagation&&n.original.stopPropagation()),e.log(r),r){if(!r.service&&r.refresh&&t.fire("onModuleSelect"),!r.service&&r.refreshParent&&t.parent.fire("onModuleSelect"),!r.service&&r.closeParent&&t.parent.set("show",!1),!r.service&&r.close&&setTimeout(function(){t.set("show",!1)},10),!r.service)return!1;var i=Object.assign(t.get("params")||{},r&&"object"==typeof r.data?r.data:{});if(e.log("zovem",r.service,i),!t.get("G.setings."+r.service+".is_cmd")){var o=i;e.log("params za next",o);var s=t.get("selectedModule"),a=r.service;if(t.get("nextSelectedModule")!=a&&t.set("showDetails",!1),!t.get("G.setings."+a))return t.set("showDetails",!1),!1;e.log("Grid,nextSelectedModule:",a),t.set("nextSelectedModuleParams",o),t.set("nextSelectedModule",a),t.set("G.rows."+a,null);var u=t.get("G.setings."+s+".columns.0.compId");return t.set("titleNext",u),t.set("showDetails",!0),!1}return socket.emit("get_rows",r.service,i,function(n){e.log(n),"string"==typeof n&&izitoast.error({message:n}),n&&(1==n.length&&(resp0=n[0],resp0._message&&resp0._status&&izitoast[resp0._status]({message:resp0._message})),r.refresh&&t.fire("onModuleSelect"),r.refreshParent&&t.parent.fire("onModuleSelect"),r.closeParent&&t.parent.set("show",!1),r.close&&t.set("show",!1))}),!1}}),table4Export.push(t),window.Grid=t,t.observe("selectedModule",function(){e.log('observe("selectedModule")'),setTimeout(function(){t.add("refresh",1),t.update()},1)}),this.on("onModuleSelect",function(n){return e.log("refreshing",t.get("selectedModule")),n&&n.original&&(n.original.preventDefault(),n.original.stopPropagation()),socket.emit("get_rows",t.get("selectedModule")),!1}),this.on("clickhandlerfromtable *.clickhandlerfromtable",function(n,r,i){var o=Object.assign({},t.get("selected_row"));e.log("params za next",o);var s=t.get("selectedModule"),a=o&&o._next_service_name?o._next_service_name:s+"Details";if(t.get("nextSelectedModule")!=a&&t.set("showDetails",!1),!t.get("G.setings."+a))return t.set("showNarucivanjeSAVE",!1),t.set("showDetails",!1),!1;e.log("Grid,nextSelectedModule:",a),t.set("nextSelectedModuleParams",o),t.set("nextSelectedModule",a),t.set("G.rows."+a,null);var u=t.get("G.setings."+s+".columns.0.compId");return t.set("titleNext",u),"NarucivanjeSAVE"==a?t.set("showNarucivanjeSAVE",!0):t.set("showDetails",!0),!1}),this.formatDate=function(t){return t.getDate()+"."+(t.getMonth()+1)+"."+t.getFullYear()+" "+t.getHours()+":"+t.getMinutes()}},onunrender:function(t){table4Export.pop()},data:function(){return{G:null,selectedModule:null,refresh:0,showDetails:!1,selected_row:{},titleNext:"",nextSelectedModule:null,nextSelectedModuleParams:null,showNarucivanjeSAVE:!1,fr:[],params:null}}},i.exports.template={v:4,t:[{p:[1,1,0],t:7,e:"div",f:[{t:8,r:"header",p:[2,3,8]}]}," ",{p:[4,1,27],t:7,e:"section",m:[{n:"style",f:"flex:1; padding-bottom:0; padding-top:0; overflow:auto; display: flex;flex-flow: column;",t:13}],f:[{p:[5,3,136],t:7,e:"div",m:[{n:"style",f:"display:box; display:flex; height:100%; overflow:auto; flex:1",t:13}],f:[{p:[6,7,218],t:7,e:"f2table",m:[{n:"style",f:"width:100%",t:13},{n:"rows",f:[{t:2,rx:{r:"G.rows",m:[{t:30,n:"~/selectedModule"}]},p:[6,40,251]}],t:13},{n:"visible",f:"true",t:13},{n:"headerFixedHeight",f:[{t:2,x:{r:[],s:"true"},p:[6,103,314]}],t:13},{n:"alternateColor",f:[{t:2,x:{r:[],s:"true"},p:[6,128,339]}],t:13},{n:"columns",f:[{t:2,rx:{r:"G.setings",m:[{t:30,n:"~/selectedModule"},"columns"]},p:[7,19,368]}],t:13},{n:"ipp",f:"50",t:13},{n:"refresh",f:[{t:2,r:"refresh",p:[7,76,425]}],t:13},{n:"row",f:[{t:2,r:"selected_row",p:[8,15,451]}],t:13},{n:"fr",f:[{t:2,r:"fr",p:[8,35,471]}],t:13},{n:"G",f:[{t:2,r:"G",p:[8,44,480]}],t:13},{n:"variableRowHeight",f:[{t:2,x:{r:[],s:"false"},p:[9,29,514]}],t:13},{n:"showSearch",f:[{t:2,x:{r:[],s:"true"},p:[9,50,535]}],t:13},{n:"showPaginator",f:[{t:2,x:{r:[],s:"true"},p:[9,73,558]}],t:13},{n:"showHeaders",f:[{t:2,x:{r:[],s:"true"},p:[9,94,579]}],t:13},{n:"selectid",f:[{t:2,r:"selectid",p:[9,112,597]}],t:13},{n:"loading",f:[{t:2,x:{r:["~/selectedModule","G.rows"],s:"!_1[_0]"},p:[9,133,618]}],t:13},{n:"nodata",f:[{t:2,x:{r:[],s:"false"},p:[9,170,655]}],t:13}],f:[]}]}]}," ",{p:[14,1,705],t:7,e:"section",m:[{n:"style",f:"padding-bottom:0; padding-top:0;",t:13}],f:[{p:[15,5,760],t:7,e:"button",m:[{n:"primary",f:0,t:13},{n:"m-full",f:0,t:13},{n:"style",f:"width: 100%; margin: 0;",t:13},{n:"click",f:{x:{r:["@this"],s:'[_0.fire("onModuleSelect",_0.event)]'}},t:70}],f:["Last sync: ",{t:2,x:{r:["timeago","ts"],s:"_0(_1)"},p:[15,123,878]}," ",{p:[16,9,902],t:7,e:"i",m:[{n:"style",f:"float:right",t:13},{n:"class",f:["glyphicon ",{t:2,x:{r:["stanjeIsLoading"],s:'_0?"glyphicon-repeat fast-right-spinner":"glyphicon-refresh"'},p:[16,49,942]}],t:13}]}]}]}," ",{t:4,f:[{p:[21,1,1073],t:7,e:"modal",m:[{n:"show",f:[{t:2,r:"showDetails",p:[21,14,1086]}],t:13},{n:"title",f:[{t:2,rx:{r:"selected_row",m:[{t:30,n:"titleNext"}]},p:[21,38,1110]}],t:13},{n:"showOverlay",f:[{t:2,x:{r:[],s:"false"},p:[21,80,1152]}],t:13},{n:"style",f:"\nheight: 44em;\nwidth: 34em;\nleft: calc(50% - 17em);\nright: inherit;\ntop: calc(50% - 22em);\nbottom: inherit;",t:13}],f:[{p:[28,3,1283],t:7,e:"GridNested",m:[{n:"G",f:[{t:2,r:"G",p:[28,17,1297]}],t:13},{n:"show",f:[{t:2,r:"showDetails",p:[28,29,1309]}],t:13},{n:"selectedModule",f:[{t:2,r:"nextSelectedModule",p:[28,61,1341]}],t:13},{n:"params",f:[{t:2,r:"nextSelectedModuleParams",p:[28,91,1371]}],t:13}]}]}],n:50,r:"showDetails",p:[20,1,1053]},{t:4,f:[{p:[33,1,1460],t:7,e:"modal",m:[{n:"show",f:[{t:2,r:"showNarucivanjeSAVE",p:[33,14,1473]}],t:13},{n:"title",f:[{t:2,rx:{r:"selected_row",m:[{t:30,n:"titleNext"}]},p:[33,46,1505]}],t:13},{n:"showOverlay",f:[{t:2,x:{r:[],s:"false"},p:[33,88,1547]}],t:13},{n:"style",f:"\nheight: 44em;\nwidth: 33em;\nleft: calc(50% - 16em);\nright: inherit;\ntop: calc(50% - 22em);\nbottom: inherit;",t:13}],f:[{p:[40,3,1678],t:7,e:"NarucivanjeSAVE",m:[{n:"G",f:[{t:2,r:"G",p:[40,22,1697]}],t:13},{n:"show",f:[{t:2,r:"showNarucivanjeSAVE",p:[40,33,1708]}],t:13},{n:"selectedModule",f:[{t:2,r:"nextSelectedModule",p:[40,72,1747]}],t:13},{n:"params",f:[{t:2,r:"nextSelectedModuleParams",p:[40,102,1777]}],t:13}]}]}],n:50,r:"showNarucivanjeSAVE",p:[32,1,1432]}],e:{true:function(){return!0},false:function(){return!1},"!_1[_0]":function(t,e){return!e[t]},'[_0.fire("onModuleSelect",_0.event)]':function(t){return[t.fire("onModuleSelect",t.event)]},"_0(_1)":function(t,e){return t(e)},'_0?"glyphicon-repeat fast-right-spinner":"glyphicon-refresh"':function(t){return t?"glyphicon-repeat fast-right-spinner":"glyphicon-refresh"}}},t.exports=r.extend(i.exports)}).call(e,n(3)(t),n(0))},function(t,e,n){(function(t,e){var r=n(2),i=t;i.exports={partials:{header:function(){var t=this.get("selectedModule");return this.get("G.setings."+t+".headerHtml")}},onrender:function(){e.log("Grid onrender");var t=this;this.on("action *.action",function(n,r){if(n&&n.original&&(n.original.preventDefault&&n.original.preventDefault(),n.original.stopPropagation&&n.original.stopPropagation()),e.log(r),r){if(!r.service&&r.refresh&&t.fire("onModuleSelect"),!r.service&&r.refreshParent&&t.parent.fire("onModuleSelect"),!r.service&&r.closeParent&&t.parent.set("show",!1),!r.service&&r.close&&setTimeout(function(){t.set("show",!1)},10),!r.service)return!1;var i=Object.assign(t.get("params")||{},r&&"object"==typeof r.data?r.data:{});if(e.log("zovem",r.service,i),!t.get("G.setings."+r.service+".is_cmd")){var o=i;e.log("params za next",o);var s=t.get("selectedModule"),a=r.service;e.log("Grid,nextSelectedModule:",a),t.set("nextSelectedModuleParams",o),t.set("nextSelectedModule",a),t.set("G.rows."+a,null);var u=t.get("G.setings."+s+".columns.0.compId");return t.set("titleNext",u),t.set("showDetails",!0),!1}return socket.emit("get_rows",r.service,i,function(n){e.log(n),"string"==typeof n&&izitoast.error({message:n}),n&&(1==n.length&&(resp0=n[0],resp0._message&&resp0._status&&izitoast[resp0._status]({message:resp0._message})),r.refresh&&t.fire("onModuleSelect"),r.refreshParent&&t.parent.fire("onModuleSelect"),r.closeParent&&t.parent.set("show",!1),r.close&&t.set("show",!1))}),!1}}),table4Export.push(t),t.observe("params",function(n){e.log("params obs",n),socket.emit("get_rows",t.get("selectedModule"),t.get("params"))},{init:!1}),t.observe("selectedModule",function(){e.log('observe("selectedModule")'),setTimeout(function(){t.add("refresh",1),t.update()},1)}),this.on("onModuleSelect",function(n){return e.log("refreshing",t.get("selectedModule")),n&&n.original&&(n.original.preventDefault(),n.original.stopPropagation()),socket.emit("get_rows",t.get("selectedModule"),t.get("params")),!1}),this.on("*.clickhandlerfromtable",function(n,r,i){e.log("clickhandlerfromtable",n,r,i);var o=Object.assign({},t.get("selected_row")),s=t.get("selectedModule"),a=o&&o._next_service_name?o._next_service_name:s+"Details";if(t.get("nextSelectedModule")!=a&&t.set("showDetails",!1),!t.get("G.setings."+a))return t.set("showDetails",!1),!1;e.log("Nested Grid,nextSelectedModule:",a),e.log("Nested Grid prosao params:",a),t.set("nextSelectedModuleParams",o),t.set("nextSelectedModule",a),t.set("G.rows."+a,null);var u=t.get("G.setings."+s+".columns.0.compId");return t.set("titleNext",u),"NarucivanjeSAVE"==a?t.set("showNarucivanjeSAVE",!0):t.set("showDetails",!0),!1}),this.formatDate=function(t){return t.getDate()+"."+(t.getMonth()+1)+"."+t.getFullYear()+" "+t.getHours()+":"+t.getMinutes()}},onunrender:function(t){table4Export.pop()},data:function(){return{G:null,selectedModule:null,refresh:0,showDetails:!1,selected_row:{},titleNext:"",nextSelectedModule:null,nextSelectedModuleParams:null,params:null,showNarucivanjeSAVE:!1,fr:[],show:!0}}},i.exports.template={v:4,t:[{p:[1,1,0],t:7,e:"div",f:[{t:8,r:"header",p:[2,1,6]}]}," ",{p:[4,1,25],t:7,e:"section",m:[{n:"style",f:"flex:1; padding-bottom:0; padding-top:0; overflow:auto; display: flex;flex-flow: column;",t:13}],f:[{p:[5,3,134],t:7,e:"div",m:[{n:"style",f:"display:box; display:flex; height:100%; overflow:auto; flex:1",t:13}],f:[{p:[6,7,216],t:7,e:"f2table",m:[{n:"style",f:"width:100%",t:13},{n:"rows",f:[{t:2,rx:{r:"G.rows",m:[{t:30,n:"~/selectedModule"}]},p:[6,40,249]}],t:13},{n:"visible",f:"true",t:13},{n:"headerFixedHeight",f:[{t:2,x:{r:[],s:"true"},p:[6,103,312]}],t:13},{n:"alternateColor",f:[{t:2,x:{r:[],s:"true"},p:[6,128,337]}],t:13},{n:"columns",f:[{t:2,rx:{r:"G.setings",m:[{t:30,n:"~/selectedModule"},"columns"]},p:[7,19,366]}],t:13},{n:"ipp",f:"50",t:13},{n:"refresh",f:[{t:2,r:"refresh",p:[7,76,423]}],t:13},{n:"row",f:[{t:2,r:"selected_row",p:[8,15,449]}],t:13},{n:"fr",f:[{t:2,r:"fr",p:[8,35,469]}],t:13},{n:"G",f:[{t:2,r:"G",p:[8,44,478]}],t:13},{n:"variableRowHeight",f:[{t:2,x:{r:[],s:"false"},p:[9,29,512]}],t:13},{n:"showSearch",f:[{t:2,x:{r:[],s:"true"},p:[9,50,533]}],t:13},{n:"showPaginator",f:[{t:2,x:{r:[],s:"true"},p:[9,73,556]}],t:13},{n:"showHeaders",f:[{t:2,x:{r:[],s:"true"},p:[9,94,577]}],t:13},{n:"selectid",f:[{t:2,r:"selectid",p:[9,112,595]}],t:13},{n:"loading",f:[{t:2,x:{r:["~/selectedModule","G.rows"],s:"!_1[_0]"},p:[9,133,616]}],t:13},{n:"nodata",f:[{t:2,x:{r:[],s:"false"},p:[9,170,653]}],t:13}],f:[]}]}]}," ",{t:4,f:[{p:[21,1,729],t:7,e:"modal",m:[{n:"show",f:[{t:2,r:"showDetails",p:[21,14,742]}],t:13},{n:"title",f:[{t:2,rx:{r:"selected_row",m:[{t:30,n:"titleNext"}]},p:[21,38,766]}],t:13},{n:"showOverlay",f:[{t:2,x:{r:[],s:"false"},p:[21,80,808]}],t:13},{n:"style",f:"\nheight: 44em;\nwidth: 34em;\nleft: calc(50% - 17em);\nright: inherit;\ntop: calc(50% - 22em);\nbottom: inherit;",t:13}],f:[{p:[28,3,939],t:7,e:"GridNested",m:[{n:"G",f:[{t:2,r:"G",p:[28,17,953]}],t:13},{n:"selectedModule",f:[{t:2,r:"nextSelectedModule",p:[28,38,974]}],t:13},{n:"params",f:[{t:2,r:"nextSelectedModuleParams",p:[28,68,1004]}],t:13}]}]}],n:50,r:"showDetails",p:[20,1,709]},{t:4,f:[{p:[33,1,1093],t:7,e:"modal",m:[{n:"show",f:[{t:2,r:"showNarucivanjeSAVE",p:[33,14,1106]}],t:13},{n:"title",f:"Stavke narudzbe",t:13},{n:"showOverlay",f:[{t:2,x:{r:[],s:"false"},p:[33,76,1168]}],t:13},{n:"style",f:"\nheight: 44em;\nwidth: 32em;\nleft: calc(50% - 16em);\nright: inherit;\ntop: calc(50% - 22em);\nbottom: inherit;",t:13}],f:[{p:[40,3,1299],t:7,e:"NarucivanjeSAVE",m:[{n:"G",f:[{t:2,r:"G",p:[40,22,1318]}],t:13},{n:"show",f:[{t:2,r:"showNarucivanjeSAVE",p:[40,33,1329]}],t:13},{n:"selectedModule",f:[{t:2,r:"nextSelectedModule",p:[40,72,1368]}],t:13},{n:"params",f:[{t:2,r:"nextSelectedModuleParams",p:[40,102,1398]}],t:13}]}]}],n:50,r:"showNarucivanjeSAVE",p:[32,1,1065]}],e:{true:function(){return!0},false:function(){return!1},"!_1[_0]":function(t,e){return!e[t]}}},t.exports=r.extend(i.exports)}).call(e,n(3)(t),n(0))},function(t,e,n){(function(t){var e=n(2),r=t;r.exports={onrender:async function(){var t=this,e=await db.getItem("company_id");t.set("company_id",e),this.showQRScanner=function(){t.set("G.QRScannerActive",!0),QRScanner.show(),QRScanner.scan(function(e,n){e?(t.set("G.QRScannerActive",!1),QRScanner.destroy(),izitoast.error({message:"No camera, error!"})):(t.set("G.QRScannerActive",!1),izitoast.success({message:n}),QRScanner.destroy(),t.set("company_id",n))})},this.save=async function(){var e=t.get("company_id"),n=await db.getItem("company_id");n&&n==e||await db.clear(),await db.setItem("company_id",e),t.set("G.company_id",e),t.set("G.rows",{}),t.set("G.setings",{}),t.set("G.ts",{}),socket.emit("company_id",e),t.set("G.selectedModule",null)}},data:function(){return{company_id:null,G:null}}},r.exports.template={v:4,t:[{t:4,f:[{p:[3,1,27],t:7,e:"center",f:["Searching for QR Code"]}],n:50,r:"G.QRScannerActive",p:[2,1,1]},{t:4,n:51,f:[{p:[5,1,75],t:7,e:"section",m:[{n:"style",f:"padding-bottom:0; padding-top:0.5rem; overflow:auto;\nflex: 1; position: relative; margin-left: auto; margin-right: auto; margin-top: unset;margin-bottom: unset;",t:13}],f:[{p:[7,5,258],t:7,e:"label",f:[{p:[8,7,273],t:7,e:"span",m:[{n:"style",f:"display: inline-block; width:8em",t:13}],f:["Id kompanije:"]}," ",{p:[9,7,347],t:7,e:"input",m:[{n:"value",f:[{t:2,r:"company_id",p:[9,21,361]}],t:13},{n:"placeholder",f:"Company id",t:13},{n:"style",f:"width: 23em;",t:13}]}," ",{p:[10,7,430],t:7,e:"button",m:[{n:"primary",f:0,t:13},{n:"m-full",f:0,t:13},{n:"click",f:{x:{r:["@this"],s:"[_0.showQRScanner()]"}},t:70},{n:"style",f:"width: 16em; float:right",t:13}],f:["or scan QR code ",{p:[11,9,544],t:7,e:"i",m:[{n:"class",f:"glyphicon glyphicon-qrcode ",t:13}]}]}]}," ",{p:[15,5,622],t:7,e:"label",f:[{p:[16,7,637],t:7,e:"span",m:[{n:"style",f:"display: inline-block; width:8em",t:13}],f:["User name:"]}," ",{p:[17,7,708],t:7,e:"input",m:[{n:"value",f:[{t:2,r:"username",p:[17,21,722]}],t:13},{n:"placeholder",f:"username",t:13},{n:"style",f:"width: 23em;",t:13}]}]}," ",{p:[20,5,799],t:7,e:"label",f:[{p:[21,7,814],t:7,e:"span",m:[{n:"style",f:"display: inline-block; width:8em",t:13}],f:["Password:"]}," ",{p:[22,7,884],t:7,e:"input",m:[{n:"type",f:"password",t:13},{n:"value",f:[{t:2,r:"userpass",p:[22,37,914]}],t:13},{n:"style",f:"width: 23em;",t:13}]}]}," ",{p:[25,5,969],t:7,e:"button",m:[{n:"primary",f:0,t:13},{n:"m-full",f:0,t:13},{n:"click",f:{x:{r:["@this"],s:"[_0.save()]"}},t:70},{n:"style",f:"width: 100%; position: absolute; bottom: 0; left: 0; margin-bottom: 0;",t:13}],f:["Save ",{p:[26,9,1109],t:7,e:"i",m:[{n:"style",f:"float:right",t:13},{n:"class",f:"glyphicon glyphicon-ok ",t:13}]}]}]}," "],l:1}],e:{"[_0.showQRScanner()]":function(t){return[t.showQRScanner()]},"[_0.save()]":function(t){return[t.save()]}}},t.exports=e.extend(r.exports)}).call(e,n(3)(t))},function(t,e,n){(function(t,e){var r=n(2),i=t;i.exports={onrender:function(){e.log("NarucivanjeSAVE onrender");var t=this;table4Export.push(t),t.on("addNewRow",function(){t.push("G.rows.TMPNARUCIVANJE",{id:null,KOL:null});var e=void 0===t.get("currentRow")?0:t.get("currentRow")+1;t.set("currentRow",e)}),t.observe("params",function(n){e.log("params obs",n),this.get("G.rows.TMPNARUCIVANJE")||(this.set("G.rows.TMPNARUCIVANJE",[]),t.fire("addNewRow"))}),this.on("*.clickhandlerfromtable",function(n,r,i){e.log("clickhandlerfromtable",n,r,i);var o=t.get("selectedModule"),s=o+"Details",a=!1;if("PregledPorudzbiDetails"==o&&(s="NarucivanjeSAVE",a=!0),e.log("Nested Grid,nextSelectedModule:",s),!t.get("G.setings."+s))return!1;var u=Object.assign({},t.get("selected_row"));t.set("nextSelectedModuleParams",u),t.set("nextSelectedModule",s),t.set("G.rows."+s,null);var c=t.get("G.setings."+o+".columns.0.compId");return t.set("titleNext",c),a?t.set("showCustom","NarucivanjeSAVE"):t.set("showDetails",!0),!1}),this.on("saveNarudz",function(){if(t.get("G.rows.TMPNARUCIVANJENAZIVKUPCA")){var n=t.get("G.rows.TMPNARUCIVANJE")||[];if(0!==n.length){for(var r=0;r<n.length;r++){if(!n[r].id)return void izitoast.error({message:"Izaberite artikal"});if(!n[r].KOL)return void izitoast.error({message:"Unesite koliinu"})}var i={stavke:JSON.stringify(t.get("G.rows.TMPNARUCIVANJE")),firma:t.get("G.rows.TMPNARUCIVANJENAZIVKUPCA")};e.log("zovem NarucivanjeSAVE, params ",i),socket.emit("get_rows","NarucivanjeSAVE",i,function(n){e.log("NarucivanjeSAVE",n),"string"==typeof n&&izitoast.error({message:n}),n&&1==n.length&&(resp0=n[0],resp0._message&&resp0._status&&(izitoast[resp0._status]({message:resp0._message}),"success"==resp0._status&&resp0.KLJUC&&(t.set("G.rows.TMPNARUCIVANJENAZIVKUPCA",null),t.set("G.rows.TMPNARUCIVANJE",[{id:null,KOL:null}]),t.set("currentRow",0),t.parent.fire("onModuleSelect",null,"PregledPorudzbiDetails",resp0))))})}else izitoast.error({message:"Narudba je prazna!"})}else izitoast.error({message:"Izaberite firmu"})}),this.formatDate=function(t){return t.getDate()+"."+(t.getMonth()+1)+"."+t.getFullYear()+" "+t.getHours()+":"+t.getMinutes()}},onunrender:function(t){table4Export.pop()},data:function(){return{G:null,selectedModule:null,refresh:0,showDetails:!1,selected_row:{},titleNext:"",nextSelectedModule:null,nextSelectedModuleParams:null,params:null,showCustom:null,currentRow:void 0}}},i.exports.template={v:4,t:[{p:[1,1,0],t:7,e:"section",m:[{n:"style",f:"flex:1; padding-bottom:0; padding-top:0; overflow:auto;height: 100%;\ndisplay: flex;\nflex-flow: column;",t:13}],f:[{p:[4,3,123],t:7,e:"h2",f:["Firma: ",{t:2,r:"G.rows.TMPNARUCIVANJENAZIVKUPCA",p:[4,14,134]}]}," ",{p:[5,3,177],t:7,e:"Selectize",m:[{n:"rows",f:[{t:2,r:"G.rows.NapraviPorudzbinuStep1",p:[5,20,194]}],t:13},{n:"service",f:"NapraviPorudzbinuStep1",t:13},{n:"value",f:[{t:2,r:"G.rows.TMPNARUCIVANJENAZIVKUPCA",p:[5,95,269]}],t:13},{n:"labelf",f:"NAZIVKUPCA",t:13},{n:"valuef",f:"NAZIVKUPCA",t:13},{n:"style",f:"display: inline-block",t:13}]}," ",{p:[6,3,391],t:7,e:"div",m:[{n:"style",f:"overflow:auto; flex:1",t:13}],f:[" ",{p:[16,7,946],t:7,e:"table",m:[{n:"class",f:"necubarecss",t:13},{n:"style",f:"overflow:auto; width:100%",t:13}],f:[{p:[17,9,1016],t:7,e:"thead",f:[{p:[18,11,1034],t:7,e:"tr",f:[{p:[19,13,1051],t:7,e:"th",m:[{n:"style",f:"text-align: left",t:13}],f:["#"]}," ",{p:[20,13,1099],t:7,e:"th",m:[{n:"style",f:"text-align: left",t:13}],f:["Naziv"]}," ",{p:[21,13,1151],t:7,e:"th",m:[{n:"style",f:"text-align: right",t:13}],f:["Koliina"]}," ",{p:[22,13,1207],t:7,e:"th"}]}]}," ",{p:[26,9,1267],t:7,e:"tbody",f:[{t:4,f:[{p:[28,11,1331],t:7,e:"tr",m:[{n:"style",f:"height: 3.2em",t:13},{n:"tap",f:{x:{r:["@this","i"],s:'[_0.set("currentRow",_1)]'}},t:70}],f:[{p:[29,13,1406],t:7,e:"td",m:[{n:"style",f:"text-align: left; width:2rem; border-bottom: 1px solid #e3e6e8;background-color: #fff;",t:13}],f:[{t:2,x:{r:["@index"],s:"_0+1"},p:[29,112,1505]},"."]}," ",{p:[30,13,1536],t:7,e:"td",m:[{n:"style",f:"text-align: left; width:20rem; border-bottom: 1px solid #e3e6e8;background-color: #fff; ",t:13}],f:[{t:4,f:[{p:[32,17,1692],t:7,e:"Selectize",m:[{n:"rows",f:[{t:2,r:"G.rows.NapraviPorudzbinuArtikli",p:[32,34,1709]}],t:13},{n:"service",f:"NapraviPorudzbinuArtikli",t:13},{n:"value",f:[{t:2,r:".id",p:[32,113,1788]}],t:13},{n:"labelf",f:"id",t:13},{n:"valuef",f:"id",t:13},{n:"style",f:"display: block; width:100%",t:13}]}],n:50,x:{r:["currentRow","i"],s:"_0==_1"},p:[31,15,1652]},{t:4,n:51,f:[{t:2,r:".id",p:[34,17,1908]}],l:1}]}," ",{p:[37,13,1968],t:7,e:"td",m:[{n:"style",f:"width:10rem; text-align: right; border-bottom: 1px solid #e3e6e8;background-color: #fff;",t:13}],f:[{p:[37,114,2069],t:7,e:"input",m:[{n:"id",f:["kol",{t:2,r:"i",p:[37,128,2083]}],t:13},{n:"type",f:"number",t:13},{n:"placeholder",f:"Unesite koliinu",t:13},{n:"style",f:"margin: 0;",t:13},{n:"value",f:[{t:2,r:".KOL",p:[37,206,2161]}],t:13},{n:"style",f:"text-align: right;",t:13}]}]}," ",{p:[38,13,2216],t:7,e:"td",m:[{n:"style",f:"text-align: center; width:2rem; border-bottom: 1px solid #e3e6e8;background-color: #fff;",t:13}],f:[{p:[39,17,2334],t:7,e:"button",m:[{n:"style",f:"margin: 0; padding:0.8rem",t:13},{n:"click",f:{x:{r:["@this","i"],s:'[_0.splice("G.rows.TMPNARUCIVANJE",_1,1)]'}},t:70}],f:[{p:[40,21,2453],t:7,e:"i",m:[{n:"class",f:"glyphicon glyphicon-remove",t:13}]}]}]}]}],n:52,i:"i",r:"G.rows.TMPNARUCIVANJE",p:[27,11,1285]}]}]}," ",{p:[48,7,2636],t:7,e:"button",m:[{n:"style",f:"margin: 0; padding:0.8rem",t:13},{n:"click",f:{x:{r:["@this"],s:'[_0.fire("addNewRow")]'}},t:70}],f:[{p:[49,11,2725],t:7,e:"i",m:[{n:"class",f:"glyphicon glyphicon-plus",t:13}]}," Add new row"]}]}," ",{p:[52,3,2822],t:7,e:"section",m:[{n:"style",f:"padding-bottom:0; padding-top:0;",t:13}],f:[{p:[53,7,2879],t:7,e:"button",m:[{n:"primary",f:0,t:13},{n:"m-full",f:0,t:13},{n:"style",f:"width: 100%; margin: 0;",t:13},{n:"click",f:{x:{r:["@this"],s:'[_0.fire("saveNarudz",_0.event)]'}},t:70}],f:["Potvrujem narudbinu ",{p:[54,11,3014],t:7,e:"i",m:[{n:"class",f:"glyphicon glyphicon-ok ",t:13}]}]}]}]}],e:{'[_0.set("currentRow",_1)]':function(t,e){return[t.set("currentRow",e)]},"_0+1":function(t){return t+1},"_0==_1":function(t,e){return t==e},'[_0.splice("G.rows.TMPNARUCIVANJE",_1,1)]':function(t,e){return[t.splice("G.rows.TMPNARUCIVANJE",e,1)]},'[_0.fire("addNewRow")]':function(t){return[t.fire("addNewRow")]},'[_0.fire("saveNarudz",_0.event)]':function(t){return[t.fire("saveNarudz",t.event)]}}},t.exports=r.extend(i.exports)}).call(e,n(3)(t),n(0))},function(t,e,n){(function(t,e){var r=n(2),i=t;i.exports={onteardown:function(){this.sss&&this.sss.destroy()},onrender:function(t){var n,r,i=this,o=(this.get("url"),function(){var t=i.get("optgroupField");if(t){var e={},n=i.get("labelf"),o=i.get("valuef"),s=i.get("rows");r.clearOptionGroups(),s.forEach(function(i){if(i[t]&&!e[i[t]]){e[i[t]]=!0;var s={};s[n]=i[t],s[o]=i[o],s.id=i[t],r.registerOptionGroup($.extend({},s))}})}});n=$(i.nodes.selectize).selectize({options:i.get("rows"),placeholder:i.get("placeholder"),labelField:i.get("labelf"),valueField:i.get("valuef"),optgroupField:i.get("optgroupField"),optgroupLabelField:i.get("labelf"),optgroupValueField:i.get("valuef"),searchField:[i.get("labelf")],onDropdownOpen:function(){navigator.userAgent.toLowerCase().indexOf("android")>-1&&this.clear()}}),r=n[0].selectize,this.sss=r,o(),n.on("change",function(t){var e=r.getValue();if(e){i.set("value",e);var n=i.get("valuef"),o=i.get("rows")||[];"string"==typeof o&&(o=[]);var s=o.filter(function(t){return t[n]==e})[0];if(void 0!==s)return i.set("objselected",s),void i.set("lbl",s[i.get("labelf")]);i.set("objselected",{}),i.set("lbl","")}});var s=function(){!0;var t=i.get("value"),e=String(t).split(",");if("multiple"!=i.get("multiple")){r&&r.setValue(t);var n=i.get("valuef"),o=i.get("rows")||[];"string"==typeof o&&(o=[]);var s=o.filter(function(e){return e[n]==t})[0];if(void 0!==s)return i.set("objselected",s),void i.set("lbl",s[i.get("labelf")]);i.set("objselected",{}),i.set("lbl","")}else r&&r.setValue(e)};this.observe("service",function(t){e.log("selectize refreshing",t),t&&socket.emit("get_rows",t)}),this.observe("rows",async function(t,e,n){var a=i.get("rows");a&&(r.clearOptions(),r.addOption(a),r.refreshOptions(!1),o(),s())}),this.observe("value",function(t,e,n){s()})},data:function(){return{size:1,valuef:"id",labelf:"Naziv",url:null,rows:[],lbl:"",placeholder:"Pick",multiple:"",service:null}}},i.exports.template={v:4,t:[{p:[3,1,49],t:7,e:"select",m:[{n:"value",f:[{t:2,r:"value",p:[3,16,64]}],t:13},{n:"style",f:[{t:2,r:"style",p:[3,35,83]}],t:13},{n:"class",f:[{t:2,r:"class",p:[3,53,101]}],t:13},{n:"size",f:[{t:2,r:"size",p:[3,71,119]}],t:13},{n:"id",f:"selectize",t:13},{n:"multiple",f:[{t:2,r:"multiple",p:[3,106,154]}],t:13}],f:[]}]},t.exports=r.extend(i.exports)}).call(e,n(3)(t),n(0))},function(t,e,n){(function(t,e){var r=n(2),i=t;i.exports={onrender:async function(){var t=this,n=await db.getItem("company_id");t.set("company_id",n);var r=await db.getItem("username");t.set("username",r);var i=await db.getItem("userpass");t.set("userpass",i),this.showQRScanner=function(){t.set("G.QRScannerActive",!0),QRScanner.show(),QRScanner.scan(function(e,n){e?(t.set("G.QRScannerActive",!1),QRScanner.destroy(),izitoast.error({message:"No camera, error!"})):(t.set("G.QRScannerActive",!1),izitoast.success({message:n}),QRScanner.destroy(),t.set("company_id",n))})},this.on("tryLogin",async function(){var n=t.get("username"),r=t.get("userpass");e.log("tryLogin");var i=t.get("company_id"),o=await db.getItem("company_id"),s=(n=t.get("username"),await db.getItem("username")),a=(r=t.get("userpass"),await db.getItem("userpass"));o&&o==i&&s&&s==n&&a&&a==r||await db.clear(),await db.setItem("company_id",i),t.set("G.company_id",i),await db.setItem("username",n),t.set("G.username",n),await db.setItem("userpass",r),t.set("G.userpass",r),t.set("G.rows",{}),t.set("G.setings",{}),t.set("G.ts",{}),socket.emit("company_id",{company_id:i,username:n,userpass:r}),t.set("G.selectedModule",null),t.set("G.is_logedin",!0)})},data:function(){return{G:null,username:null,userpass:null,company_id:null,isCordova:window.cordova}}},i.exports.template={v:4,t:[{p:[2,1,1],t:7,e:"section",m:[{n:"style",f:"flex:1; padding-bottom:0; padding:1rem; overflow:auto",t:13}],f:[{p:[3,3,75],t:7,e:"label",f:["Username"]}," ",{p:[4,3,101],t:7,e:"input",m:[{n:"type",f:"text",t:13},{n:"placeholder",f:"username",t:13},{n:"value",f:[{t:2,r:"username",p:[4,51,149]}],t:13}]}," ",{p:[6,3,169],t:7,e:"label",f:["Password"]}," ",{p:[7,3,195],t:7,e:"input",m:[{n:"type",f:"password",t:13},{n:"placeholder",f:"password",t:13},{n:"value",f:[{t:2,r:"userpass",p:[7,55,247]}],t:13}]}," ",{p:[9,3,266],t:7,e:"label",f:["Company id"]}," ",{p:[10,3,294],t:7,e:"input",m:[{n:"value",f:[{t:2,r:"company_id",p:[10,17,308]}],t:13},{n:"placeholder",f:"Company id",t:13},{t:4,f:[{n:"style",f:"width: 23em;",t:13}],n:50,r:"isCordova",p:[10,58,349]}]}," ",{t:4,f:[{p:[12,3,419],t:7,e:"button",m:[{n:"primary",f:0,t:13},{n:"m-full",f:0,t:13},{n:"click",f:{x:{r:["@this"],s:"[_0.showQRScanner()]"}},t:70},{n:"style",f:"width: 5em; float:right",t:13}],f:[{p:[13,5,513],t:7,e:"i",m:[{n:"class",f:"glyphicon glyphicon-qrcode ",t:13}]}]}],n:50,r:"isCordova",p:[11,3,399]}," ",{p:[17,3,584],t:7,e:"button",m:[{n:"primary",f:0,t:13},{n:"m-full",f:0,t:13},{n:"style",f:"width: 100%; margin: 0; position: absolute;bottom: 0;left: 0;",t:13},{n:"click",f:"tryLogin",t:70}],f:["Sign in"]}]}],e:{"[_0.showQRScanner()]":function(t){return[t.showQRScanner()]}}},t.exports=r.extend(i.exports)}).call(e,n(3)(t),n(0))},function(t,e,n){(function(e,n){var r,i;i=function(){return function t(e,n,i){function o(a,u){if(!n[a]){if(!e[a]){if(!u&&("function"==typeof r&&r))return r(a,!0);if(s)return s(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};e[a][0].call(l.exports,function(t){var n=e[a][1][t];return o(n||t)},l,l.exports,t,e,n,i)}return n[a].exports}for(var s="function"==typeof r&&r,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(t,n,r){(function(t){"use strict";var e,r,i=t.MutationObserver||t.WebKitMutationObserver;if(i){var o=0,s=new i(l),a=t.document.createTextNode("");s.observe(a,{characterData:!0}),e=function(){a.data=o=++o%2}}else if(t.setImmediate||void 0===t.MessageChannel)e="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){l(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(l,0)};else{var u=new t.MessageChannel;u.port1.onmessage=l,e=function(){u.port2.postMessage(0)}}var c=[];function l(){var t,e;r=!0;for(var n=c.length;n;){for(e=c,c=[],t=-1;++t<n;)e[t]();n=c.length}r=!1}n.exports=function(t){1!==c.push(t)||r||e()}}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(t,e,n){"use strict";var r=t(1);function i(){}var o={},s=["REJECTED"],a=["FULFILLED"],u=["PENDING"];function c(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,t!==i&&f(this,t)}function l(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function h(t,e,n){r(function(){var r;try{r=e(n)}catch(e){return o.reject(t,e)}r===t?o.reject(t,new TypeError("Cannot resolve promise with itself")):o.resolve(t,r)})}function p(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function f(t,e){var n=!1;function r(e){n||(n=!0,o.reject(t,e))}function i(e){n||(n=!0,o.resolve(t,e))}var s=d(function(){e(i,r)});"error"===s.status&&r(s.value)}function d(t,e){var n={};try{n.value=t(e),n.status="success"}catch(t){n.status="error",n.value=t}return n}e.exports=c,c.prototype.catch=function(t){return this.then(null,t)},c.prototype.then=function(t,e){if("function"!=typeof t&&this.state===a||"function"!=typeof e&&this.state===s)return this;var n=new this.constructor(i);this.state!==u?h(n,this.state===a?t:e,this.outcome):this.queue.push(new l(n,t,e));return n},l.prototype.callFulfilled=function(t){o.resolve(this.promise,t)},l.prototype.otherCallFulfilled=function(t){h(this.promise,this.onFulfilled,t)},l.prototype.callRejected=function(t){o.reject(this.promise,t)},l.prototype.otherCallRejected=function(t){h(this.promise,this.onRejected,t)},o.resolve=function(t,e){var n=d(p,e);if("error"===n.status)return o.reject(t,n.value);var r=n.value;if(r)f(t,r);else{t.state=a,t.outcome=e;for(var i=-1,s=t.queue.length;++i<s;)t.queue[i].callFulfilled(e)}return t},o.reject=function(t,e){t.state=s,t.outcome=e;for(var n=-1,r=t.queue.length;++n<r;)t.queue[n].callRejected(e);return t},c.resolve=function(t){if(t instanceof this)return t;return o.resolve(new this(i),t)},c.reject=function(t){var e=new this(i);return o.reject(e,t)},c.all=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,r=!1;if(!n)return this.resolve([]);var s=new Array(n),a=0,u=-1,c=new this(i);for(;++u<n;)l(t[u],u);return c;function l(t,i){e.resolve(t).then(function(t){s[i]=t,++a!==n||r||(r=!0,o.resolve(c,s))},function(t){r||(r=!0,o.reject(c,t))})}},c.race=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,r=!1;if(!n)return this.resolve([]);var s=-1,a=new this(i);for(;++s<n;)u=t[s],e.resolve(u).then(function(t){r||(r=!0,o.resolve(a,t))},function(t){r||(r=!0,o.reject(a,t))});var u;return a}},{1:1}],3:[function(t,n,r){(function(e){"use strict";"function"!=typeof e.Promise&&(e.Promise=t(2))}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(t,e,r){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var o=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(t){return}}();function s(t,e){t=t||[],e=e||{};try{return new Blob(t,e)}catch(i){if("TypeError"!==i.name)throw i;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<t.length;r+=1)n.append(t[r]);return n.getBlob(e.type)}}"undefined"==typeof Promise&&t(3);var a=Promise;function u(t,e){e&&t.then(function(t){e(null,t)},function(t){e(t)})}function c(t,e,n){"function"==typeof e&&t.then(e),"function"==typeof n&&t.catch(n)}function l(t){return"string"!=typeof t&&(n.warn(t+" used as a key, but it is not a string."),t=String(t)),t}function h(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var p="local-forage-detect-blob-support",f=void 0,d={},g=Object.prototype.toString,m="readonly",v="readwrite";function y(t){return"boolean"==typeof f?a.resolve(f):function(t){return new a(function(e){var n=t.transaction(p,v),r=s([""]);n.objectStore(p).put(r,"key"),n.onabort=function(t){t.preventDefault(),t.stopPropagation(),e(!1)},n.oncomplete=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);e(n||!t||parseInt(t[1],10)>=43)}}).catch(function(){return!1})}(t).then(function(t){return f=t})}function b(t){var e=d[t.name],n={};n.promise=new a(function(t,e){n.resolve=t,n.reject=e}),e.deferredOperations.push(n),e.dbReady?e.dbReady=e.dbReady.then(function(){return n.promise}):e.dbReady=n.promise}function w(t){var e=d[t.name].deferredOperations.pop();if(e)return e.resolve(),e.promise}function D(t,e){var n=d[t.name].deferredOperations.pop();if(n)return n.reject(e),n.promise}function C(t,e){return new a(function(r,i){if(d[t.name]=d[t.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},t.db){if(!e)return r(t.db);b(t),t.db.close()}var s=[t.name];e&&s.push(t.version);var a=o.open.apply(o,s);e&&(a.onupgradeneeded=function(e){var r=a.result;try{r.createObjectStore(t.storeName),e.oldVersion<=1&&r.createObjectStore(p)}catch(r){if("ConstraintError"!==r.name)throw r;n.warn('The database "'+t.name+'" has been upgraded from version '+e.oldVersion+" to version "+e.newVersion+', but the storage "'+t.storeName+'" already exists.')}}),a.onerror=function(t){t.preventDefault(),i(a.error)},a.onsuccess=function(){r(a.result),w(t)}})}function x(t){return C(t,!1)}function E(t){return C(t,!0)}function A(t,e){if(!t.db)return!0;var r=!t.db.objectStoreNames.contains(t.storeName),i=t.version<t.db.version,o=t.version>t.db.version;if(i&&(t.version!==e&&n.warn('The database "'+t.name+"\" can't be downgraded from version "+t.db.version+" to version "+t.version+"."),t.version=t.db.version),o||r){if(r){var s=t.db.version+1;s>t.version&&(t.version=s)}return!0}return!1}function F(t){return s([function(t){for(var e=t.length,n=new ArrayBuffer(e),r=new Uint8Array(n),i=0;i<e;i++)r[i]=t.charCodeAt(i);return n}(atob(t.data))],{type:t.type})}function _(t){return t&&t.__local_forage_encoded_blob}function k(t){var e=this,n=e._initReady().then(function(){var t=d[e._dbInfo.name];if(t&&t.dbReady)return t.dbReady});return c(n,t,t),n}function S(t,e,n,r){void 0===r&&(r=1);try{var i=t.db.transaction(t.storeName,e);n(null,i)}catch(i){if(r>0&&(!t.db||"InvalidStateError"===i.name||"NotFoundError"===i.name))return a.resolve().then(function(){if(!t.db||"NotFoundError"===i.name&&!t.db.objectStoreNames.contains(t.storeName)&&t.version<=t.db.version)return t.db&&(t.version=t.db.version+1),E(t)}).then(function(){return function(t){b(t);for(var e=d[t.name],n=e.forages,r=0;r<n.length;r++){var i=n[r];i._dbInfo.db&&(i._dbInfo.db.close(),i._dbInfo.db=null)}return t.db=null,x(t).then(function(e){return t.db=e,A(t)?E(t):e}).then(function(r){t.db=e.db=r;for(var i=0;i<n.length;i++)n[i]._dbInfo.db=r}).catch(function(e){throw D(t,e),e})}(t).then(function(){S(t,e,n,r-1)})}).catch(n);n(i)}}var T={_driver:"asyncStorage",_initStorage:function(t){var e=this,n={db:null};if(t)for(var r in t)n[r]=t[r];var i=d[n.name];i||(i={forages:[],db:null,dbReady:null,deferredOperations:[]},d[n.name]=i),i.forages.push(e),e._initReady||(e._initReady=e.ready,e.ready=k);var o=[];function s(){return a.resolve()}for(var u=0;u<i.forages.length;u++){var c=i.forages[u];c!==e&&o.push(c._initReady().catch(s))}var l=i.forages.slice(0);return a.all(o).then(function(){return n.db=i.db,x(n)}).then(function(t){return n.db=t,A(n,e._defaultConfig.version)?E(n):t}).then(function(t){n.db=i.db=t,e._dbInfo=n;for(var r=0;r<l.length;r++){var o=l[r];o!==e&&(o._dbInfo.db=n.db,o._dbInfo.version=n.version)}})},_support:function(){try{if(!o)return!1;var t="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),e="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!t||e)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(t){return!1}}(),iterate:function(t,e){var n=this,r=new a(function(e,r){n.ready().then(function(){S(n._dbInfo,m,function(i,o){if(i)return r(i);try{var s=o.objectStore(n._dbInfo.storeName).openCursor(),a=1;s.onsuccess=function(){var n=s.result;if(n){var r=n.value;_(r)&&(r=F(r));var i=t(r,n.key,a++);void 0!==i?e(i):n.continue()}else e()},s.onerror=function(){r(s.error)}}catch(t){r(t)}})}).catch(r)});return u(r,e),r},getItem:function(t,e){var n=this;t=l(t);var r=new a(function(e,r){n.ready().then(function(){S(n._dbInfo,m,function(i,o){if(i)return r(i);try{var s=o.objectStore(n._dbInfo.storeName).get(t);s.onsuccess=function(){var t=s.result;void 0===t&&(t=null),_(t)&&(t=F(t)),e(t)},s.onerror=function(){r(s.error)}}catch(t){r(t)}})}).catch(r)});return u(r,e),r},setItem:function(t,e,n){var r=this;t=l(t);var i=new a(function(n,i){var o;r.ready().then(function(){return o=r._dbInfo,"[object Blob]"===g.call(e)?y(o.db).then(function(t){return t?e:(n=e,new a(function(t,e){var r=new FileReader;r.onerror=e,r.onloadend=function(e){var r=btoa(e.target.result||"");t({__local_forage_encoded_blob:!0,data:r,type:n.type})},r.readAsBinaryString(n)}));var n}):e}).then(function(e){S(r._dbInfo,v,function(o,s){if(o)return i(o);try{var a=s.objectStore(r._dbInfo.storeName);null===e&&(e=void 0);var u=a.put(e,t);s.oncomplete=function(){void 0===e&&(e=null),n(e)},s.onabort=s.onerror=function(){var t=u.error?u.error:u.transaction.error;i(t)}}catch(t){i(t)}})}).catch(i)});return u(i,n),i},removeItem:function(t,e){var n=this;t=l(t);var r=new a(function(e,r){n.ready().then(function(){S(n._dbInfo,v,function(i,o){if(i)return r(i);try{var s=o.objectStore(n._dbInfo.storeName).delete(t);o.oncomplete=function(){e()},o.onerror=function(){r(s.error)},o.onabort=function(){var t=s.error?s.error:s.transaction.error;r(t)}}catch(t){r(t)}})}).catch(r)});return u(r,e),r},clear:function(t){var e=this,n=new a(function(t,n){e.ready().then(function(){S(e._dbInfo,v,function(r,i){if(r)return n(r);try{var o=i.objectStore(e._dbInfo.storeName).clear();i.oncomplete=function(){t()},i.onabort=i.onerror=function(){var t=o.error?o.error:o.transaction.error;n(t)}}catch(t){n(t)}})}).catch(n)});return u(n,t),n},length:function(t){var e=this,n=new a(function(t,n){e.ready().then(function(){S(e._dbInfo,m,function(r,i){if(r)return n(r);try{var o=i.objectStore(e._dbInfo.storeName).count();o.onsuccess=function(){t(o.result)},o.onerror=function(){n(o.error)}}catch(t){n(t)}})}).catch(n)});return u(n,t),n},key:function(t,e){var n=this,r=new a(function(e,r){t<0?e(null):n.ready().then(function(){S(n._dbInfo,m,function(i,o){if(i)return r(i);try{var s=o.objectStore(n._dbInfo.storeName),a=!1,u=s.openCursor();u.onsuccess=function(){var n=u.result;n?0===t?e(n.key):a?e(n.key):(a=!0,n.advance(t)):e(null)},u.onerror=function(){r(u.error)}}catch(t){r(t)}})}).catch(r)});return u(r,e),r},keys:function(t){var e=this,n=new a(function(t,n){e.ready().then(function(){S(e._dbInfo,m,function(r,i){if(r)return n(r);try{var o=i.objectStore(e._dbInfo.storeName).openCursor(),s=[];o.onsuccess=function(){var e=o.result;e?(s.push(e.key),e.continue()):t(s)},o.onerror=function(){n(o.error)}}catch(t){n(t)}})}).catch(n)});return u(n,t),n},dropInstance:function(t,e){e=h.apply(this,arguments);var n,r=this.config();if((t="function"!=typeof t&&t||{}).name||(t.name=t.name||r.name,t.storeName=t.storeName||r.storeName),t.name){var i=t.name===r.name&&this._dbInfo.db?a.resolve(this._dbInfo.db):x(t).then(function(e){var n=d[t.name],r=n.forages;n.db=e;for(var i=0;i<r.length;i++)r[i]._dbInfo.db=e;return e});n=t.storeName?i.then(function(e){if(e.objectStoreNames.contains(t.storeName)){var n=e.version+1;b(t);var r=d[t.name],i=r.forages;e.close();for(var s=0;s<i.length;s++){var u=i[s];u._dbInfo.db=null,u._dbInfo.version=n}return new a(function(e,r){var i=o.open(t.name,n);i.onerror=function(t){i.result.close(),r(t)},i.onupgradeneeded=function(){i.result.deleteObjectStore(t.storeName)},i.onsuccess=function(){var t=i.result;t.close(),e(t)}}).then(function(t){r.db=t;for(var e=0;e<i.length;e++){var n=i[e];n._dbInfo.db=t,w(n._dbInfo)}}).catch(function(e){throw(D(t,e)||a.resolve()).catch(function(){}),e})}}):i.then(function(e){b(t);var n=d[t.name],r=n.forages;e.close();for(var i=0;i<r.length;i++)r[i]._dbInfo.db=null;return new a(function(e,n){var r=o.deleteDatabase(t.name);r.onerror=r.onblocked=function(t){var e=r.result;e&&e.close(),n(t)},r.onsuccess=function(){var t=r.result;t&&t.close(),e(t)}}).then(function(t){n.db=t;for(var e=0;e<r.length;e++)w(r[e]._dbInfo)}).catch(function(e){throw(D(t,e)||a.resolve()).catch(function(){}),e})})}else n=a.reject("Invalid arguments");return u(n,e),n}};var O="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",B="~~local_forage_type~",N=/^~~local_forage_type~([^~]+)~/,I="__lfsc__:",R=I.length,j="arbf",P="blob",M="si08",L="ui08",z="uic8",$="si16",q="si32",U="ur16",V="ui32",H="fl32",W="fl64",K=R+j.length,G=Object.prototype.toString;function Y(t){var e,n,r,i,o,s=.75*t.length,a=t.length,u=0;"="===t[t.length-1]&&(s--,"="===t[t.length-2]&&s--);var c=new ArrayBuffer(s),l=new Uint8Array(c);for(e=0;e<a;e+=4)n=O.indexOf(t[e]),r=O.indexOf(t[e+1]),i=O.indexOf(t[e+2]),o=O.indexOf(t[e+3]),l[u++]=n<<2|r>>4,l[u++]=(15&r)<<4|i>>2,l[u++]=(3&i)<<6|63&o;return c}function X(t){var e,n=new Uint8Array(t),r="";for(e=0;e<n.length;e+=3)r+=O[n[e]>>2],r+=O[(3&n[e])<<4|n[e+1]>>4],r+=O[(15&n[e+1])<<2|n[e+2]>>6],r+=O[63&n[e+2]];return n.length%3==2?r=r.substring(0,r.length-1)+"=":n.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}var Q={serialize:function(t,e){var r="";if(t&&(r=G.call(t)),t&&("[object ArrayBuffer]"===r||t.buffer&&"[object ArrayBuffer]"===G.call(t.buffer))){var i,o=I;t instanceof ArrayBuffer?(i=t,o+=j):(i=t.buffer,"[object Int8Array]"===r?o+=M:"[object Uint8Array]"===r?o+=L:"[object Uint8ClampedArray]"===r?o+=z:"[object Int16Array]"===r?o+=$:"[object Uint16Array]"===r?o+=U:"[object Int32Array]"===r?o+=q:"[object Uint32Array]"===r?o+=V:"[object Float32Array]"===r?o+=H:"[object Float64Array]"===r?o+=W:e(new Error("Failed to get type for BinaryArray"))),e(o+X(i))}else if("[object Blob]"===r){var s=new FileReader;s.onload=function(){var n=B+t.type+"~"+X(this.result);e(I+P+n)},s.readAsArrayBuffer(t)}else try{e(JSON.stringify(t))}catch(r){n.error("Couldn't convert value into a JSON string: ",t),e(null,r)}},deserialize:function(t){if(t.substring(0,R)!==I)return JSON.parse(t);var e,n=t.substring(K),r=t.substring(R,K);if(r===P&&N.test(n)){var i=n.match(N);e=i[1],n=n.substring(i[0].length)}var o=Y(n);switch(r){case j:return o;case P:return s([o],{type:e});case M:return new Int8Array(o);case L:return new Uint8Array(o);case z:return new Uint8ClampedArray(o);case $:return new Int16Array(o);case U:return new Uint16Array(o);case q:return new Int32Array(o);case V:return new Uint32Array(o);case H:return new Float32Array(o);case W:return new Float64Array(o);default:throw new Error("Unkown type: "+r)}},stringToBuffer:Y,bufferToString:X};function J(t,e,n,r){t.executeSql("CREATE TABLE IF NOT EXISTS "+e.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function Z(t,e,n,r,i,o){t.executeSql(n,r,i,function(t,s){s.code===s.SYNTAX_ERR?t.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[e.storeName],function(t,a){a.rows.length?o(t,s):J(t,e,function(){t.executeSql(n,r,i,o)},o)},o):o(t,s)},o)}var tt={_driver:"webSQLStorage",_initStorage:function(t){var e=this,n={db:null};if(t)for(var r in t)n[r]="string"!=typeof t[r]?t[r].toString():t[r];var i=new a(function(t,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(t){return r(t)}n.db.transaction(function(i){J(i,n,function(){e._dbInfo=n,t()},function(t,e){r(e)})},r)});return n.serializer=Q,i},_support:"function"==typeof openDatabase,iterate:function(t,e){var n=this,r=new a(function(e,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){Z(n,i,"SELECT * FROM "+i.storeName,[],function(n,r){for(var o=r.rows,s=o.length,a=0;a<s;a++){var u=o.item(a),c=u.value;if(c&&(c=i.serializer.deserialize(c)),void 0!==(c=t(c,u.key,a+1)))return void e(c)}e()},function(t,e){r(e)})})}).catch(r)});return u(r,e),r},getItem:function(t,e){var n=this;t=l(t);var r=new a(function(e,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){Z(n,i,"SELECT * FROM "+i.storeName+" WHERE key = ? LIMIT 1",[t],function(t,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=i.serializer.deserialize(r)),e(r)},function(t,e){r(e)})})}).catch(r)});return u(r,e),r},setItem:function(t,e,n){return function t(e,n,r,i){var o=this;e=l(e);var s=new a(function(s,a){o.ready().then(function(){void 0===n&&(n=null);var u=n,c=o._dbInfo;c.serializer.serialize(n,function(n,l){l?a(l):c.db.transaction(function(t){Z(t,c,"INSERT OR REPLACE INTO "+c.storeName+" (key, value) VALUES (?, ?)",[e,n],function(){s(u)},function(t,e){a(e)})},function(n){if(n.code===n.QUOTA_ERR){if(i>0)return void s(t.apply(o,[e,u,r,i-1]));a(n)}})})}).catch(a)});return u(s,r),s}.apply(this,[t,e,n,1])},removeItem:function(t,e){var n=this;t=l(t);var r=new a(function(e,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){Z(n,i,"DELETE FROM "+i.storeName+" WHERE key = ?",[t],function(){e()},function(t,e){r(e)})})}).catch(r)});return u(r,e),r},clear:function(t){var e=this,n=new a(function(t,n){e.ready().then(function(){var r=e._dbInfo;r.db.transaction(function(e){Z(e,r,"DELETE FROM "+r.storeName,[],function(){t()},function(t,e){n(e)})})}).catch(n)});return u(n,t),n},length:function(t){var e=this,n=new a(function(t,n){e.ready().then(function(){var r=e._dbInfo;r.db.transaction(function(e){Z(e,r,"SELECT COUNT(key) as c FROM "+r.storeName,[],function(e,n){var r=n.rows.item(0).c;t(r)},function(t,e){n(e)})})}).catch(n)});return u(n,t),n},key:function(t,e){var n=this,r=new a(function(e,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){Z(n,i,"SELECT key FROM "+i.storeName+" WHERE id = ? LIMIT 1",[t+1],function(t,n){var r=n.rows.length?n.rows.item(0).key:null;e(r)},function(t,e){r(e)})})}).catch(r)});return u(r,e),r},keys:function(t){var e=this,n=new a(function(t,n){e.ready().then(function(){var r=e._dbInfo;r.db.transaction(function(e){Z(e,r,"SELECT key FROM "+r.storeName,[],function(e,n){for(var r=[],i=0;i<n.rows.length;i++)r.push(n.rows.item(i).key);t(r)},function(t,e){n(e)})})}).catch(n)});return u(n,t),n},dropInstance:function(t,e){e=h.apply(this,arguments);var n=this.config();(t="function"!=typeof t&&t||{}).name||(t.name=t.name||n.name,t.storeName=t.storeName||n.storeName);var r,i=this;return u(r=t.name?new a(function(e){var r;r=t.name===n.name?i._dbInfo.db:openDatabase(t.name,"","",0),t.storeName?e({db:r,storeNames:[t.storeName]}):e(function(t){return new a(function(e,n){t.transaction(function(r){r.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(n,r){for(var i=[],o=0;o<r.rows.length;o++)i.push(r.rows.item(o).name);e({db:t,storeNames:i})},function(t,e){n(e)})},function(t){n(t)})})}(r))}).then(function(t){return new a(function(e,n){t.db.transaction(function(r){function i(t){return new a(function(e,n){r.executeSql("DROP TABLE IF EXISTS "+t,[],function(){e()},function(t,e){n(e)})})}for(var o=[],s=0,u=t.storeNames.length;s<u;s++)o.push(i(t.storeNames[s]));a.all(o).then(function(){e()}).catch(function(t){n(t)})},function(t){n(t)})})}):a.reject("Invalid arguments"),e),r}};function et(t,e){var n=t.name+"/";return t.storeName!==e.storeName&&(n+=t.storeName+"/"),n}function nt(){return!function(){try{return localStorage.setItem("_localforage_support_test",!0),localStorage.removeItem("_localforage_support_test"),!1}catch(t){return!0}}()||localStorage.length>0}var rt={_driver:"localStorageWrapper",_initStorage:function(t){var e={};if(t)for(var n in t)e[n]=t[n];return e.keyPrefix=et(t,this._defaultConfig),nt()?(this._dbInfo=e,e.serializer=Q,a.resolve()):a.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(t){return!1}}(),iterate:function(t,e){var n=this,r=n.ready().then(function(){for(var e=n._dbInfo,r=e.keyPrefix,i=r.length,o=localStorage.length,s=1,a=0;a<o;a++){var u=localStorage.key(a);if(0===u.indexOf(r)){var c=localStorage.getItem(u);if(c&&(c=e.serializer.deserialize(c)),void 0!==(c=t(c,u.substring(i),s++)))return c}}});return u(r,e),r},getItem:function(t,e){var n=this;t=l(t);var r=n.ready().then(function(){var e=n._dbInfo,r=localStorage.getItem(e.keyPrefix+t);return r&&(r=e.serializer.deserialize(r)),r});return u(r,e),r},setItem:function(t,e,n){var r=this;t=l(t);var i=r.ready().then(function(){void 0===e&&(e=null);var n=e;return new a(function(i,o){var s=r._dbInfo;s.serializer.serialize(e,function(e,r){if(r)o(r);else try{localStorage.setItem(s.keyPrefix+t,e),i(n)}catch(t){"QuotaExceededError"!==t.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==t.name||o(t),o(t)}})})});return u(i,n),i},removeItem:function(t,e){var n=this;t=l(t);var r=n.ready().then(function(){var e=n._dbInfo;localStorage.removeItem(e.keyPrefix+t)});return u(r,e),r},clear:function(t){var e=this,n=e.ready().then(function(){for(var t=e._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(t)&&localStorage.removeItem(r)}});return u(n,t),n},length:function(t){var e=this.keys().then(function(t){return t.length});return u(e,t),e},key:function(t,e){var n=this,r=n.ready().then(function(){var e,r=n._dbInfo;try{e=localStorage.key(t)}catch(t){e=null}return e&&(e=e.substring(r.keyPrefix.length)),e});return u(r,e),r},keys:function(t){var e=this,n=e.ready().then(function(){for(var t=e._dbInfo,n=localStorage.length,r=[],i=0;i<n;i++){var o=localStorage.key(i);0===o.indexOf(t.keyPrefix)&&r.push(o.substring(t.keyPrefix.length))}return r});return u(n,t),n},dropInstance:function(t,e){if(e=h.apply(this,arguments),!(t="function"!=typeof t&&t||{}).name){var n=this.config();t.name=t.name||n.name,t.storeName=t.storeName||n.storeName}var r,i=this;return u(r=t.name?new a(function(e){t.storeName?e(et(t,i._defaultConfig)):e(t.name+"/")}).then(function(t){for(var e=localStorage.length-1;e>=0;e--){var n=localStorage.key(e);0===n.indexOf(t)&&localStorage.removeItem(n)}}):a.reject("Invalid arguments"),e),r}},it=function(t,e){for(var n,r,i=t.length,o=0;o<i;){if((n=t[o])===(r=e)||"number"==typeof n&&"number"==typeof r&&isNaN(n)&&isNaN(r))return!0;o++}return!1},ot=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},st={},at={},ut={INDEXEDDB:T,WEBSQL:tt,LOCALSTORAGE:rt},ct=[ut.INDEXEDDB._driver,ut.WEBSQL._driver,ut.LOCALSTORAGE._driver],lt=["dropInstance"],ht=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(lt),pt={description:"",driver:ct.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function ft(t,e){t[e]=function(){var n=arguments;return t.ready().then(function(){return t[e].apply(t,n)})}}function dt(){for(var t=1;t<arguments.length;t++){var e=arguments[t];if(e)for(var n in e)e.hasOwnProperty(n)&&(ot(e[n])?arguments[0][n]=e[n].slice():arguments[0][n]=e[n])}return arguments[0]}var gt=new(function(){function t(e){for(var n in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),ut)if(ut.hasOwnProperty(n)){var r=ut[n],i=r._driver;this[n]=i,st[i]||this.defineDriver(r)}this._defaultConfig=dt({},pt),this._config=dt({},this._defaultConfig,e),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return t.prototype.config=function(t){if("object"===(void 0===t?"undefined":i(t))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var e in t){if("storeName"===e&&(t[e]=t[e].replace(/\W/g,"_")),"version"===e&&"number"!=typeof t[e])return new Error("Database version must be a number.");this._config[e]=t[e]}return!("driver"in t&&t.driver)||this.setDriver(this._config.driver)}return"string"==typeof t?this._config[t]:this._config},t.prototype.defineDriver=function(t,e,r){var i=new a(function(e,r){try{var i=t._driver,o=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!t._driver)return void r(o);for(var s=ht.concat("_initStorage"),c=0,l=s.length;c<l;c++){var h=s[c];if((!it(lt,h)||t[h])&&"function"!=typeof t[h])return void r(o)}!function(){for(var e=function(t){return function(){var e=new Error("Method "+t+" is not implemented by the current driver"),n=a.reject(e);return u(n,arguments[arguments.length-1]),n}},n=0,r=lt.length;n<r;n++){var i=lt[n];t[i]||(t[i]=e(i))}}();var p=function(r){st[i]&&n.info("Redefining LocalForage driver: "+i),st[i]=t,at[i]=r,e()};"_support"in t?t._support&&"function"==typeof t._support?t._support().then(p,r):p(!!t._support):p(!0)}catch(t){r(t)}});return c(i,e,r),i},t.prototype.driver=function(){return this._driver||null},t.prototype.getDriver=function(t,e,n){var r=st[t]?a.resolve(st[t]):a.reject(new Error("Driver not found."));return c(r,e,n),r},t.prototype.getSerializer=function(t){var e=a.resolve(Q);return c(e,t),e},t.prototype.ready=function(t){var e=this,n=e._driverSet.then(function(){return null===e._ready&&(e._ready=e._initDriver()),e._ready});return c(n,t,t),n},t.prototype.setDriver=function(t,e,n){var r=this;ot(t)||(t=[t]);var i=this._getSupportedDrivers(t);function o(){r._config.driver=r.driver()}function s(t){return r._extend(t),o(),r._ready=r._initStorage(r._config),r._ready}var u=null!==this._driverSet?this._driverSet.catch(function(){return a.resolve()}):a.resolve();return this._driverSet=u.then(function(){var t=i[0];return r._dbInfo=null,r._ready=null,r.getDriver(t).then(function(t){r._driver=t._driver,o(),r._wrapLibraryMethodsWithReady(),r._initDriver=function(t){return function(){var e=0;return function n(){for(;e<t.length;){var i=t[e];return e++,r._dbInfo=null,r._ready=null,r.getDriver(i).then(s).catch(n)}o();var u=new Error("No available storage method found.");return r._driverSet=a.reject(u),r._driverSet}()}}(i)})}).catch(function(){o();var t=new Error("No available storage method found.");return r._driverSet=a.reject(t),r._driverSet}),c(this._driverSet,e,n),this._driverSet},t.prototype.supports=function(t){return!!at[t]},t.prototype._extend=function(t){dt(this,t)},t.prototype._getSupportedDrivers=function(t){for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n];this.supports(i)&&e.push(i)}return e},t.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0,e=ht.length;t<e;t++)ft(this,ht[t])},t.prototype.createInstance=function(e){return new t(e)},t}());e.exports=gt},{3:3}]},{},[4])(4)},t.exports=i()}).call(e,n(1),n(0))},function(t,e,n){var r=n(55),i=n(12),o=n(20),s=n(7)("socket.io-client");t.exports=e=u;var a=e.managers={};function u(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,i=r(t),u=i.source,c=i.id,l=i.path,h=a[c]&&l in a[c].nsps;return e.forceNew||e["force new connection"]||!1===e.multiplex||h?(s("ignoring socket cache for %s",u),n=o(u,e)):(a[c]||(s("new io instance for %s",u),a[c]=o(u,e)),n=a[c]),i.query&&!e.query&&(e.query=i.query),n.socket(i.path,e)}e.protocol=i.protocol,e.connect=u,e.Manager=n(20),e.Socket=n(26)},function(t,e,n){(function(e){var r=n(17),i=n(7)("socket.io-client:url");t.exports=function(t,n){var o=t;n=n||e.location,null==t&&(t=n.protocol+"//"+n.host);"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?n.protocol+t:n.host+t),/^(https?|wss?):\/\//.test(t)||(i("protocol-less url %s",t),t=void 0!==n?n.protocol+"//"+t:"https://"+t),i("parse %s",t),o=r(t));o.port||(/^(http|ws)$/.test(o.protocol)?o.port="80":/^(http|ws)s$/.test(o.protocol)&&(o.port="443"));o.path=o.path||"/";var s=-1!==o.host.indexOf(":")?"["+o.host+"]":o.host;return o.id=o.protocol+"://"+s+":"+o.port,o.href=o.protocol+"://"+s+(n&&n.port===o.port?"":":"+o.port),o}}).call(e,n(1))},function(t,e,n){(function(r){function i(t){var n;function i(){if(i.enabled){var t=i,o=+new Date,s=o-(n||o);t.diff=s,t.prev=n,t.curr=o,n=o;for(var a=new Array(arguments.length),u=0;u<a.length;u++)a[u]=arguments[u];a[0]=e.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var c=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;c++;var i=e.formatters[r];if("function"==typeof i){var o=a[c];n=i.call(t,o),a.splice(c,1),c--}return n}),e.formatArgs.call(t,a),(i.log||e.log||r.log.bind(r)).apply(t,a)}}return i.namespace=t,i.enabled=e.enabled(t),i.useColors=e.useColors(),i.color=function(t){var n,r=0;for(n in t)r=(r<<5)-r+t.charCodeAt(n),r|=0;return e.colors[Math.abs(r)%e.colors.length]}(t),i.destroy=o,"function"==typeof e.init&&e.init(i),e.instances.push(i),i}function o(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=t.exports=i.debug=i.default=i).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){var n;e.save(t),e.names=[],e.skips=[];var r=("string"==typeof t?t:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(t=r[n].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(n=0;n<e.instances.length;n++){var o=e.instances[n];o.enabled=e.enabled(o.namespace)}},e.enabled=function(t){if("*"===t[t.length-1])return!0;var n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=n(11),e.instances=[],e.names=[],e.skips=[],e.formatters={}}).call(e,n(0))},function(t,e,n){(function(r,i){function o(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==i&&"env"in i&&(t=i.env.DEBUG),t}(e=t.exports=n(58)).log=function(){return"object"==typeof r&&r.log&&Function.prototype.apply.call(r.log,r,arguments)},e.formatArgs=function(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),!n)return;var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var i=0,o=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&(i++,"%c"===t&&(o=i))}),t.splice(o,0,r)},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=o,e.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(o())}).call(e,n(0),n(6))},function(t,e,n){(function(r){function i(t){var n;function i(){if(i.enabled){var t=i,o=+new Date,s=o-(n||o);t.diff=s,t.prev=n,t.curr=o,n=o;for(var a=new Array(arguments.length),u=0;u<a.length;u++)a[u]=arguments[u];a[0]=e.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var c=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;c++;var i=e.formatters[r];if("function"==typeof i){var o=a[c];n=i.call(t,o),a.splice(c,1),c--}return n}),e.formatArgs.call(t,a),(i.log||e.log||r.log.bind(r)).apply(t,a)}}return i.namespace=t,i.enabled=e.enabled(t),i.useColors=e.useColors(),i.color=function(t){var n,r=0;for(n in t)r=(r<<5)-r+t.charCodeAt(n),r|=0;return e.colors[Math.abs(r)%e.colors.length]}(t),i.destroy=o,"function"==typeof e.init&&e.init(i),e.instances.push(i),i}function o(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=t.exports=i.debug=i.default=i).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){var n;e.save(t),e.names=[],e.skips=[];var r=("string"==typeof t?t:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(t=r[n].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(n=0;n<e.instances.length;n++){var o=e.instances[n];o.enabled=e.enabled(o.namespace)}},e.enabled=function(t){if("*"===t[t.length-1])return!0;var n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=n(11),e.instances=[],e.names=[],e.skips=[],e.formatters={}}).call(e,n(0))},function(t,e,n){(function(t){var r=n(18),i=n(19),o=Object.prototype.toString,s="function"==typeof t.Blob||"[object BlobConstructor]"===o.call(t.Blob),a="function"==typeof t.File||"[object FileConstructor]"===o.call(t.File);e.deconstructPacket=function(t){var e=[],n=t.data,o=t;return o.data=function t(e,n){if(!e)return e;if(i(e)){var o={_placeholder:!0,num:n.length};return n.push(e),o}if(r(e)){for(var s=new Array(e.length),a=0;a<e.length;a++)s[a]=t(e[a],n);return s}if("object"==typeof e&&!(e instanceof Date)){var s={};for(var u in e)s[u]=t(e[u],n);return s}return e}(n,e),o.attachments=e.length,{packet:o,buffers:e}},e.reconstructPacket=function(t,e){return t.data=function t(e,n){if(!e)return e;if(e&&e._placeholder)return n[e.num];if(r(e))for(var i=0;i<e.length;i++)e[i]=t(e[i],n);else if("object"==typeof e)for(var o in e)e[o]=t(e[o],n);return e}(t.data,e),t.attachments=void 0,t},e.removeBlobs=function(t,e){var n=0,o=t;!function t(u,c,l){if(!u)return u;if(s&&u instanceof Blob||a&&u instanceof File){n++;var h=new FileReader;h.onload=function(){l?l[c]=this.result:o=this.result,--n||e(o)},h.readAsArrayBuffer(u)}else if(r(u))for(var p=0;p<u.length;p++)t(u[p],p,u);else if("object"==typeof u&&!i(u))for(var f in u)t(u[f],f,u)}(o),n||e(o)}}).call(e,n(1))},function(t,e,n){t.exports=n(61),t.exports.parser=n(5)},function(t,e,n){(function(e){var r=n(21),i=n(4),o=n(10)("engine.io-client:socket"),s=n(25),a=n(5),u=n(17),c=n(8);function l(t,n){if(!(this instanceof l))return new l(t,n);n=n||{},t&&"object"==typeof t&&(n=t,t=null),t?(t=u(t),n.hostname=t.host,n.secure="https"===t.protocol||"wss"===t.protocol,n.port=t.port,t.query&&(n.query=t.query)):n.host&&(n.hostname=u(n.host).host),this.secure=null!=n.secure?n.secure:e.location&&"https:"===location.protocol,n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.agent=n.agent||!1,this.hostname=n.hostname||(e.location?location.hostname:"localhost"),this.port=n.port||(e.location&&location.port?location.port:this.secure?443:80),this.query=n.query||{},"string"==typeof this.query&&(this.query=c.decode(this.query)),this.upgrade=!1!==n.upgrade,this.path=(n.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!n.forceJSONP,this.jsonp=!1!==n.jsonp,this.forceBase64=!!n.forceBase64,this.enablesXDR=!!n.enablesXDR,this.timestampParam=n.timestampParam||"t",this.timestampRequests=n.timestampRequests,this.transports=n.transports||["polling","websocket"],this.transportOptions=n.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=n.policyPort||843,this.rememberUpgrade=n.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=n.onlyBinaryUpgrades,this.perMessageDeflate=!1!==n.perMessageDeflate&&(n.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=n.pfx||null,this.key=n.key||null,this.passphrase=n.passphrase||null,this.cert=n.cert||null,this.ca=n.ca||null,this.ciphers=n.ciphers||null,this.rejectUnauthorized=void 0===n.rejectUnauthorized||n.rejectUnauthorized,this.forceNode=!!n.forceNode;var r="object"==typeof e&&e;r.global===r&&(n.extraHeaders&&Object.keys(n.extraHeaders).length>0&&(this.extraHeaders=n.extraHeaders),n.localAddress&&(this.localAddress=n.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}t.exports=l,l.priorWebsocketSuccess=!1,i(l.prototype),l.protocol=a.protocol,l.Socket=l,l.Transport=n(14),l.transports=n(21),l.parser=n(5),l.prototype.createTransport=function(t){o('creating transport "%s"',t);var e=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}(this.query);e.EIO=a.protocol,e.transport=t;var n=this.transportOptions[t]||{};return this.id&&(e.sid=this.id),new r[t]({query:e,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0})},l.prototype.open=function(){var t;if(this.rememberUpgrade&&l.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length){var e=this;return void setTimeout(function(){e.emit("error","No transports available")},0)}t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(t){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},l.prototype.setTransport=function(t){o("setting transport %s",t.name);var e=this;this.transport&&(o("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",function(){e.onDrain()}).on("packet",function(t){e.onPacket(t)}).on("error",function(t){e.onError(t)}).on("close",function(){e.onClose("transport close")})},l.prototype.probe=function(t){o('probing transport "%s"',t);var e=this.createTransport(t,{probe:1}),n=!1,r=this;function i(){if(r.onlyBinaryUpgrades){var i=!this.supportsBinary&&r.transport.supportsBinary;n=n||i}n||(o('probe transport "%s" opened',t),e.send([{type:"ping",data:"probe"}]),e.once("packet",function(i){if(!n)if("pong"===i.type&&"probe"===i.data){if(o('probe transport "%s" pong',t),r.upgrading=!0,r.emit("upgrading",e),!e)return;l.priorWebsocketSuccess="websocket"===e.name,o('pausing current transport "%s"',r.transport.name),r.transport.pause(function(){n||"closed"!==r.readyState&&(o("changing transport and sending upgrade packet"),p(),r.setTransport(e),e.send([{type:"upgrade"}]),r.emit("upgrade",e),e=null,r.upgrading=!1,r.flush())})}else{o('probe transport "%s" failed',t);var s=new Error("probe error");s.transport=e.name,r.emit("upgradeError",s)}}))}function s(){n||(n=!0,p(),e.close(),e=null)}function a(n){var i=new Error("probe error: "+n);i.transport=e.name,s(),o('probe transport "%s" failed because of error: %s',t,n),r.emit("upgradeError",i)}function u(){a("transport closed")}function c(){a("socket closed")}function h(t){e&&t.name!==e.name&&(o('"%s" works - aborting "%s"',t.name,e.name),s())}function p(){e.removeListener("open",i),e.removeListener("error",a),e.removeListener("close",u),r.removeListener("close",c),r.removeListener("upgrading",h)}l.priorWebsocketSuccess=!1,e.once("open",i),e.once("error",a),e.once("close",u),this.once("close",c),this.once("upgrading",h),e.open()},l.prototype.onOpen=function(){if(o("socket open"),this.readyState="open",l.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){o("starting upgrade probes");for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])}},l.prototype.onPacket=function(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(o('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}else o('packet received with socket readyState "%s"',this.readyState)},l.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},l.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout(function(){"closed"!==e.readyState&&e.onClose("ping timeout")},t||e.pingInterval+e.pingTimeout)},l.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout(function(){o("writing ping packet - expecting pong within %sms",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)},t.pingInterval)},l.prototype.ping=function(){var t=this;this.sendPacket("ping",function(){t.emit("ping")})},l.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},l.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(o("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},l.prototype.write=l.prototype.send=function(t,e,n){return this.sendPacket("message",t,e,n),this},l.prototype.sendPacket=function(t,e,n,r){if("function"==typeof e&&(r=e,e=void 0),"function"==typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var i={type:t,data:e,options:n};this.emit("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}},l.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var t=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?r():e()}):this.upgrading?r():e()}function e(){t.onClose("forced close"),o("socket closing - telling transport to close"),t.transport.close()}function n(){t.removeListener("upgrade",n),t.removeListener("upgradeError",n),e()}function r(){t.once("upgrade",n),t.once("upgradeError",n)}return this},l.prototype.onError=function(t){o("socket error %j",t),l.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)},l.prototype.onClose=function(t,e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){o('socket close with reason: "%s"',t);clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e),this.writeBuffer=[],this.prevBufferLen=0}},l.prototype.filterUpgrades=function(t){for(var e=[],n=0,r=t.length;n<r;n++)~s(this.transports,t[n])&&e.push(t[n]);return e}}).call(e,n(1))},function(t,e){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){t.exports=!1}},function(t,e,n){(function(e){var r=n(13),i=n(22),o=n(4),s=n(9),a=n(10)("engine.io-client:polling-xhr");function u(){}function c(t){if(i.call(this,t),this.requestTimeout=t.requestTimeout,this.extraHeaders=t.extraHeaders,e.location){var n="https:"===location.protocol,r=location.port;r||(r=n?443:80),this.xd=t.hostname!==e.location.hostname||r!==t.port,this.xs=t.secure!==n}}function l(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.requestTimeout=t.requestTimeout,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders,this.create()}function h(){for(var t in l.requests)l.requests.hasOwnProperty(t)&&l.requests[t].abort()}t.exports=c,t.exports.Request=l,s(c,i),c.prototype.supportsBinary=!0,c.prototype.request=function(t){return(t=t||{}).uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,t.requestTimeout=this.requestTimeout,t.extraHeaders=this.extraHeaders,new l(t)},c.prototype.doWrite=function(t,e){var n="string"!=typeof t&&void 0!==t,r=this.request({method:"POST",data:t,isBinary:n}),i=this;r.on("success",e),r.on("error",function(t){i.onError("xhr post error",t)}),this.sendXhr=r},c.prototype.doPoll=function(){a("xhr poll");var t=this.request(),e=this;t.on("data",function(t){e.onData(t)}),t.on("error",function(t){e.onError("xhr poll error",t)}),this.pollXhr=t},o(l.prototype),l.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var n=this.xhr=new r(t),i=this;try{a("xhr open %s: %s",this.method,this.uri),n.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var o in n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(o)&&n.setRequestHeader(o,this.extraHeaders[o])}catch(t){}if("POST"===this.method)try{this.isBinary?n.setRequestHeader("Content-type","application/octet-stream"):n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}try{n.setRequestHeader("Accept","*/*")}catch(t){}"withCredentials"in n&&(n.withCredentials=!0),this.requestTimeout&&(n.timeout=this.requestTimeout),this.hasXDR()?(n.onload=function(){i.onLoad()},n.onerror=function(){i.onError(n.responseText)}):n.onreadystatechange=function(){if(2===n.readyState)try{var t=n.getResponseHeader("Content-Type");i.supportsBinary&&"application/octet-stream"===t&&(n.responseType="arraybuffer")}catch(t){}4===n.readyState&&(200===n.status||1223===n.status?i.onLoad():setTimeout(function(){i.onError(n.status)},0))},a("xhr data %s",this.data),n.send(this.data)}catch(t){return void setTimeout(function(){i.onError(t)},0)}e.document&&(this.index=l.requestsCount++,l.requests[this.index]=this)},l.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},l.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},l.prototype.onError=function(t){this.emit("error",t),this.cleanup(!0)},l.prototype.cleanup=function(t){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=u:this.xhr.onreadystatechange=u,t)try{this.xhr.abort()}catch(t){}e.document&&delete l.requests[this.index],this.xhr=null}},l.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type")}catch(t){}t="application/octet-stream"===e&&this.xhr.response||this.xhr.responseText}catch(t){this.onError(t)}null!=t&&this.onData(t)},l.prototype.hasXDR=function(){return void 0!==e.XDomainRequest&&!this.xs&&this.enablesXDR},l.prototype.abort=function(){this.cleanup()},l.requestsCount=0,l.requests={},e.document&&(e.attachEvent?e.attachEvent("onunload",h):e.addEventListener&&e.addEventListener("beforeunload",h,!1))}).call(e,n(1))},function(t,e){t.exports=Object.keys||function(t){var e=[],n=Object.prototype.hasOwnProperty;for(var r in t)n.call(t,r)&&e.push(r);return e}},function(t,e,n){"use strict";(function(t){var r=n(66),i=n(67),o=n(68);function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return h(this,t)}return c(this,t,e,n)}function c(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=p(t,e);return t}(t,e,n,r):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|d(e,n),i=(t=a(t,r)).write(e,n);i!==r&&(t=t.slice(0,i));return t}(t,e,n):function(t,e){if(u.isBuffer(e)){var n=0|f(e.length);return 0===(t=a(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?a(t,0):p(t,e);if("Buffer"===e.type&&o(e.data))return p(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,e){if(l(e),t=a(t,e<0?0:0|f(e)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function p(t,e){var n=e.length<0?0:0|f(e.length);t=a(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function f(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function d(t,e){if(u.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return z(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return $(t).length;default:if(r)return z(t).length;e=(""+e).toLowerCase(),r=!0}}function g(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function m(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=u.from(e,r)),u.isBuffer(e))return 0===e.length?-1:v(t,e,n,r,i);if("number"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):v(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function v(t,e,n,r,i){var o,s=1,a=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,u/=2,n/=2}function c(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var l=-1;for(o=n;o<a;o++)if(c(t,o)===c(e,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*s}else-1!==l&&(o-=o-l),l=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){for(var h=!0,p=0;p<u;p++)if(c(t,o+p)!==c(e,p)){h=!1;break}if(h)return o}return-1}function y(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[n+s]=a}return s}function b(t,e,n,r){return q(z(e,t.length-n),t,n,r)}function w(t,e,n,r){return q(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function D(t,e,n,r){return w(t,e,n,r)}function C(t,e,n,r){return q($(e),t,n,r)}function x(t,e,n,r){return q(function(t,e){for(var n,r,i,o=[],s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function E(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function A(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,s,a,u,c=t[i],l=null,h=c>239?4:c>223?3:c>191?2:1;if(i+h<=n)switch(h){case 1:c<128&&(l=c);break;case 2:128==(192&(o=t[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=t[i+1],s=t[i+2],128==(192&o)&&128==(192&s)&&(u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=t[i+1],s=t[i+2],a=t[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(l=u)}null===l?(l=65533,h=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=h}return function(t){var e=t.length;if(e<=F)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=F));return n}(r)}e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=s(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,n){return c(null,t,e,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,n){return function(t,e,n,r){return l(e),e<=0?a(t,e):void 0!==n?"string"==typeof r?a(t,e).fill(n,r):a(t,e).fill(n):a(t,e)}(null,t,e,n)},u.allocUnsafe=function(t){return h(null,t)},u.allocUnsafeSlow=function(t){return h(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=u.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var s=t[n];if(!u.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},u.byteLength=d,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?A(this,0,t):function(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return S(this,e,n);case"utf8":case"utf-8":return A(this,e,n);case"ascii":return _(this,e,n);case"latin1":case"binary":return k(this,e,n);case"base64":return E(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,n,r,i){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(e>>>=0),a=Math.min(o,s),c=this.slice(r,i),l=t.slice(e,n),h=0;h<a;++h)if(c[h]!==l[h]){o=c[h],s=l[h];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return m(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return m(this,t,e,n,!1)},u.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return y(this,t,e,n);case"utf8":case"utf-8":return b(this,t,e,n);case"ascii":return w(this,t,e,n);case"latin1":case"binary":return D(this,t,e,n);case"base64":return C(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var F=4096;function _(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function k(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function S(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=L(t[o]);return i}function T(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function O(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function B(t,e,n,r,i,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function N(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function I(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function R(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function j(t,e,n,r,o){return o||R(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function P(t,e,n,r,o){return o||R(t,0,n,8),i.write(t,e,n,r,52,8),n+8}u.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=u.prototype;else{var i=e-t;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},u.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||O(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},u.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||O(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},u.prototype.readUInt8=function(t,e){return e||O(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||O(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||O(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||O(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||O(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||O(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},u.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||O(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return e||O(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||O(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){e||O(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return e||O(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||O(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||O(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||O(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||O(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||O(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||B(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},u.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||B(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},u.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||B(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||B(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):N(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||B(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):N(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||B(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):I(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||B(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):I(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);B(this,t,e,n,i-1,-i)}var o=0,s=1,a=0;for(this[e]=255&t;++o<n&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},u.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);B(this,t,e,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||B(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||B(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):N(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||B(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):N(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||B(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):I(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||B(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):I(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,n){return j(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return j(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return P(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return P(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},u.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var s=u.isBuffer(t)?t:z(new u(t,r).toString()),a=s.length;for(o=0;o<n-e;++o)this[o+e]=s[o%a]}return this};var M=/[^+\/0-9A-Za-z-_]/g;function L(t){return t<16?"0"+t.toString(16):t.toString(16)}function z(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],s=0;s<r;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function $(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(M,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function q(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}}).call(e,n(1))},function(t,e,n){"use strict";e.byteLength=function(t){var e=c(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){for(var e,n=c(t),r=n[0],s=n[1],a=new o(function(t,e,n){return 3*(e+n)/4-n}(0,r,s)),u=0,l=s>0?r-4:r,h=0;h<l;h+=4)e=i[t.charCodeAt(h)]<<18|i[t.charCodeAt(h+1)]<<12|i[t.charCodeAt(h+2)]<<6|i[t.charCodeAt(h+3)],a[u++]=e>>16&255,a[u++]=e>>8&255,a[u++]=255&e;2===s&&(e=i[t.charCodeAt(h)]<<2|i[t.charCodeAt(h+1)]>>4,a[u++]=255&e);1===s&&(e=i[t.charCodeAt(h)]<<10|i[t.charCodeAt(h+1)]<<4|i[t.charCodeAt(h+2)]>>2,a[u++]=e>>8&255,a[u++]=255&e);return a},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],s=0,a=n-i;s<a;s+=16383)o.push(l(t,s,s+16383>a?a:s+16383));1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)r[a]=s[a],i[s.charCodeAt(a)]=a;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function l(t,e,n){for(var i,o,s=[],a=e;a<n;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,l=-7,h=n?i-1:0,p=n?-1:1,f=t[e+h];for(h+=p,o=f&(1<<-l)-1,f>>=-l,l+=a;l>0;o=256*o+t[e+h],h+=p,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+t[e+h],h+=p,l-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,r),o-=c}return(f?-1:1)*s*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,h=l>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,d=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+h>=1?p/u:p*Math.pow(2,1-h))*u>=2&&(s++,u/=2),s+h>=l?(a=0,s=l):s+h>=1?(a=(e*u-1)*Math.pow(2,i),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;t[n+f]=255&a,f+=d,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[n+f]=255&s,f+=d,s/=256,c-=8);t[n+f-d]|=128*g}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e){t.exports=function(t,e,n){var r=t.byteLength;if(e=e||0,n=n||r,t.slice)return t.slice(e,n);if(e<0&&(e+=r),n<0&&(n+=r),n>r&&(n=r),e>=r||e>=n||0===r)return new ArrayBuffer(0);for(var i=new Uint8Array(t),o=new Uint8Array(n-e),s=e,a=0;s<n;s++,a++)o[a]=i[s];return o.buffer}},function(t,e){function n(){}t.exports=function(t,e,r){var i=!1;return r=r||n,o.count=t,0===t?e():o;function o(t,n){if(o.count<=0)throw new Error("after called too many times");--o.count,t?(i=!0,e(t),e=r):0!==o.count||i||e(null,n)}}},function(t,e,n){(function(t,r){var i;!function(o){var s="object"==typeof e&&e,a=("object"==typeof t&&t&&t.exports,"object"==typeof r&&r);a.global!==a&&a.window;var u,c,l,h=String.fromCharCode;function p(t){for(var e,n,r=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(n=t.charCodeAt(i++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--):r.push(e);return r}function f(t,e){if(t>=55296&&t<=57343){if(e)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function d(t,e){return h(t>>e&63|128)}function g(t,e){if(0==(4294967168&t))return h(t);var n="";return 0==(4294965248&t)?n=h(t>>6&31|192):0==(4294901760&t)?(f(t,e)||(t=65533),n=h(t>>12&15|224),n+=d(t,6)):0==(4292870144&t)&&(n=h(t>>18&7|240),n+=d(t,12),n+=d(t,6)),n+=h(63&t|128)}function m(){if(l>=c)throw Error("Invalid byte index");var t=255&u[l];if(l++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function v(t){var e,n;if(l>c)throw Error("Invalid byte index");if(l==c)return!1;if(e=255&u[l],l++,0==(128&e))return e;if(192==(224&e)){if((n=(31&e)<<6|m())>=128)return n;throw Error("Invalid continuation byte")}if(224==(240&e)){if((n=(15&e)<<12|m()<<6|m())>=2048)return f(n,t)?n:65533;throw Error("Invalid continuation byte")}if(240==(248&e)&&(n=(7&e)<<18|m()<<12|m()<<6|m())>=65536&&n<=1114111)return n;throw Error("Invalid UTF-8 detected")}var y={version:"2.1.2",encode:function(t,e){for(var n=!1!==(e=e||{}).strict,r=p(t),i=r.length,o=-1,s="";++o<i;)s+=g(r[o],n);return s},decode:function(t,e){var n=!1!==(e=e||{}).strict;u=p(t),c=u.length,l=0;for(var r,i=[];!1!==(r=v(n));)i.push(r);return function(t){for(var e,n=t.length,r=-1,i="";++r<n;)(e=t[r])>65535&&(i+=h((e-=65536)>>>10&1023|55296),e=56320|1023&e),i+=h(e);return i}(i)}};void 0===(i=function(){return y}.call(e,n,e,t))||(t.exports=i)}()}).call(e,n(3)(t),n(1))},function(t,e){!function(){"use strict";for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),r=0;r<t.length;r++)n[t.charCodeAt(r)]=r;e.encode=function(e){var n,r=new Uint8Array(e),i=r.length,o="";for(n=0;n<i;n+=3)o+=t[r[n]>>2],o+=t[(3&r[n])<<4|r[n+1]>>4],o+=t[(15&r[n+1])<<2|r[n+2]>>6],o+=t[63&r[n+2]];return i%3==2?o=o.substring(0,o.length-1)+"=":i%3==1&&(o=o.substring(0,o.length-2)+"=="),o},e.decode=function(t){var e,r,i,o,s,a=.75*t.length,u=t.length,c=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var l=new ArrayBuffer(a),h=new Uint8Array(l);for(e=0;e<u;e+=4)r=n[t.charCodeAt(e)],i=n[t.charCodeAt(e+1)],o=n[t.charCodeAt(e+2)],s=n[t.charCodeAt(e+3)],h[c++]=r<<2|i>>4,h[c++]=(15&i)<<4|o>>2,h[c++]=(3&o)<<6|63&s;return l}}()},function(t,e,n){(function(e){var n=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder,r=function(){try{return 2===new Blob(["hi"]).size}catch(t){return!1}}(),i=r&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(t){return!1}}(),o=n&&n.prototype.append&&n.prototype.getBlob;function s(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.buffer instanceof ArrayBuffer){var r=n.buffer;if(n.byteLength!==r.byteLength){var i=new Uint8Array(n.byteLength);i.set(new Uint8Array(r,n.byteOffset,n.byteLength)),r=i.buffer}t[e]=r}}}function a(t,e){e=e||{};var r=new n;s(t);for(var i=0;i<t.length;i++)r.append(t[i]);return e.type?r.getBlob(e.type):r.getBlob()}function u(t,e){return s(t),new Blob(t,e||{})}t.exports=r?i?e.Blob:u:o?a:void 0}).call(e,n(1))},function(t,e,n){(function(r){function i(t){var n;function i(){if(i.enabled){var t=i,o=+new Date,s=o-(n||o);t.diff=s,t.prev=n,t.curr=o,n=o;for(var a=new Array(arguments.length),u=0;u<a.length;u++)a[u]=arguments[u];a[0]=e.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var c=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;c++;var i=e.formatters[r];if("function"==typeof i){var o=a[c];n=i.call(t,o),a.splice(c,1),c--}return n}),e.formatArgs.call(t,a),(i.log||e.log||r.log.bind(r)).apply(t,a)}}return i.namespace=t,i.enabled=e.enabled(t),i.useColors=e.useColors(),i.color=function(t){var n,r=0;for(n in t)r=(r<<5)-r+t.charCodeAt(n),r|=0;return e.colors[Math.abs(r)%e.colors.length]}(t),i.destroy=o,"function"==typeof e.init&&e.init(i),e.instances.push(i),i}function o(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=t.exports=i.debug=i.default=i).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){var n;e.save(t),e.names=[],e.skips=[];var r=("string"==typeof t?t:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(t=r[n].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(n=0;n<e.instances.length;n++){var o=e.instances[n];o.enabled=e.enabled(o.namespace)}},e.enabled=function(t){if("*"===t[t.length-1])return!0;var n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=n(11),e.instances=[],e.names=[],e.skips=[],e.formatters={}}).call(e,n(0))},function(t,e,n){(function(e){var r=n(22),i=n(9);t.exports=c;var o,s=/\n/g,a=/\\n/g;function u(){}function c(t){r.call(this,t),this.query=this.query||{},o||(e.___eio||(e.___eio=[]),o=e.___eio),this.index=o.length;var n=this;o.push(function(t){n.onData(t)}),this.query.j=this.index,e.document&&e.addEventListener&&e.addEventListener("beforeunload",function(){n.script&&(n.script.onerror=u)},!1)}i(c,r),c.prototype.supportsBinary=!1,c.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),r.prototype.doClose.call(this)},c.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(e,n):(document.head||document.body).appendChild(e),this.script=e,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)},100)},c.prototype.doWrite=function(t,e){var n=this;if(!this.form){var r,i=document.createElement("form"),o=document.createElement("textarea"),u=this.iframeId="eio_iframe_"+this.index;i.className="socketio",i.style.position="absolute",i.style.top="-1000px",i.style.left="-1000px",i.target=u,i.method="POST",i.setAttribute("accept-charset","utf-8"),o.name="d",i.appendChild(o),document.body.appendChild(i),this.form=i,this.area=o}function c(){l(),e()}function l(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(t){n.onError("jsonp polling iframe removal error",t)}try{var t='<iframe src="javascript:0" name="'+n.iframeId+'">';r=document.createElement(t)}catch(t){(r=document.createElement("iframe")).name=n.iframeId,r.src="javascript:0"}r.id=n.iframeId,n.form.appendChild(r),n.iframe=r}this.form.action=this.uri(),l(),t=t.replace(a,"\\\n"),this.area.value=t.replace(s,"\\n");try{this.form.submit()}catch(t){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&c()}:this.iframe.onload=c}}).call(e,n(1))},function(t,e,n){(function(e){var r,i=n(14),o=n(5),s=n(8),a=n(9),u=n(24),c=n(10)("engine.io-client:websocket"),l=e.WebSocket||e.MozWebSocket;if("undefined"==typeof window)try{r=n(78)}catch(t){}var h=l;function p(t){t&&t.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=t.perMessageDeflate,this.usingBrowserWebSocket=l&&!t.forceNode,this.protocols=t.protocols,this.usingBrowserWebSocket||(h=r),i.call(this,t)}h||"undefined"!=typeof window||(h=r),t.exports=p,a(p,i),p.prototype.name="websocket",p.prototype.supportsBinary=!0,p.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e=this.protocols,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?e?new h(t,e):new h(t):new h(t,e,n)}catch(t){return this.emit("error",t)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},p.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},p.prototype.write=function(t){var n=this;this.writable=!1;for(var r=t.length,i=0,s=r;i<s;i++)!function(t){o.encodePacket(t,n.supportsBinary,function(i){if(!n.usingBrowserWebSocket){var o={};if(t.options&&(o.compress=t.options.compress),n.perMessageDeflate)("string"==typeof i?e.Buffer.byteLength(i):i.length)<n.perMessageDeflate.threshold&&(o.compress=!1)}try{n.usingBrowserWebSocket?n.ws.send(i):n.ws.send(i,o)}catch(t){c("websocket closed before onclose event")}--r||a()})}(t[i]);function a(){n.emit("flush"),setTimeout(function(){n.writable=!0,n.emit("drain")},0)}},p.prototype.onClose=function(){i.prototype.onClose.call(this)},p.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},p.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",n="";return this.port&&("wss"===e&&443!==Number(this.port)||"ws"===e&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=u()),this.supportsBinary||(t.b64=1),(t=s.encode(t)).length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+t},p.prototype.check=function(){return!(!h||"__initialize"in h&&this.name===p.prototype.name)}}).call(e,n(1))},function(t,e){},function(t,e){t.exports=function(t,e){for(var n=[],r=(e=e||0)||0;r<t.length;r++)n[r-e]=t[r];return n}},function(t,e){function n(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}t.exports=n,n.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(t){this.ms=t},n.prototype.setMax=function(t){this.max=t},n.prototype.setJitter=function(t){this.jitter=t}}]);